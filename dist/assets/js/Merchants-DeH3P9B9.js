import{d as e,r as a,f as t,c as l,o as i,a0 as n,k as c,Y as s,u as d,X as u,Z as r,G as o,a1 as m,_ as v,W as p,a4 as h,$ as f,F as y,a2 as C,B as S}from"./vue-vendor-B-98Oggh.js";import{v as b}from"./vendor-Dyo7sIqZ.js";import{b as T,d as k,P as g}from"./ant-design-CqfBI87A.js";import{_}from"./index-DY7jNa2a.js";import"./lodash-CiXSdKEp.js";const M={title:{queryCondition:"查詢條件",merchantManagement:"商戶管理",addMerchant:"新增商戶",editMerchant:"編輯商戶",merchantInfo:"商戶資訊",merchantPermission:"商戶權限"},field:{name:"商戶名稱",code:"商戶代碼",status:"狀態",updateTime:"更新時間",action:"操作",privateKey:"私鑰",retryCount:"重試次數",depositStatus:"充值狀態",withdrawStatus:"提現狀態",availableCurrencies:"可用幣種",currencies:"幣種列表"},action:{search:"搜尋",add:"新增",edit:"編輯",delete:"刪除",generateKey:"生成",selectAll:"全選"},status:{active:"啟用",inactive:"停用"},prompt:{inputName:"請輸入商戶名稱",inputCode:"請輸入商戶代碼",selectStatus:"請選擇狀態"},validation:{nameRequired:"請輸入商戶名稱",codeRequired:"請輸入商戶代碼",statusRequired:"請選擇狀態",retryCountRequired:"請輸入重試次數"},message:{generateKeySuccess:"私鑰生成成功",deleteSuccess:"刪除成功",saveSuccess:"儲存成功",fetchError:"獲取資料失敗"}},w={title:{queryCondition:"Query Condition",merchantManagement:"Merchant Management",addMerchant:"Add Merchant",editMerchant:"Edit Merchant",merchantInfo:"Merchant Information",merchantPermission:"Merchant Permission"},field:{name:"Merchant Name",code:"Merchant Code",status:"Status",updateTime:"Update Time",action:"Action",privateKey:"Private Key",retryCount:"Retry Count",depositStatus:"Deposit Status",withdrawStatus:"Withdraw Status",availableCurrencies:"Available Currencies",currencies:"Currency List"},action:{search:"Search",add:"Add",edit:"Edit",delete:"Delete",generateKey:"Generate",selectAll:"Select All"},status:{active:"Active",inactive:"Inactive"},prompt:{inputName:"Please input merchant name",inputCode:"Please input merchant code",selectStatus:"Please select status"},validation:{nameRequired:"Please input merchant name",codeRequired:"Please input merchant code",statusRequired:"Please select status",retryCountRequired:"Please input retry count"},message:{generateKeySuccess:"Private key generated successfully",deleteSuccess:"Delete successful",saveSuccess:"Save successful",fetchError:"Failed to fetch data"}},E={merchantList:[{id:"M001",name:"測試商戶1",code:"TEST001",status:"active",updateTime:"2024-01-22 10:30:45"},{id:"M002",name:"測試商戶2",code:"TEST002",status:"inactive",updateTime:"2024-01-22 09:15:30"},{id:"M003",name:"測試商戶3",code:"TEST003",status:"active",updateTime:"2024-01-21 16:45:20"},{id:"M004",name:"測試商戶4",code:"TEST004",status:"active",updateTime:"2024-01-21 14:20:10"},{id:"M005",name:"測試商戶5",code:"TEST005",status:"inactive",updateTime:"2024-01-20 17:55:40"},{id:"M006",name:"測試商戶6",code:"TEST006",status:"active",updateTime:"2024-01-20 11:30:25"},{id:"M007",name:"測試商戶7",code:"TEST007",status:"active",updateTime:"2024-01-19 15:40:35"},{id:"M008",name:"測試商戶8",code:"TEST008",status:"inactive",updateTime:"2024-01-19 09:25:15"},{id:"M009",name:"測試商戶9",code:"TEST009",status:"active",updateTime:"2024-01-18 16:50:30"},{id:"M010",name:"測試商戶10",code:"TEST010",status:"active",updateTime:"2024-01-18 13:15:50"}]},A=[{code:"BTC",name:"Bitcoin"},{code:"ETH",name:"Ethereum"},{code:"USDT",name:"Tether"},{code:"BNB",name:"Binance Coin"},{code:"SOL",name:"Solana"},{code:"XRP",name:"Ripple"},{code:"ADA",name:"Cardano"},{code:"DOGE",name:"Dogecoin"},{code:"AVAX",name:"Avalanche"},{code:"DOT",name:"Polkadot"},{code:"MATIC",name:"Polygon"},{code:"UNI",name:"Uniswap"},{code:"LTC",name:"Litecoin"},{code:"LINK",name:"Chainlink"},{code:"ATOM",name:"Cosmos"},{code:"XLM",name:"Stellar"},{code:"NEAR",name:"NEAR Protocol"},{code:"ALGO",name:"Algorand"},{code:"FTM",name:"Fantom"},{code:"VET",name:"VeChain"},{code:"HBAR",name:"Hedera"},{code:"FIL",name:"Filecoin"},{code:"EOS",name:"EOS"},{code:"XTZ",name:"Tezos"},{code:"AAVE",name:"Aave"},{code:"EGLD",name:"MultiversX"},{code:"XMR",name:"Monero"},{code:"CAKE",name:"PancakeSwap"},{code:"NEO",name:"NEO"},{code:"QTUM",name:"Qtum"}],U={class:"merchants-container"},R={class:"table-container"},D={class:"currency-grid"},K={class:"select-all-wrapper"},q={class:"currency-columns"},P={class:"chain-type-list"},I=["onClick"],x={class:"chain-type-name"},O={class:"currency-list"},$={class:"currency-list-header"},B={class:"currency-list-content"},L=_(e({__name:"Merchants",setup(e){const _={zh:M,en:w},{t:L}=b({messages:_,legacy:!1}),N=[{title:L("field.name"),dataIndex:"name",key:"name"},{title:L("field.code"),dataIndex:"code",key:"code"},{title:L("field.status"),dataIndex:"status",key:"status"},{title:L("field.updateTime"),dataIndex:"updateTime",key:"updateTime"},{title:L("field.action"),key:"action",fixed:"right",width:150}],j=a({name:"",status:void 0}),X=t(E.merchantList),F=t(!1),z=t(!1),H=t(""),G=t(),Q=t(1);t(A);const V=a({id:"",name:"",code:"",status:"active",updateTime:"",retryCount:3,depositStatus:!0,withdrawStatus:!0,availableCurrencies:[]}),W={name:[{required:!0,message:L("validation.nameRequired")}],code:[{required:!0,message:L("validation.codeRequired")}],status:[{required:!0,message:L("validation.statusRequired")}],retryCount:[{required:!0,message:L("validation.retryCountRequired")}]},Z=a({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0}),J=()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let t=0;t<32;t++)a+=e.charAt(Math.floor(62*Math.random()));V.privateKey=a,T.success(L("message.generateKeySuccess"))},Y=()=>{const e=E.merchantList.filter((e=>!(j.name&&!e.name.includes(j.name))&&(!j.status||e.status===j.status)));X.value=e},ee=()=>{H.value=L("title.addMerchant"),Object.assign(V,{id:"",name:"",code:"",status:"active",updateTime:"",retryCount:3,depositStatus:!0,withdrawStatus:!0,availableCurrencies:[]}),z.value=!0,Q.value=1},ae=async()=>{try{await G.value.validate(),T.success(L("message.saveSuccess")),z.value=!1}catch(e){}},te=()=>{var e;null==(e=G.value)||e.resetFields(),z.value=!1},le=e=>{Z.current=e.current,Z.pageSize=e.pageSize,ie()},ie=async()=>{F.value=!0;try{X.value=E.merchantList,F.value=!1}catch(e){T.error(L("message.fetchError")),F.value=!1}},ne=["BSC","ETH","TRX","BTC"],ce={BSC:["USDT","USDC","BUSD","DAI"],ETH:["USDT","USDC","DAI"],TRX:["USDT","USDC"],BTC:["BTC"]},se=e=>ce[e].map((a=>`${e}_${a}`)).every((e=>V.availableCurrencies.includes(e))),de=e=>{const a=ce[e].map((a=>`${e}_${a}`)),t=a.filter((e=>V.availableCurrencies.includes(e))).length;return t>0&&t<a.length},ue=l((()=>Object.values(ce).flat().map(((e,a)=>`${a}_${e}`)).every((e=>V.availableCurrencies.includes(e))))),re=l((()=>{const e=Object.values(ce).flat().map(((e,a)=>`${a}_${e}`)),a=e.filter((e=>V.availableCurrencies.includes(e))).length;return a>0&&a<e.length})),oe=e=>{if(e.target.checked){const e=Object.entries(ce).flatMap((([e,a])=>a.map((a=>`${e}_${a}`))));V.availableCurrencies=e}else V.availableCurrencies=[]},me=t(ne[0]);return i((()=>{ie()})),(e,a)=>{const t=u("a-input"),l=u("a-form-item"),i=u("a-select-option"),b=u("a-select"),_=u("a-button"),M=u("a-form"),w=u("a-card"),E=u("a-space"),A=u("a-table"),ie=u("a-input-group"),ve=u("a-input-number"),pe=u("a-tab-pane"),he=u("a-switch"),fe=u("a-checkbox"),ye=u("a-checkbox-group"),Ce=u("a-tabs"),Se=u("a-modal");return r(),n("div",U,[c(w,{title:d(L)("title.queryCondition"),bordered:!1,class:"filter-card"},{default:s((()=>[c(M,{layout:"inline",model:j,class:"query-form"},{default:s((()=>[c(l,{label:d(L)("field.name"),class:"form-item"},{default:s((()=>[c(t,{value:j.name,"onUpdate:value":a[0]||(a[0]=e=>j.name=e),placeholder:d(L)("prompt.inputName"),"allow-clear":"",style:{width:"200px"}},null,8,["value","placeholder"])])),_:1},8,["label"]),c(l,{label:d(L)("field.status"),class:"form-item"},{default:s((()=>[c(b,{value:j.status,"onUpdate:value":a[1]||(a[1]=e=>j.status=e),placeholder:d(L)("prompt.selectStatus"),style:{width:"200px"},"allow-clear":""},{default:s((()=>[c(i,{value:"active"},{default:s((()=>[o(m(d(L)("status.active")),1)])),_:1}),c(i,{value:"inactive"},{default:s((()=>[o(m(d(L)("status.inactive")),1)])),_:1})])),_:1},8,["value","placeholder"])])),_:1},8,["label"]),c(l,{class:"form-item"},{default:s((()=>[c(_,{type:"primary",onClick:Y},{icon:s((()=>[c(d(k))])),default:s((()=>[o(" "+m(d(L)("action.search")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title"]),c(w,{title:d(L)("title.merchantManagement"),bordered:!1,class:"table-card"},{extra:s((()=>[c(_,{type:"primary",onClick:ee},{icon:s((()=>[c(d(g))])),default:s((()=>[o(" "+m(d(L)("action.add")),1)])),_:1})])),default:s((()=>[v("div",R,[c(A,{columns:N,"data-source":X.value,loading:F.value,rowKey:"id",pagination:Z,bordered:!0,onChange:le},{bodyCell:s((({column:e,record:a})=>["action"===e.key?(r(),p(E,{key:0},{default:s((()=>[c(_,{type:"link",onClick:e=>(e=>{H.value=L("title.editMerchant"),Object.assign(V,{...e,depositStatus:!0,withdrawStatus:!0,availableCurrencies:["BSC_USDT","ETH_USDT","TRX_USDT"]}),z.value=!0,Q.value=1})(a)},{default:s((()=>[o(m(d(L)("action.edit")),1)])),_:2},1032,["onClick"]),c(_,{type:"link",danger:"",onClick:e=>(async()=>{T.success(L("message.deleteSuccess"))})()},{default:s((()=>[o(m(d(L)("action.delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)):"status"===e.key?(r(),n("span",{key:1,class:f(["status-tag","active"===a.status?"status-enabled":"status-disabled"])},m(d(L)(`status.${a.status}`)),3)):h("",!0)])),_:1},8,["data-source","loading","pagination"])])])),_:1},8,["title"]),c(Se,{open:z.value,"onUpdate:open":a[11]||(a[11]=e=>z.value=e),title:H.value,onOk:ae,onCancel:te,width:"800px"},{default:s((()=>[c(Ce,{activeKey:Q.value,"onUpdate:activeKey":a[10]||(a[10]=e=>Q.value=e)},{default:s((()=>[(r(),p(pe,{key:1,tab:d(L)("title.merchantInfo")},{default:s((()=>[c(M,{ref_key:"formRef",ref:G,model:V,rules:W,"label-col":{span:6},"wrapper-col":{span:16}},{default:s((()=>[c(l,{label:d(L)("field.name"),name:"name"},{default:s((()=>[c(t,{value:V.name,"onUpdate:value":a[2]||(a[2]=e=>V.name=e),placeholder:d(L)("prompt.inputName")},null,8,["value","placeholder"])])),_:1},8,["label"]),c(l,{label:d(L)("field.code"),name:"code"},{default:s((()=>[c(t,{value:V.code,"onUpdate:value":a[3]||(a[3]=e=>V.code=e),placeholder:d(L)("prompt.inputCode")},null,8,["value","placeholder"])])),_:1},8,["label"]),c(l,{label:d(L)("field.status"),name:"status"},{default:s((()=>[c(b,{value:V.status,"onUpdate:value":a[4]||(a[4]=e=>V.status=e),placeholder:d(L)("prompt.selectStatus")},{default:s((()=>[c(i,{value:"active"},{default:s((()=>[o(m(d(L)("status.active")),1)])),_:1}),c(i,{value:"inactive"},{default:s((()=>[o(m(d(L)("status.inactive")),1)])),_:1})])),_:1},8,["value","placeholder"])])),_:1},8,["label"]),c(l,{label:d(L)("field.privateKey"),name:"privateKey"},{default:s((()=>[c(ie,{compact:""},{default:s((()=>[c(t,{value:V.privateKey,"onUpdate:value":a[5]||(a[5]=e=>V.privateKey=e),placeholder:d(L)("field.privateKey"),style:{width:"calc(100% - 110px)"},readonly:""},null,8,["value","placeholder"]),c(_,{type:"primary",onClick:J},{default:s((()=>[o(m(d(L)("action.generateKey")),1)])),_:1})])),_:1})])),_:1},8,["label"]),c(l,{label:d(L)("field.retryCount"),name:"retryCount"},{default:s((()=>[c(ve,{value:V.retryCount,"onUpdate:value":a[6]||(a[6]=e=>V.retryCount=e),min:0,max:10,style:{width:"100%"}},null,8,["value"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["tab"])),(r(),p(pe,{key:2,tab:d(L)("title.merchantPermission")},{default:s((()=>[c(M,{model:V,"label-col":{span:6},"wrapper-col":{span:16}},{default:s((()=>[c(l,{label:d(L)("field.depositStatus"),name:"depositStatus"},{default:s((()=>[c(he,{checked:V.depositStatus,"onUpdate:checked":a[7]||(a[7]=e=>V.depositStatus=e),"checked-children":d(L)("status.active"),"un-checked-children":d(L)("status.inactive")},null,8,["checked","checked-children","un-checked-children"])])),_:1},8,["label"]),c(l,{label:d(L)("field.withdrawStatus"),name:"withdrawStatus"},{default:s((()=>[c(he,{checked:V.withdrawStatus,"onUpdate:checked":a[8]||(a[8]=e=>V.withdrawStatus=e),"checked-children":d(L)("status.active"),"un-checked-children":d(L)("status.inactive")},null,8,["checked","checked-children","un-checked-children"])])),_:1},8,["label"]),c(l,{label:d(L)("field.availableCurrencies"),name:"availableCurrencies"},{default:s((()=>{return[v("div",D,[v("div",K,[c(fe,{checked:ue.value,indeterminate:re.value,onChange:oe},{default:s((()=>[o(m(d(L)("action.selectAll")),1)])),_:1},8,["checked","indeterminate"])]),v("div",q,[v("div",P,[(r(),n(y,null,C(ne,(e=>v("div",{key:e,class:f(["chain-type-item",{active:me.value===e}]),onClick:a=>(e=>{me.value=e})(e)},[v("span",x,m(e),1),c(fe,{checked:se(e),indeterminate:de(e),onClick:S((a=>((e,a)=>{const t=ce[a].map((e=>`${a}_${e}`));if(e.target.checked){const e=[...new Set([...V.availableCurrencies,...t])];V.availableCurrencies=e}else V.availableCurrencies=V.availableCurrencies.filter((e=>!t.includes(e)))})(a,e)),["stop"])},null,8,["checked","indeterminate","onClick"])],10,I))),64))]),v("div",O,[v("div",$,m(me.value)+" "+m(d(L)("field.currencies")),1),v("div",B,[c(ye,{value:V.availableCurrencies,"onUpdate:value":a[9]||(a[9]=e=>V.availableCurrencies=e),options:(e=me.value,ce[e].map((a=>({label:a,value:`${e}_${a}`}))))},null,8,["value","options"])])])])])];var e})),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["tab"]))])),_:1},8,["activeKey"])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-ac9482f3"]]);export{L as default};
