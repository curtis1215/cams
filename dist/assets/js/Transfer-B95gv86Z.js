import{v as e}from"./vendor-BhfxMwoc.js";import{c as a,b as l,d as t}from"./ant-design-0M0Sv-BJ.js";import{d as s,r,f as n,c as i,l as d,o as c,a0 as u,k as o,Y as f,X as v,u as p,Z as m,a4 as y,_ as T,a1 as h,F as b,a2 as w,G as C,$ as S,W as _}from"./vue-vendor-B-98Oggh.js";import{_ as W}from"./index-D1LDp_gy.js";import"./lodash-CiXSdKEp.js";const I={title:{fromWalletInfo:"轉出錢包資訊",toWalletInfo:"轉入錢包資訊",fromWalletDetail:"轉出錢包詳情",toWalletDetail:"轉入錢包詳情",fromWalletList:"轉出錢包列表",toWalletList:"轉入錢包列表",fromCoinList:"轉出幣種列表",toCoinList:"轉入幣種列表",fromWalletSelection:"轉出錢包選擇",toWalletSelection:"轉入錢包選擇",transferInfo:"轉帳資訊",transferQueryTitle:"轉帳申請查詢",transferList:"轉帳列表",auditOperation:"審核操作",auditDetail:"審核詳情"},field:{transferOrderId:"錢包轉賬單號",fromAddress:"來源地址",fromChainType:"轉出鏈類型",fromCurrency:"轉出幣種",toWallet:"轉入錢包",toAddress:"目標地址",toChainType:"轉入鏈類型",toCurrency:"轉入幣種",transferAmount:"轉帳數量",maxAmount:"最大數量",auditOperation:"審核操作",auditReason:"審核原因",merchant:"商戶",chainType:"鏈類型",walletType:"錢包類型",currency:"幣種",address:"地址",walletAddress:"錢包地址",createTime:"創建時間",auditTime:"審核時間",auditStatus:"審核狀態",typeLabel:"類型",action:"操作"},balance:{current:"當前餘額",availableOutflow:"可轉出數量",availableInflow:"可轉入數量"},transferStatus:{label:"轉帳狀態",submitted:"已提交",onchain:"上鏈中",confirming:"確認中",completed:"已完成",failed:"失敗"},prompt:{pleaseSelectFromAndToWallet:"請選擇轉出和轉入錢包",pleaseSelectWallet:"請先選擇錢包",pleaseSelectCoin:"請先選擇幣種",pleaseInputTransferAmount:"請輸入轉帳數量",confirmTransfer:"確認轉帳",transferRequestSubmitted:"轉帳申請已提交",transferFailed:"轉帳失敗",pleaseSelectAuditOperation:"請選擇審核操作",pleaseInputAuditReason:"請輸入審核原因",auditSuccess:"審核成功",auditFailed:"審核失敗",pleaseInputAddress:"請輸入地址",pleaseInputWalletAddress:"請輸入錢包地址",selectMerchant:"請選擇商戶",selectChainType:"請選擇鏈類型",selectCurrency:"請選擇幣種",clickSearchToLoadWallets:"請點擊搜尋按鈕載入錢包列表"},action:{search:"搜索",transfer:"轉帳",audit:"審核",detail:"詳情",reset:"重置"},auditStatus:{pending:"待審核",approved:"已通過",rejected:"已拒絕"}},k={title:{fromWalletInfo:"From Wallet Info",toWalletInfo:"To Wallet Info",fromWalletDetail:"From Wallet Detail",toWalletDetail:"To Wallet Detail",fromWalletList:"From Wallet List",toWalletList:"To Wallet List",fromCoinList:"From Coin List",toCoinList:"To Coin List",fromWalletSelection:"From Wallet Selection",toWalletSelection:"To Wallet Selection",transferInfo:"Transfer Info",transferQueryTitle:"Transfer Request Query",transferList:"Transfer List",auditOperation:"Audit Operation",auditDetail:"Audit Detail"},field:{transferOrderId:"Transfer Order ID",fromWalletId:"From Wallet ID",fromChainType:"From Chain Type",fromCurrency:"From Currency",toWallet:"To Wallet",toWalletId:"To Wallet ID",toChainType:"To Chain Type",toCurrency:"To Currency",transferAmount:"Transfer Amount",maxAmount:"Max Amount",auditOperation:"Audit Operation",auditReason:"Audit Reason",merchant:"Merchant",chainType:"Chain Type",walletType:"Wallet Type",currency:"Currency",address:"Address",walletAddress:"Wallet Address",createTime:"Create Time",auditTime:"Audit Time",auditStatus:"Audit Status",typeLabel:"Type",action:"Action"},balance:{current:"Current Balance",availableOutflow:"Available Outflow",availableInflow:"Available Inflow"},transferStatus:{label:"Transfer Status",submitted:"Submitted",onchain:"On Chain",confirming:"Confirming",completed:"Completed",failed:"Failed"},prompt:{pleaseSelectFromAndToWallet:"Please select from and to wallet",pleaseSelectWallet:"Please select a wallet first",pleaseSelectCoin:"Please select a coin first",pleaseInputTransferAmount:"Please input transfer amount",confirmTransfer:"Confirm Transfer",transferRequestSubmitted:"Transfer request submitted",transferFailed:"Transfer failed",pleaseSelectAuditOperation:"Please select audit operation",pleaseInputAuditReason:"Please input audit reason",auditSuccess:"Audit success",auditFailed:"Audit failed",pleaseInputAddress:"Please input address",selectMerchant:"Please select merchant",selectChainType:"Please select chain type",selectCurrency:"Please select currency",clickSearchToLoadWallets:"Please click search button to load wallets"},action:{search:"Search",transfer:"Transfer",audit:"Audit",detail:"Detail",reset:"Reset"},auditStatus:{pending:"Pending",approved:"Approved",rejected:"Rejected"}},g={fromWalletDetail:{currency:"USDT",balance:3e5,availableOutflow:8e3},toWalletDetail:{currency:"USDT",balance:5e3,availableInflow:15e3},transferList:[{key:1,transferOrderId:"TX00000001",fromMerchant:"商戶A",fromWalletId:"W000001",fromChainType:"ETH",fromCurrency:"USDT",amount:"100000.00000000",toMerchant:"商戶B",toWalletId:"W000002",toChainType:"BSC",toCurrency:"USDT",createTime:"2024-03-15 10:30:00",auditTime:"2024-03-15 11:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"completed"},{key:2,transferOrderId:"TX00000002",fromMerchant:"商戶B",fromWalletId:"W000003",fromChainType:"BSC",fromCurrency:"USDT",amount:"50000.00000000",toMerchant:"商戶C",toWalletId:"W000004",toChainType:"ETH",toCurrency:"USDT",createTime:"2024-03-15 09:30:00",auditTime:null,auditStatus:"pending",auditReason:null,transferStatus:null},{key:3,transferOrderId:"TX00000003",fromMerchant:"商戶C",fromWalletId:"W000005",fromChainType:"ETH",fromCurrency:"USDT",amount:"200000.00000000",toMerchant:"商戶A",toWalletId:"W000006",toChainType:"BSC",toCurrency:"USDT",createTime:"2024-03-15 08:30:00",auditTime:"2024-03-15 09:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"onchain"},{key:4,transferOrderId:"TX00000004",fromMerchant:"商戶A",fromWalletId:"W000007",fromChainType:"BSC",fromCurrency:"USDT",amount:"150000.00000000",toMerchant:"商戶B",toWalletId:"W000008",toChainType:"ETH",toCurrency:"USDT",createTime:"2024-03-15 07:30:00",auditTime:"2024-03-15 08:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"confirming",confirmations:3,requiredConfirmations:12},{key:5,transferOrderId:"TX00000005",fromMerchant:"商戶B",fromWalletId:"W000009",fromChainType:"ETH",fromCurrency:"USDT",amount:"300000.00000000",toMerchant:"商戶C",toWalletId:"W000010",toChainType:"BSC",toCurrency:"USDT",createTime:"2024-03-15 06:30:00",auditTime:"2024-03-15 07:00:00",auditStatus:"rejected",auditReason:"金額超過限制",transferStatus:null},{key:6,transferOrderId:"TX00000006",fromMerchant:"商戶C",fromWalletId:"W000011",fromChainType:"BSC",fromCurrency:"USDT",amount:"80000.00000000",toMerchant:"商戶A",toWalletId:"W000012",toChainType:"ETH",toCurrency:"USDT",createTime:"2024-03-15 05:30:00",auditTime:"2024-03-15 06:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"failed"}]},L={walletList:[{id:"W001",code:"COLD-001",address:"0x1234567890abcdef1234567890abcdef12345678",walletType:"Collection",chainType:"ETH",merchant:"merchant_a",coins:[{currency:"ETH",balance:"50.12345678"},{currency:"USDT",balance:"100000.00000000"},{currency:"USDC",balance:"50000.00000000"}]},{id:"W002",code:"HOT-002",address:"0x9876543210fedcba0987654321fedcba09876543",walletType:"User",chainType:"ETH",merchant:"merchant_a",coins:[{currency:"ETH",balance:"25.87654321"},{currency:"USDT",balance:"75000.00000000"}]},{id:"W003",code:"WITHDRAW-003",address:"0xabcdef1234567890abcdef1234567890abcdef12",walletType:"Withdraw",chainType:"BSC",merchant:"merchant_b",coins:[{currency:"BNB",balance:"200.50000000"},{currency:"USDT",balance:"80000.00000000"},{currency:"BUSD",balance:"60000.00000000"}]},{id:"W004",code:"HOT-004",address:"0xfedcba0987654321fedcba0987654321fedcba09",walletType:"User",chainType:"BSC",merchant:"merchant_b",coins:[{currency:"BNB",balance:"150.25000000"},{currency:"USDT",balance:"120000.00000000"}]},{id:"W005",code:"EXTERNAL-005",address:"0x5678901234abcdef5678901234abcdef56789012",walletType:"External",chainType:"TRC20",merchant:"merchant_c",coins:[{currency:"TRX",balance:"10000.000000"},{currency:"USDT",balance:"90000.00000000"}]},{id:"W006",code:"HOT-006",address:"0x234567890abcdef1234567890abcdef1234567890",walletType:"User",chainType:"TRC20",merchant:"merchant_c",coins:[{currency:"TRX",balance:"5000.000000"},{currency:"USDT",balance:"65000.00000000"}]},{id:"W007",code:"COLLECT-007",address:"0x987654321abcdef987654321abcdef9876543210",walletType:"Collection",chainType:"BSC",merchant:"merchant_a",coins:[{currency:"BNB",balance:"300.50000000"},{currency:"USDT",balance:"150000.00000000"}]},{id:"W008",code:"WITHDRAW-008",address:"0x123abc456def789abc123def456abc789def123a",walletType:"Withdraw",chainType:"ETH",merchant:"merchant_c",coins:[{currency:"ETH",balance:"80.25000000"},{currency:"USDT",balance:"200000.00000000"}]}]},A={merchants:[{value:"merchant_a",label:"商戶A"},{value:"merchant_b",label:"商戶B"},{value:"merchant_c",label:"商戶C"}],chainTypes:[{value:"ETH",label:"ETH"},{value:"BSC",label:"BSC"},{value:"TRC20",label:"TRON"},{value:"BTC",label:"BTC"}],walletTypes:[{value:"User",label:"用戶錢包"},{value:"Collection",label:"歸集錢包"},{value:"Withdraw",label:"出款錢包"},{value:"External",label:"外轉錢包"}],currencies:[{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"},{value:"USDC",label:"USDC"},{value:"BNB",label:"BNB"},{value:"BUSD",label:"BUSD"},{value:"TRX",label:"TRX"}]},U={class:"wallet-transfer"},D={class:"card-title"},x={class:"form-row"},O={class:"form-label"},R={class:"form-label"},B={class:"form-label"},E={key:0,class:"form-row"},F={class:"form-label"},H={class:"form-row"},j={key:0,class:"selection-container"},M={class:"section"},q={class:"section-title"},P={class:"wallet-list-container"},$={class:"wallet-info"},z={class:"wallet-code"},X={class:"wallet-address"},N={key:0,class:"section"},Q={class:"section-title"},G={class:"coin-list-container"},J={class:"coin-info"},Y={class:"coin-name"},Z={class:"coin-balance"},K={key:1,class:"section"},V={class:"section-title"},ee={key:1,class:"empty-state"},ae={class:"card-title"},le={class:"form-row"},te={class:"form-label"},se={class:"form-label"},re={class:"form-label"},ne={key:0,class:"form-row"},ie={class:"form-label"},de={class:"form-row"},ce={key:0,class:"selection-container"},ue={class:"section"},oe={class:"section-title"},fe={class:"wallet-list-container"},ve={class:"wallet-info"},pe={class:"wallet-code"},me={class:"wallet-address"},ye={key:0,class:"section"},Te={class:"section-title"},he={class:"coin-list-container"},be={class:"coin-info"},we={class:"coin-name"},Ce={class:"coin-balance"},Se={key:1,class:"section"},_e={class:"section-title"},We={key:1,class:"empty-state"},Ie={class:"card-title"},ke={key:0,class:"detail-content"},ge={class:"detail-item"},Le={class:"detail-label"},Ae={class:"detail-value"},Ue={class:"detail-item"},De={class:"detail-label"},xe={class:"detail-value"},Oe={class:"detail-item"},Re={class:"detail-label"},Be={class:"detail-value"},Ee={key:1,class:"empty-state"},Fe={class:"card-title"},He={key:0,class:"detail-content"},je={class:"detail-item"},Me={class:"detail-label"},qe={class:"detail-value"},Pe={class:"detail-item"},$e={class:"detail-label"},ze={class:"detail-value"},Xe={class:"detail-item"},Ne={class:"detail-label"},Qe={class:"detail-value"},Ge={key:1,class:"empty-state"},Je={class:"card-title"},Ye={class:"transfer-amount-container"},Ze={class:"confirm-content"},Ke={class:"card-title"},Ve={class:"confirm-card-content"},ea={class:"confirm-item"},aa={class:"confirm-label"},la={class:"confirm-value"},ta={class:"confirm-item"},sa={class:"confirm-label"},ra={class:"confirm-value"},na={class:"confirm-item"},ia={class:"confirm-label"},da={class:"confirm-value"},ca={class:"confirm-item"},ua={class:"confirm-label"},oa={class:"confirm-value"},fa={class:"amount-title"},va={class:"amount-value"},pa={class:"card-title"},ma={class:"confirm-card-content"},ya={class:"confirm-item"},Ta={class:"confirm-label"},ha={class:"confirm-value"},ba={class:"confirm-item"},wa={class:"confirm-label"},Ca={class:"confirm-value"},Sa={class:"confirm-item"},_a={class:"confirm-label"},Wa={class:"confirm-value"},Ia={class:"confirm-item"},ka={class:"confirm-label"},ga={class:"confirm-value"},La={class:"form-row"},Aa={class:"form-row"},Ua={key:0,class:"audit-detail"},Da={class:"audit-detail-item"},xa={class:"audit-detail-label"},Oa={class:"audit-detail-value"},Ra={class:"audit-detail-item"},Ba={class:"audit-detail-label"},Ea={class:"audit-detail-value"},Fa=W(s({__name:"Transfer",setup(s){const W={zh:I,en:k},{t:Fa}=e({messages:W,legacy:!1}),Ha=r({merchant:void 0,chainType:void 0,walletType:void 0,address:void 0}),ja=r({merchant:void 0,chainType:void 0,walletType:void 0,address:void 0}),Ma=n([]),qa=n([]),Pa=n(!1),$a=n(!1),za=n(null),Xa=n(null),Na=n(null),Qa=n(null),Ga=r({from:!1,to:!1});r({...g.fromWalletDetail}),r({...g.toWalletDetail});const Ja=n(0),Ya=n(!1),Za=i((()=>Na.value?Number(Na.value.balance):0)),Ka=e=>{e&&(Ja.value=Za.value)},Va=e=>e?Number(e).toFixed(8):"0.00000000",el=e=>e?`${e.slice(0,4)}...${e.slice(-4)}`:"",al=()=>{za.value=null,Na.value=null,Ma.value=[]},ll=()=>{Xa.value=null,Qa.value=null,qa.value=[]},tl=()=>{za.value=null,Na.value=null,Ma.value=[],ja.chainType=Ha.chainType,Xa.value=null,Qa.value=null,qa.value=[]},sl=()=>{if(Ha.chainType&&ja.chainType!==Ha.chainType)return l.warning("轉入錢包鏈類型必須與轉出錢包保持一致"),void(ja.chainType=Ha.chainType);Xa.value=null,Qa.value=null,qa.value=[]},rl=()=>{za.value=null,Na.value=null,Ma.value=[]},nl=()=>{Xa.value=null,Qa.value=null,qa.value=[]},il=()=>{Pa.value=!0,setTimeout((()=>{const e=L.walletList.filter((e=>{var a,l,t;const s=!Ha.chainType||e.chainType===Ha.chainType,r=!Ha.walletType||e.walletType===Ha.walletType;let n=!0;if(("User"===Ha.walletType||"External"===Ha.walletType)&&Ha.address){const s=null==(a=e.address)?void 0:a.toLowerCase().includes(Ha.address.toLowerCase()),r=(null==(l=e.code)?void 0:l.toLowerCase().includes(Ha.address.toLowerCase()))||(null==(t=e.walletType)?void 0:t.toLowerCase().includes(Ha.address.toLowerCase()));n=s||r}return s&&r&&n}));if(Ma.value=e,Pa.value=!1,0===e.length)if("User"!==Ha.walletType&&"External"!==Ha.walletType||!Ha.address)l.info("未找到符合條件的轉出錢包");else{const e=L.walletList.filter((e=>e.walletType===Ha.walletType&&(!Ha.chainType||e.chainType===Ha.chainType)));if(e.length>0){const a=e.map((e=>e.address)).join(", ");l.info(`未找到包含地址 "${Ha.address}" 的錢包。可用的${"User"===Ha.walletType?"用戶錢包":"外轉錢包"}地址: ${a}`)}else l.info("未找到符合條件的轉出錢包")}else l.success(`已載入 ${e.length} 個轉出錢包`)}),500)},dl=()=>{$a.value=!0,setTimeout((()=>{const e=L.walletList.filter((e=>{var a,l,t;const s=!ja.chainType||e.chainType===ja.chainType,r=!ja.walletType||e.walletType===ja.walletType;let n=!0;if(("User"===ja.walletType||"External"===ja.walletType)&&ja.address){const s=null==(a=e.address)?void 0:a.toLowerCase().includes(ja.address.toLowerCase()),r=(null==(l=e.code)?void 0:l.toLowerCase().includes(ja.address.toLowerCase()))||(null==(t=e.walletType)?void 0:t.toLowerCase().includes(ja.address.toLowerCase()));n=s||r}return s&&r&&n}));qa.value=e,$a.value=!1,0===e.length?l.info("未找到符合條件的錢包"):l.success(`已載入 ${e.length} 個錢包`)}),500)},cl=n(!1),ul=n(!1),ol=()=>{za.value&&Xa.value?Na.value&&Qa.value?Ja.value?(Object.assign(Ha,{walletType:za.value.walletType,chainType:za.value.chainType,currency:Na.value.currency,address:za.value.address}),Object.assign(ja,{walletType:Xa.value.walletType,chainType:Xa.value.chainType,currency:Qa.value.currency,address:Xa.value.address}),cl.value=!0):l.error(Fa("prompt.pleaseInputTransferAmount")):l.error(Fa("prompt.pleaseSelectCoin")):l.error(Fa("prompt.pleaseSelectFromAndToWallet"))},fl=async()=>{ul.value=!0;try{await new Promise((e=>setTimeout(e,1e3))),l.success(Fa("prompt.transferRequestSubmitted")),cl.value=!1}catch(e){l.error(Fa("prompt.transferFailed"))}finally{ul.value=!1}},vl=()=>{cl.value=!1},pl=r({merchant:void 0,chainType:void 0,currency:void 0,walletType:void 0,address:""}),ml=n(g.transferList),yl=n(!1),Tl=e=>e?`${e.slice(0,4)}***${e.slice(-4)}`:"-",hl=async e=>{try{await navigator.clipboard.writeText(e),l.success(Fa("message.copySuccess"))}catch(a){l.error(Fa("message.copyFailed"))}},bl=[{title:Fa("field.transferOrderId"),dataIndex:"transferOrderId",key:"transferOrderId",width:180},{title:Fa("field.fromAddress"),dataIndex:"fromWalletId",key:"fromWalletId",width:200,customRender:({text:e})=>d("div",{class:"address-container"},[d("span",{},Tl(e)),d(a,{class:"copy-icon",onClick:()=>hl(e)})])},{title:Fa("field.fromChainType"),dataIndex:"fromChainType",key:"fromChainType",width:120},{title:Fa("field.fromCurrency"),dataIndex:"fromCurrency",key:"fromCurrency",width:120},{title:Fa("field.transferAmount"),dataIndex:"amount",key:"amount",width:140,align:"right"},{title:Fa("field.toWallet"),dataIndex:"toMerchant",key:"toMerchant",width:120},{title:Fa("field.toAddress"),dataIndex:"toWalletId",key:"toWalletId",width:200,customRender:({text:e})=>d("div",{class:"address-container"},[d("span",{},Tl(e)),d(a,{class:"copy-icon",onClick:()=>hl(e)})])},{title:Fa("field.toChainType"),dataIndex:"toChainType",key:"toChainType",width:100},{title:Fa("field.toCurrency"),dataIndex:"toCurrency",key:"toCurrency",width:100},{title:Fa("field.createTime"),dataIndex:"createTime",key:"createTime",width:160},{title:Fa("field.auditTime"),dataIndex:"auditTime",key:"auditTime",width:160},{title:Fa("field.auditStatus"),dataIndex:"auditStatus",key:"auditStatus",width:100,customRender:({text:e})=>({pending:Fa("auditStatus.pending"),approved:Fa("auditStatus.approved"),rejected:Fa("auditStatus.rejected")}[e]||e)},{title:Fa("transferStatus.label"),dataIndex:"transferStatus",key:"transferStatus",width:120,customRender:({text:e,record:a})=>{if(["pending","rejected"].includes(a.auditStatus))return"";const l={submitted:Fa("transferStatus.submitted"),onchain:Fa("transferStatus.onchain"),confirming:e=>`${Fa("transferStatus.confirming")}(${e.confirmations}/${e.requiredConfirmations})`,completed:Fa("transferStatus.completed"),failed:Fa("transferStatus.failed")};return e&&"function"==typeof l[e]?l[e](a):e&&l[e]||""}},{title:Fa("field.action"),key:"action",width:80,fixed:"right"}],wl=r({current:1,pageSize:10,total:100,showSizeChanger:!0,showQuickJumper:!0}),Cl=()=>{yl.value=!0,setTimeout((()=>{const e=g.transferList.filter((e=>(!pl.merchant||e.fromMerchant===pl.merchant)&&((!pl.chainType||e.fromChainType===pl.chainType)&&((!pl.currency||e.fromCurrency===pl.currency)&&!(pl.address&&!e.fromWalletId.toLowerCase().includes(pl.address.toLowerCase()))))));ml.value=e,wl.total=e.length,yl.value=!1}),1e3)};c((()=>{Cl()}));const Sl=()=>{pl.merchant=void 0,pl.chainType=void 0,pl.currency=void 0,pl.walletType=void 0,pl.address=""},_l=n(!1),Wl=n(!1),Il=n(!1),kl=n(null),gl=r({status:void 0,reason:""}),Ll=async()=>{if(gl.status)if(gl.reason){Il.value=!0;try{if(await new Promise((e=>setTimeout(e,1e3))),kl.value){const e=ml.value.findIndex((e=>{var a;return e.key===(null==(a=kl.value)?void 0:a.key)}));-1!==e&&(ml.value[e]={...ml.value[e],auditStatus:gl.status,auditReason:gl.reason,auditTime:(new Date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})}l.success(Fa("wallet.prompt.auditSuccess")),_l.value=!1}catch(e){l.error(Fa("wallet.prompt.auditFailed"))}finally{Il.value=!1}}else l.error(Fa("wallet.prompt.pleaseInputAuditReason"));else l.error(Fa("wallet.prompt.pleaseSelectAuditOperation"))},Al=()=>{_l.value=!1},Ul=e=>{wl.current=e.current,wl.pageSize=e.pageSize,Cl()};return(e,a)=>{const s=v("a-select-option"),r=v("a-select"),n=v("a-form-item"),i=v("a-input"),d=v("a-button"),c=v("a-form"),W=v("a-list-item"),I=v("a-list"),k=v("a-col"),g=v("a-row"),L=v("a-card"),Tl=v("a-input-number"),hl=v("a-checkbox"),Dl=v("a-modal"),xl=v("a-space"),Ol=v("a-table"),Rl=v("a-textarea");return m(),u("div",U,[o(g,{gutter:24},{default:f((()=>[o(k,{span:12},{default:f((()=>[o(L,{bordered:!1,class:"transfer-card from-wallet"},{title:f((()=>[T("span",D,h(p(Fa)("title.fromWalletInfo")),1)])),default:f((()=>[o(c,{layout:"vertical",model:Ha},{default:f((()=>[T("div",x,[o(n,{class:"form-item"},{default:f((()=>[T("div",O,h(p(Fa)("field.merchant")),1),o(r,{value:Ha.merchant,"onUpdate:value":a[0]||(a[0]=e=>Ha.merchant=e),class:"full-width",onChange:al},{default:f((()=>[(m(!0),u(b,null,w(p(A).merchants,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),o(n,{class:"form-item"},{default:f((()=>[T("div",R,h(p(Fa)("field.chainType")),1),o(r,{value:Ha.chainType,"onUpdate:value":a[1]||(a[1]=e=>Ha.chainType=e),disabled:Ga.from,class:"full-width",onChange:tl},{default:f((()=>[(m(!0),u(b,null,w(p(A).chainTypes,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","disabled"])])),_:1}),o(n,{class:"form-item"},{default:f((()=>[T("div",B,h(p(Fa)("field.walletType")),1),o(r,{value:Ha.walletType,"onUpdate:value":a[2]||(a[2]=e=>Ha.walletType=e),class:"full-width",onChange:rl},{default:f((()=>[(m(!0),u(b,null,w(p(A).walletTypes,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})]),"User"===Ha.walletType||"External"===Ha.walletType?(m(),u("div",E,[o(n,{class:"form-item address-search"},{default:f((()=>[T("div",F,h(p(Fa)("field.walletAddress")),1),o(i,{value:Ha.address,"onUpdate:value":a[3]||(a[3]=e=>Ha.address=e),placeholder:p(Fa)("prompt.pleaseInputWalletAddress"),class:"full-width","allow-clear":""},null,8,["value","placeholder"])])),_:1})])):y("",!0),T("div",H,[o(n,{class:"query-button"},{default:f((()=>[a[21]||(a[21]=T("div",{class:"form-label"}," ",-1)),o(d,{type:"primary",onClick:il},{icon:f((()=>[o(p(t))])),default:f((()=>[C(" "+h(p(Fa)("action.search")),1)])),_:1})])),_:1})])])),_:1},8,["model"]),Ma.value.length>0||Pa.value?(m(),u("div",j,[o(g,{gutter:16},{default:f((()=>[o(k,{span:12},{default:f((()=>[T("div",M,[T("div",q,h(p(Fa)("title.fromWalletList")),1),T("div",P,[o(I,{"data-source":Ma.value,loading:Pa.value,size:"small"},{renderItem:f((({item:e})=>{var a;return[o(W,{class:S(["wallet-item",{selected:(null==(a=za.value)?void 0:a.id)===e.id}]),onClick:a=>{return l=e,za.value=l,Na.value=null,void(Qa.value=null);var l}},{default:f((()=>[T("div",$,[T("div",z,h(e.code),1),T("div",X,h(el(e.address)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source","loading"])])])])),_:1}),o(k,{span:12},{default:f((()=>[za.value?(m(),u("div",N,[T("div",Q,h(p(Fa)("title.fromCoinList")),1),T("div",G,[o(I,{"data-source":za.value.coins,size:"small"},{renderItem:f((({item:e})=>{var a;return[o(W,{class:S(["coin-item",{selected:(null==(a=Na.value)?void 0:a.currency)===e.currency}]),onClick:a=>(e=>{if(Na.value=e,Xa.value){const a=Xa.value.coins.find((a=>a.currency===e.currency));a?Qa.value=a:(Qa.value=null,l.info(`轉入錢包沒有 ${e.currency} 幣種，請重新選擇轉入錢包`))}})(e)},{default:f((()=>[T("div",J,[T("div",Y,h(e.currency),1),T("div",Z,h(Va(e.balance)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source"])])])):(m(),u("div",K,[T("div",V,h(p(Fa)("title.fromCoinList")),1),a[22]||(a[22]=T("div",{class:"empty-coin-state"}," 請先選擇錢包 ",-1))]))])),_:1})])),_:1})])):y("",!0),0!==Ma.value.length||Pa.value?y("",!0):(m(),u("div",ee,h(p(Fa)("prompt.clickSearchToLoadWallets")),1))])),_:1})])),_:1}),o(k,{span:12},{default:f((()=>[o(L,{bordered:!1,class:"transfer-card to-wallet"},{title:f((()=>[T("span",ae,h(p(Fa)("title.toWalletInfo")),1)])),default:f((()=>[o(c,{layout:"vertical",model:ja},{default:f((()=>[T("div",le,[o(n,{class:"form-item"},{default:f((()=>[T("div",te,h(p(Fa)("field.merchant")),1),o(r,{value:ja.merchant,"onUpdate:value":a[4]||(a[4]=e=>ja.merchant=e),class:"full-width",onChange:ll},{default:f((()=>[(m(!0),u(b,null,w(p(A).merchants,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),o(n,{class:"form-item"},{default:f((()=>[T("div",se,h(p(Fa)("field.chainType")),1),o(r,{value:ja.chainType,"onUpdate:value":a[5]||(a[5]=e=>ja.chainType=e),disabled:Ga.to,class:"full-width",onChange:sl},{default:f((()=>[(m(!0),u(b,null,w(p(A).chainTypes,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","disabled"])])),_:1}),o(n,{class:"form-item"},{default:f((()=>[T("div",re,h(p(Fa)("field.walletType")),1),o(r,{value:ja.walletType,"onUpdate:value":a[6]||(a[6]=e=>ja.walletType=e),class:"full-width",onChange:nl},{default:f((()=>[(m(!0),u(b,null,w(p(A).walletTypes,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})]),"User"===ja.walletType||"External"===ja.walletType?(m(),u("div",ne,[o(n,{class:"form-item address-search"},{default:f((()=>[T("div",ie,h(p(Fa)("field.walletAddress")),1),o(i,{value:ja.address,"onUpdate:value":a[7]||(a[7]=e=>ja.address=e),placeholder:p(Fa)("prompt.pleaseInputWalletAddress"),class:"full-width","allow-clear":""},null,8,["value","placeholder"])])),_:1})])):y("",!0),T("div",de,[o(n,{class:"query-button"},{default:f((()=>[a[23]||(a[23]=T("div",{class:"form-label"}," ",-1)),o(d,{type:"primary",onClick:dl},{icon:f((()=>[o(p(t))])),default:f((()=>[C(" "+h(p(Fa)("action.search")),1)])),_:1})])),_:1})])])),_:1},8,["model"]),qa.value.length>0||$a.value?(m(),u("div",ce,[o(g,{gutter:16},{default:f((()=>[o(k,{span:12},{default:f((()=>[T("div",ue,[T("div",oe,h(p(Fa)("title.toWalletList")),1),T("div",fe,[o(I,{"data-source":qa.value,loading:$a.value,size:"small"},{renderItem:f((({item:e})=>{var a;return[o(W,{class:S(["wallet-item",{selected:(null==(a=Xa.value)?void 0:a.id)===e.id}]),onClick:a=>{return l=e,Xa.value=l,void(Qa.value=null);var l}},{default:f((()=>[T("div",ve,[T("div",pe,h(e.code),1),T("div",me,h(el(e.address)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source","loading"])])])])),_:1}),o(k,{span:12},{default:f((()=>[Xa.value?(m(),u("div",ye,[T("div",Te,h(p(Fa)("title.toCoinList")),1),T("div",he,[o(I,{"data-source":Xa.value?Na.value?Xa.value.coins.filter((e=>{var a;return e.currency===(null==(a=Na.value)?void 0:a.currency)})):Xa.value.coins:[],size:"small"},{renderItem:f((({item:e})=>{var a,t;return[o(W,{class:S(["coin-item",{selected:(null==(a=Qa.value)?void 0:a.currency)===e.currency,disabled:(t=e,!(!Na.value||t.currency===Na.value.currency))}]),onClick:a=>(e=>{Na.value&&Na.value.currency!==e.currency?l.warning("轉入幣種必須與轉出幣種保持一致"):Na.value?Qa.value=e:l.warning("請先選擇轉出幣種")})(e)},{default:f((()=>[T("div",be,[T("div",we,h(e.currency),1),T("div",Ce,h(Va(e.balance)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source"])])])):(m(),u("div",Se,[T("div",_e,h(p(Fa)("title.toCoinList")),1),a[24]||(a[24]=T("div",{class:"empty-coin-state"}," 請先選擇錢包 ",-1))]))])),_:1})])),_:1})])):y("",!0),0!==qa.value.length||$a.value?y("",!0):(m(),u("div",We,h(p(Fa)("prompt.clickSearchToLoadWallets")),1))])),_:1})])),_:1})])),_:1}),o(g,{gutter:24},{default:f((()=>[o(k,{span:12},{default:f((()=>[o(L,{bordered:!1,class:"detail-card from-detail"},{title:f((()=>[T("span",Ie,h(p(Fa)("title.fromWalletDetail")),1)])),default:f((()=>[Na.value?(m(),u("div",ke,[T("div",ge,[T("span",Le,h(p(Fa)("field.currency")),1),T("span",Ae,h(Na.value.currency),1)]),T("div",Ue,[T("span",De,h(p(Fa)("balance.current")),1),T("span",xe,h(Va(Na.value.balance)),1)]),T("div",Oe,[T("span",Re,h(p(Fa)("balance.availableOutflow")),1),T("span",Be,h(Va(Na.value.balance)),1)])])):(m(),u("div",Ee,h(p(Fa)("prompt.pleaseSelectCoin")),1))])),_:1})])),_:1}),o(k,{span:12},{default:f((()=>[o(L,{bordered:!1,class:"detail-card to-detail"},{title:f((()=>[T("span",Fe,h(p(Fa)("title.toWalletDetail")),1)])),default:f((()=>[Qa.value?(m(),u("div",He,[T("div",je,[T("span",Me,h(p(Fa)("field.currency")),1),T("span",qe,h(Qa.value.currency),1)]),T("div",Pe,[T("span",$e,h(p(Fa)("balance.current")),1),T("span",ze,h(Va(Qa.value.balance)),1)]),T("div",Xe,[T("span",Ne,h(p(Fa)("balance.availableInflow")),1),T("span",Qe,h(Va(Qa.value.balance)),1)])])):(m(),u("div",Ge,h(p(Fa)("prompt.pleaseSelectCoin")),1))])),_:1})])),_:1})])),_:1}),o(L,{bordered:!1,class:"transfer-info"},{title:f((()=>[T("span",Je,h(p(Fa)("title.transferInfo")),1)])),default:f((()=>[T("div",Ye,[o(c,{layout:"inline"},{default:f((()=>[o(n,{label:p(Fa)("field.transferAmount")},{default:f((()=>[o(Tl,{value:Ja.value,"onUpdate:value":a[8]||(a[8]=e=>Ja.value=e),min:0,max:Za.value,precision:8,style:{width:"200px"}},null,8,["value","max"])])),_:1},8,["label"]),o(n,null,{default:f((()=>[o(hl,{checked:Ya.value,"onUpdate:checked":a[9]||(a[9]=e=>Ya.value=e),onChange:Ka},{default:f((()=>[C(h(p(Fa)("field.maxAmount")),1)])),_:1},8,["checked"])])),_:1}),o(n,null,{default:f((()=>[o(d,{type:"primary",onClick:ol},{default:f((()=>[C(h(p(Fa)("action.transfer")),1)])),_:1})])),_:1})])),_:1})])])),_:1}),o(Dl,{open:cl.value,"onUpdate:open":a[10]||(a[10]=e=>cl.value=e),title:p(Fa)("prompt.confirmTransfer"),onOk:fl,onCancel:vl,confirmLoading:ul.value,width:"600px"},{default:f((()=>[T("div",Ze,[o(L,{bordered:!1,class:"confirm-card"},{title:f((()=>[T("span",Ke,h(p(Fa)("title.fromWalletInfo")),1)])),default:f((()=>[T("div",Ve,[T("div",ea,[T("span",aa,h(p(Fa)("field.typeLabel")),1),T("span",la,h(Ha.walletType),1)]),T("div",ta,[T("span",sa,h(p(Fa)("field.chainType")),1),T("span",ra,h(Ha.chainType),1)]),T("div",na,[T("span",ia,h(p(Fa)("field.currency")),1),T("span",da,h(Ha.currency),1)]),T("div",ca,[T("span",ua,h(p(Fa)("field.address")),1),T("span",oa,h(Ha.address),1)])])])),_:1}),o(L,{bordered:!1,class:"confirm-card"},{title:f((()=>[T("div",fa,[T("span",null,h(p(Fa)("field.transferAmount"))+"：",1),T("span",va,h(Va(Ja.value)),1)])])),_:1}),o(L,{bordered:!1,class:"confirm-card"},{title:f((()=>[T("span",pa,h(p(Fa)("title.toWalletInfo")),1)])),default:f((()=>[T("div",ma,[T("div",ya,[T("span",Ta,h(p(Fa)("field.typeLabel")),1),T("span",ha,h(ja.walletType),1)]),T("div",ba,[T("span",wa,h(p(Fa)("field.chainType")),1),T("span",Ca,h(ja.chainType),1)]),T("div",Sa,[T("span",_a,h(p(Fa)("field.currency")),1),T("span",Wa,h(ja.currency),1)]),T("div",Ia,[T("span",ka,h(p(Fa)("field.address")),1),T("span",ga,h(ja.address),1)])])])),_:1})])])),_:1},8,["open","title","confirmLoading"]),o(L,{title:p(Fa)("title.transferQueryTitle"),class:"transfer-card query-card"},{default:f((()=>[o(c,{layout:"inline",class:"query-form"},{default:f((()=>[T("div",La,[o(n,{label:p(Fa)("field.merchant"),class:"form-item"},{default:f((()=>[o(r,{value:pl.merchant,"onUpdate:value":a[11]||(a[11]=e=>pl.merchant=e),class:"full-width"},{default:f((()=>[(m(!0),u(b,null,w(p(A).merchants,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),o(n,{label:p(Fa)("field.chainType"),class:"form-item"},{default:f((()=>[o(r,{value:pl.chainType,"onUpdate:value":a[12]||(a[12]=e=>pl.chainType=e),class:"full-width"},{default:f((()=>[(m(!0),u(b,null,w(p(A).chainTypes,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),o(n,{label:p(Fa)("field.currency"),class:"form-item"},{default:f((()=>[o(r,{value:pl.currency,"onUpdate:value":a[13]||(a[13]=e=>pl.currency=e),class:"full-width"},{default:f((()=>[(m(!0),u(b,null,w(p(A).currencies,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),o(n,{label:p(Fa)("field.typeLabel"),class:"form-item"},{default:f((()=>[o(r,{value:pl.walletType,"onUpdate:value":a[14]||(a[14]=e=>pl.walletType=e),class:"full-width"},{default:f((()=>[(m(!0),u(b,null,w(p(A).walletTypes,(e=>(m(),_(s,{key:e.value,value:e.value},{default:f((()=>[C(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"])]),T("div",Aa,[o(n,{label:p(Fa)("field.address"),class:"form-item address-input"},{default:f((()=>[o(i,{value:pl.address,"onUpdate:value":a[15]||(a[15]=e=>pl.address=e),class:"full-width",placeholder:p(Fa)("prompt.pleaseInputAddress")},null,8,["value","placeholder"])])),_:1},8,["label"]),o(n,{label:" ",class:"form-item query-button"},{default:f((()=>[o(xl,null,{default:f((()=>[o(d,{type:"primary",onClick:Cl},{default:f((()=>[C(h(p(Fa)("action.search")),1)])),_:1}),o(d,{onClick:Sl},{default:f((()=>[C(h(p(Fa)("action.reset")),1)])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["title"]),o(L,{title:p(Fa)("title.transferList"),class:"transfer-card list-card"},{default:f((()=>[o(Ol,{dataSource:ml.value,columns:bl,loading:yl.value,pagination:wl,onChange:Ul,scroll:{y:480}},{bodyCell:f((({column:e,record:a})=>["action"===e.key?(m(),_(xl,{key:0},{default:f((()=>["pending"===a.auditStatus?(m(),_(d,{key:0,type:"primary",size:"small",onClick:e=>(e=>{kl.value=e,gl.status=void 0,gl.reason="",_l.value=!0})(a)},{default:f((()=>[C(h(p(Fa)("action.audit")),1)])),_:2},1032,["onClick"])):y("",!0),["approved","rejected"].includes(a.auditStatus)?(m(),_(d,{key:1,type:"link",size:"small",onClick:e=>(e=>{kl.value=e,Wl.value=!0})(a)},{default:f((()=>[C(h(p(Fa)("action.detail")),1)])),_:2},1032,["onClick"])):y("",!0)])),_:2},1024)):y("",!0)])),_:1},8,["dataSource","loading","pagination"])])),_:1},8,["title"]),o(Dl,{open:_l.value,"onUpdate:open":a[18]||(a[18]=e=>_l.value=e),title:p(Fa)("title.auditOperation"),onOk:Ll,onCancel:Al,confirmLoading:Il.value},{default:f((()=>[o(c,{model:gl,layout:"vertical"},{default:f((()=>[o(n,{label:p(Fa)("field.auditOperation"),required:""},{default:f((()=>[o(r,{value:gl.status,"onUpdate:value":a[16]||(a[16]=e=>gl.status=e),style:{width:"100%"}},{default:f((()=>[o(s,{value:"approved"},{default:f((()=>[C(h(p(Fa)("auditStatus.approved")),1)])),_:1}),o(s,{value:"rejected"},{default:f((()=>[C(h(p(Fa)("auditStatus.rejected")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),o(n,{label:p(Fa)("field.auditReason"),required:""},{default:f((()=>[o(Rl,{value:gl.reason,"onUpdate:value":a[17]||(a[17]=e=>gl.reason=e),rows:4,placeholder:p(Fa)("prompt.pleaseInputAuditReason")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title","confirmLoading"]),o(Dl,{open:Wl.value,"onUpdate:open":a[19]||(a[19]=e=>Wl.value=e),title:p(Fa)("title.auditDetail"),onCancel:a[20]||(a[20]=()=>Wl.value=!1),footer:null},{default:f((()=>[kl.value?(m(),u("div",Ua,[T("div",Da,[T("span",xa,h(p(Fa)("field.auditOperation"))+"：",1),T("span",Oa,h("approved"===kl.value.auditStatus?p(Fa)("auditStatus.approved"):p(Fa)("auditStatus.rejected")),1)]),T("div",Ra,[T("span",Ba,h(p(Fa)("field.auditReason"))+"：",1),T("span",Ea,h(kl.value.auditReason),1)])])):y("",!0)])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-2d054b0f"]]);export{Fa as default};
