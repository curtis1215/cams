import{v as e}from"./vendor-Dyo7sIqZ.js";import{E as a,Q as t,P as s,V as l,b as u}from"./ant-design-CqfBI87A.js";import{d as o,r as c,f as i,o as r,a0 as d,_ as n,k as m,a1 as p,u as f,Y as h,X as v,Z as S,G as y,W as _,a4 as x}from"./vue-vendor-B-98Oggh.js";import{_ as b}from"./index-B8eEKoFF.js";import"./lodash-CiXSdKEp.js";const g={exchangePairManagement:"外部幣對管理",search:{title:"幣對搜尋",searchButton:"搜尋",resetButton:"重置",pairName:"幣對名稱",quoteSource:"報價來源",status:"啟用狀態",sourceOptions:{all:"所有來源",binance:"幣安",gateio:"Gate.io",mexc:"MEXC",fameex:"Fameex"},statusOptions:{all:"所有狀態",enabled:"啟用",disabled:"停用"}},list:{title:"幣對列表",addButton:"新增幣對",columns:{pairName:"幣對名稱",price:"價格",quoteSource:"報價來源",status:"狀態",actions:"操作",edit:"編輯",delete:"刪除"}},modal:{addTitle:"新增幣對",editTitle:"編輯幣對",form:{pairName:"幣對名稱",quoteSource:"報價來源",sourceKey:"來源鍵值",status:"啟用狀態"},placeholder:{pairName:"請輸入幣對名稱",sourceKey:"請輸入來源鍵值"},message:{addSuccess:"新增成功",addFailed:"新增失敗",editSuccess:"編輯成功",editFailed:"編輯失敗",deleteSuccess:"刪除成功",deleteFailed:"刪除失敗",deleteConfirm:"確定要刪除此幣對嗎？"}}},N={exchangePairManagement:"External Exchange Pair Management",search:{title:"Pair Search",searchButton:"Search",resetButton:"Reset",pairName:"Pair Name",quoteSource:"Quote Source",status:"Status",sourceOptions:{all:"All Sources",binance:"Binance",gateio:"Gate.io",mexc:"MEXC",fameex:"Fameex"},statusOptions:{all:"All Status",enabled:"Enabled",disabled:"Disabled"}},list:{title:"Pair List",addButton:"Add Pair",columns:{pairName:"Pair Name",price:"Price",quoteSource:"Quote Source",status:"Status",actions:"Actions",edit:"Edit",delete:"Delete"}},modal:{addTitle:"Add Exchange Pair",editTitle:"Edit Exchange Pair",form:{pairName:"Pair Name",quoteSource:"Quote Source",sourceKey:"Source Key",status:"Status"},placeholder:{pairName:"Please enter pair name",sourceKey:"Please enter source key"},message:{addSuccess:"Added successfully",addFailed:"Add failed",editSuccess:"Edited successfully",editFailed:"Edit failed",deleteSuccess:"Deleted successfully",deleteFailed:"Delete failed",deleteConfirm:"Are you sure you want to delete this pair?"}}},k={class:"exchange-pair-management"},q={class:"search-form"},O=b(o({__name:"ExchangePair",setup(o){const b={zh:g,en:N},{t:O}=e({messages:b,legacy:!1}),T=c({pairName:"",quoteSource:"",status:""}),P=i([]),C=i(!1),K=[{title:()=>O("list.columns.pairName"),dataIndex:"pairName",key:"pairName"},{title:()=>O("list.columns.price"),dataIndex:"price",key:"price"},{title:()=>O("list.columns.quoteSource"),dataIndex:"quoteSource",key:"quoteSource",customRender:({text:e})=>({binance:O("search.sourceOptions.binance"),gateio:O("search.sourceOptions.gateio"),mexc:O("search.sourceOptions.mexc"),fameex:O("search.sourceOptions.fameex")}[e]||e)},{title:()=>O("list.columns.status"),dataIndex:"status",key:"status"},{title:()=>O("list.columns.actions"),key:"actions"}],E=i(!1),U=i(!1),B=c({id:0,pairName:"",price:0,quoteSource:"binance",sourceKey:"",status:!0});r((()=>{D()}));const D=async()=>{C.value=!0;try{setTimeout((()=>{P.value=[{id:1,pairName:"BTC/USDT",price:65432.12,quoteSource:"binance",sourceKey:"BTCUSDT",status:!0},{id:2,pairName:"ETH/USDT",price:3456.78,quoteSource:"gateio",sourceKey:"ETH_USDT",status:!0},{id:3,pairName:"XRP/USDT",price:.5678,quoteSource:"mexc",sourceKey:"XRP_USDT",status:!1}],C.value=!1}),500)}catch(e){C.value=!1}},A=()=>{D()},F=()=>{T.pairName="",T.quoteSource="",T.status="",D()},M=()=>{U.value=!1,B.id=0,B.pairName="",B.price=0,B.quoteSource="binance",B.sourceKey="",B.status=!0,E.value=!0},w=()=>{setTimeout((()=>{if(U.value){const e=P.value.findIndex((e=>e.id===B.id));-1!==e&&(P.value[e]={...B}),u.success(O("modal.message.editSuccess"))}else{const e=Math.max(...P.value.map((e=>e.id)),0)+1;P.value.push({...B,id:e,price:0}),u.success(O("modal.message.addSuccess"))}E.value=!1}),500)},I=()=>{E.value=!1};return(e,o)=>{const c=v("a-input"),i=v("a-form-item"),r=v("a-select-option"),b=v("a-select"),g=v("a-button"),N=v("a-space"),D=v("a-form"),j=v("a-card"),X=v("a-tag"),z=v("a-table"),Q=v("a-checkbox"),R=v("a-modal");return S(),d("div",k,[n("h2",null,p(f(O)("exchangePairManagement")),1),m(j,{title:f(O)("search.title"),class:"search-card"},{default:h((()=>[n("div",q,[m(D,{layout:"inline"},{default:h((()=>[m(i,{label:f(O)("search.pairName")},{default:h((()=>[m(c,{value:T.pairName,"onUpdate:value":o[0]||(o[0]=e=>T.pairName=e)},null,8,["value"])])),_:1},8,["label"]),m(i,{label:f(O)("search.quoteSource")},{default:h((()=>[m(b,{value:T.quoteSource,"onUpdate:value":o[1]||(o[1]=e=>T.quoteSource=e),style:{width:"180px"}},{default:h((()=>[m(r,{value:""},{default:h((()=>[y(p(f(O)("search.sourceOptions.all")),1)])),_:1}),m(r,{value:"binance"},{default:h((()=>[y(p(f(O)("search.sourceOptions.binance")),1)])),_:1}),m(r,{value:"gateio"},{default:h((()=>[y(p(f(O)("search.sourceOptions.gateio")),1)])),_:1}),m(r,{value:"mexc"},{default:h((()=>[y(p(f(O)("search.sourceOptions.mexc")),1)])),_:1}),m(r,{value:"fameex"},{default:h((()=>[y(p(f(O)("search.sourceOptions.fameex")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),m(i,{label:f(O)("search.status")},{default:h((()=>[m(b,{value:T.status,"onUpdate:value":o[2]||(o[2]=e=>T.status=e),style:{width:"180px"}},{default:h((()=>[m(r,{value:""},{default:h((()=>[y(p(f(O)("search.statusOptions.all")),1)])),_:1}),m(r,{value:"true"},{default:h((()=>[y(p(f(O)("search.statusOptions.enabled")),1)])),_:1}),m(r,{value:"false"},{default:h((()=>[y(p(f(O)("search.statusOptions.disabled")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),m(i,null,{default:h((()=>[m(N,null,{default:h((()=>[m(g,{type:"primary",onClick:A},{default:h((()=>[y(p(f(O)("search.searchButton")),1)])),_:1}),m(g,{onClick:F},{default:h((()=>[y(p(f(O)("search.resetButton")),1)])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1},8,["title"]),m(j,{title:f(O)("list.title"),class:"list-card"},{extra:h((()=>[m(g,{type:"primary",onClick:M},{icon:h((()=>[m(f(s))])),default:h((()=>[y(" "+p(f(O)("list.addButton")),1)])),_:1})])),default:h((()=>[m(z,{columns:K,"data-source":P.value,"row-key":e=>e.id,pagination:{pageSize:10},loading:C.value},{bodyCell:h((({column:e,record:s})=>["status"===e.key?(S(),_(X,{key:0,color:s.status?"success":"error"},{default:h((()=>[y(p(s.status?f(O)("search.statusOptions.enabled"):f(O)("search.statusOptions.disabled")),1)])),_:2},1032,["color"])):x("",!0),"actions"===e.key?(S(),_(N,{key:1},{default:h((()=>[m(g,{type:"link",size:"small",onClick:e=>(e=>{U.value=!0,B.id=e.id,B.pairName=e.pairName,B.price=e.price,B.quoteSource=e.quoteSource,B.sourceKey=e.sourceKey,B.status=e.status,E.value=!0})(s)},{default:h((()=>[m(f(a)),y(" "+p(f(O)("list.columns.edit")),1)])),_:2},1032,["onClick"]),m(g,{type:"link",size:"small",onClick:e=>(e=>{l.confirm({title:O("modal.message.deleteConfirm"),okText:O("common.action.confirm"),cancelText:O("common.action.cancel"),onOk:()=>{setTimeout((()=>{P.value=P.value.filter((a=>a.id!==e.id)),u.success(O("modal.message.deleteSuccess"))}),500)}})})(s),danger:""},{default:h((()=>[m(f(t)),y(" "+p(f(O)("list.columns.delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)):x("",!0)])),_:1},8,["data-source","row-key","loading"])])),_:1},8,["title"]),m(R,{open:E.value,"onUpdate:open":o[7]||(o[7]=e=>E.value=e),title:U.value?f(O)("modal.editTitle"):f(O)("modal.addTitle"),onOk:w,onCancel:I},{default:h((()=>[m(D,{model:B,layout:"vertical"},{default:h((()=>[m(i,{label:f(O)("modal.form.pairName")},{default:h((()=>[m(c,{value:B.pairName,"onUpdate:value":o[3]||(o[3]=e=>B.pairName=e),placeholder:f(O)("modal.placeholder.pairName")},null,8,["value","placeholder"])])),_:1},8,["label"]),m(i,{label:f(O)("modal.form.quoteSource")},{default:h((()=>[m(b,{value:B.quoteSource,"onUpdate:value":o[4]||(o[4]=e=>B.quoteSource=e),style:{width:"100%"}},{default:h((()=>[m(r,{value:"binance"},{default:h((()=>[y(p(f(O)("search.sourceOptions.binance")),1)])),_:1}),m(r,{value:"gateio"},{default:h((()=>[y(p(f(O)("search.sourceOptions.gateio")),1)])),_:1}),m(r,{value:"mexc"},{default:h((()=>[y(p(f(O)("search.sourceOptions.mexc")),1)])),_:1}),m(r,{value:"fameex"},{default:h((()=>[y(p(f(O)("search.sourceOptions.fameex")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),m(i,{label:f(O)("modal.form.sourceKey")},{default:h((()=>[m(c,{value:B.sourceKey,"onUpdate:value":o[5]||(o[5]=e=>B.sourceKey=e),placeholder:f(O)("modal.placeholder.sourceKey")},null,8,["value","placeholder"])])),_:1},8,["label"]),m(i,{label:f(O)("modal.form.status")},{default:h((()=>[m(Q,{checked:B.status,"onUpdate:checked":o[6]||(o[6]=e=>B.status=e)},null,8,["checked"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-a1e0b8b7"]]);export{O as default};
