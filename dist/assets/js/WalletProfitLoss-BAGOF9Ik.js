import{v as e,W as a}from"./vendor-BhfxMwoc.js";import{i as t,j as l,_ as r}from"./index-Cibaxni6.js";import{_ as i}from"./DateRangeSelect-BgOmWin7.js";import{_ as n}from"./WalletTypeSelect.vue_vue_type_script_setup_true_lang-C1gKsLYj.js";import{_ as o}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{_ as c}from"./CurrencySelect-BCxrVlg4.js";import{d,r as s,f as h,c as m,o as u,a0 as g,k as y,Y as C,X as p,u as w,Z as T,_ as k,G as f,a1 as v,a4 as _,W as V,F as L,$ as b}from"./vue-vendor-B-98Oggh.js";import"./lodash-CiXSdKEp.js";import"./ant-design-BRHeEO20.js";const B=[{id:1,date:"2024-01-15",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"42156.78",holdingCost:"84313.56",holdingCostChange:2.35,price:"43125.90",marketValue:"86251.80",marketValueChange:3.15,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:86251.8}]}},{id:2,date:"2024-01-15",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2543.21",holdingCost:"12716.05",holdingCostChange:-1.25,price:"2498.45",marketValue:"12492.25",marketValueChange:-1.85,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:12492.25}]}},{id:3,date:"2024-01-15",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:5e4}]}},{id:4,date:"2024-01-15",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"41890.45",holdingCost:"209452.25",holdingCostChange:3.45,price:"43125.90",marketValue:"215629.50",marketValueChange:4.25,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:215629.5}]}},{id:5,date:"2024-01-15",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2489.65",holdingCost:"24896.50",holdingCostChange:-2.15,price:"2498.45",marketValue:"24984.50",marketValueChange:-1.95,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:24984.5}]}},{id:6,date:"2024-01-14",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"41235.67",holdingCost:"82471.34",holdingCostChange:1.85,price:"42156.78",marketValue:"84313.56",marketValueChange:2.35,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:84313.56}]}},{id:7,date:"2024-01-14",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2575.45",holdingCost:"12877.25",holdingCostChange:.95,price:"2543.21",marketValue:"12716.05",marketValueChange:-1.25,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:12716.05}]}},{id:8,date:"2024-01-14",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:5e4}]}},{id:9,date:"2024-01-14",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"40567.89",holdingCost:"202839.45",holdingCostChange:2.75,price:"41890.45",marketValue:"209452.25",marketValueChange:3.45,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:209452.25}]}},{id:10,date:"2024-01-14",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2545.32",holdingCost:"25453.20",holdingCostChange:-1.45,price:"2489.65",marketValue:"24896.50",marketValueChange:-2.15,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:24896.5}]}},{id:11,date:"2024-01-13",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"40512.34",holdingCost:"81024.68",holdingCostChange:-.85,price:"41235.67",marketValue:"82471.34",marketValueChange:1.85,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:82471.34}]}},{id:12,date:"2024-01-13",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2551.23",holdingCost:"12756.15",holdingCostChange:1.25,price:"2575.45",marketValue:"12877.25",marketValueChange:.95,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:12877.25}]}},{id:13,date:"2024-01-13",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:5e4}]}},{id:14,date:"2024-01-13",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"39456.78",holdingCost:"197283.90",holdingCostChange:1.95,price:"40567.89",marketValue:"202839.45",marketValueChange:2.75,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:202839.45}]}},{id:15,date:"2024-01-13",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2582.45",holdingCost:"25824.50",holdingCostChange:.75,price:"2545.32",marketValue:"25453.20",marketValueChange:-1.45,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:25453.2}]}},{id:16,date:"2024-01-12",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"40890.12",holdingCost:"81780.24",holdingCostChange:-1.25,price:"40512.34",marketValue:"81024.68",marketValueChange:-.85,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:81024.68}]}},{id:17,date:"2024-01-12",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2520.45",holdingCost:"12602.25",holdingCostChange:.85,price:"2551.23",marketValue:"12756.15",marketValueChange:1.25,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:12756.15}]}},{id:18,date:"2024-01-12",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:5e4}]}},{id:19,date:"2024-01-12",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"38678.90",holdingCost:"193394.50",holdingCostChange:1.45,price:"39456.78",marketValue:"197283.90",marketValueChange:1.95,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:197283.9}]}},{id:20,date:"2024-01-12",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2563.21",holdingCost:"25632.10",holdingCostChange:.45,price:"2582.45",marketValue:"25824.50",marketValueChange:.75,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:25824.5}]}}],P={common:{action:{search:"搜索",reset:"重置"},table:{total:"共 {total} 條"}},reconciliation:{walletProfitLoss:{title:{search:"錢包持倉盈虧查詢",detail:"錢包持倉盈虧明細"},form:{dateRange:"日期範圍",walletId:"錢包ID",walletAddress:"錢包地址",walletType:"錢包類型",chainType:"鏈類型",currency:"幣種"},table:{date:"日期",merchant:"商戶",walletId:"錢包ID",walletBalance:"錢包餘額",chainType:"鏈類型",currency:"幣種",averagePrice:"平均價格",holdingCost:"持倉成本",price:"當前價格",marketValue:"市值",detail:"詳情"},walletType:{hot:"熱錢包",cold:"冷錢包"},detail:{title:"詳情"},chart:{holdingCost:"持倉成本",marketValue:"市值"}}}},x={views:{reconciliation:{walletProfitLoss:{title:{search:"Search Criteria",detail:"Details"},form:{dateRange:"Date Range",walletId:"Wallet ID",walletAddress:"Wallet Address",walletType:"Wallet Type",chainType:"Chain Type",currency:"Currency"},table:{date:"Date",merchant:"Merchant",walletId:"Wallet ID",walletBalance:"Wallet Balance",chainType:"Chain Type",currency:"Currency",averagePrice:"Average Price",holdingCost:"Holding Cost",price:"Current Price",marketValue:"Market Value",detail:"Details"},walletType:{hot:"Hot Wallet",cold:"Cold Wallet"},walletBalance:"Wallet Balance",chart:{holdingCost:"Holding Cost",marketValue:"Market Value"}}}}},I={class:"wallet-profit-loss"},A={class:"card-title"},D={class:"form-row"},E={class:"form-row"},W={class:"form-item-sm button-group"},H={class:"card-title"},S={class:"table-container"},R={class:"modal-content"},U={class:"chart-container"},F={class:"radio-group"},M=r(d({__name:"WalletProfitLoss",setup(r){const d={zh:{...P,...l},en:{...x,...t}},{t:M}=e({messages:d,legacy:!1}),j=a,z=s({dateRange:[],walletId:"",walletAddress:"",walletType:void 0,chainType:void 0,currency:void 0});h([{value:"hot",label:M("reconciliation.walletProfitLoss.walletType.hot")},{value:"cold",label:M("reconciliation.walletProfitLoss.walletType.cold")}]),h([{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"TRON",label:"TRON"}]),h([{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"}]);const N=h([]),O=h(!1),G=s({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>M("common.table.total",{total:e})}),q=[{title:M("reconciliation.walletProfitLoss.table.date"),dataIndex:"date",key:"date",width:120},{title:M("reconciliation.walletProfitLoss.table.merchant"),dataIndex:"merchant",key:"merchant",width:120},{title:M("reconciliation.walletProfitLoss.table.walletId"),dataIndex:"walletId",key:"walletId",width:150},{title:M("reconciliation.walletProfitLoss.table.walletBalance"),dataIndex:"walletBalance",key:"walletBalance",width:120},{title:M("reconciliation.walletProfitLoss.table.chainType"),dataIndex:"chainType",key:"chainType",width:120},{title:M("reconciliation.walletProfitLoss.table.currency"),dataIndex:"currency",key:"currency",width:120},{title:M("reconciliation.walletProfitLoss.table.averagePrice"),dataIndex:"averagePrice",key:"averagePrice",width:150,align:"right"},{title:M("reconciliation.walletProfitLoss.table.holdingCost"),key:"holdingCost",width:200,align:"right"},{title:M("reconciliation.walletProfitLoss.table.price"),dataIndex:"price",key:"price",width:150,align:"right"},{title:M("reconciliation.walletProfitLoss.table.marketValue"),key:"marketValue",width:200,align:"right"},{title:M("reconciliation.walletProfitLoss.table.detail"),key:"detail",width:120,customCell:()=>({style:{textAlign:"center"}})}],J=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:8,maximumFractionDigits:8}).format(parseFloat(e)),Q=h(!1),X=h("7"),Y=h(null),Z=m((()=>({chart:{type:"line",height:350,toolbar:{show:!0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#1f1f1f",foreColor:"#999"},colors:["#00E396","#FF4560"],stroke:{curve:"smooth",width:3},dataLabels:{enabled:!1},grid:{borderColor:"#303030",strokeDashArray:3,padding:{top:10,right:10,bottom:10,left:10}},xaxis:{type:"datetime",labels:{style:{colors:"#999"},datetimeFormatter:{year:"yyyy",month:"MM/dd",day:"MM/dd",hour:"HH:mm"}},axisBorder:{color:"#303030"},axisTicks:{color:"#303030"}},yaxis:{labels:{style:{colors:"#999"},formatter:e=>e.toFixed(8)}},tooltip:{theme:"dark",x:{format:"yyyy/MM/dd HH:mm"},y:{formatter:e=>e.toFixed(8)}},legend:{show:!0,position:"top",horizontalAlign:"right",labels:{colors:"#999"}}}))),$=m((()=>{const e=parseInt(X.value),a=((e,a)=>{if(!e)return{holdingCost:[],marketValue:[]};const t={holdingCost:[],marketValue:[]},l=new Date,r=parseFloat(e.holdingCost),i=parseFloat(e.marketValue);for(let n=0;n<a;n++){const e=new Date(l);e.setDate(e.getDate()-n);const a=.98+.04*Math.random(),o=.98+.04*Math.random();t.holdingCost.unshift({x:e.getTime(),y:r*a}),t.marketValue.unshift({x:e.getTime(),y:i*o})}return t})(Y.value,e);return[{name:M("reconciliation.walletProfitLoss.chart.holdingCost"),data:a.holdingCost},{name:M("reconciliation.walletProfitLoss.chart.marketValue"),data:a.marketValue}]})),K=e=>{X.value=e.target.value},ee=()=>{O.value=!0,setTimeout((()=>{N.value=B,G.total=B.length,O.value=!1}),500)},ae=()=>{z.dateRange=[],z.walletId="",z.walletAddress="",z.walletType=void 0,z.chainType=void 0,z.currency=void 0,ee()},te=e=>{G.current=e.current,G.pageSize=e.pageSize,ee()};return u((()=>{ee()})),(e,a)=>{const t=p("a-form-item"),l=p("a-input"),r=p("a-button"),d=p("a-space"),s=p("a-form"),h=p("a-card"),m=p("a-table"),u=p("a-radio-button"),B=p("a-radio-group"),P=p("a-modal");return T(),g("div",I,[y(h,{bordered:!1,class:"filter-card"},{title:C((()=>[k("span",A,v(w(M)("reconciliation.walletProfitLoss.title.search")),1)])),default:C((()=>[y(s,{model:z,class:"query-form"},{default:C((()=>[k("div",D,[y(t,{label:w(M)("reconciliation.walletProfitLoss.form.dateRange"),class:"form-item-lg"},{default:C((()=>[y(i,{modelValue:z.dateRange,"onUpdate:modelValue":a[0]||(a[0]=e=>z.dateRange=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),y(t,{label:w(M)("reconciliation.walletProfitLoss.form.walletId"),class:"form-item-md"},{default:C((()=>[y(l,{value:z.walletId,"onUpdate:value":a[1]||(a[1]=e=>z.walletId=e),style:{width:"100%"},"allow-clear":""},null,8,["value"])])),_:1},8,["label"]),y(t,{label:w(M)("reconciliation.walletProfitLoss.form.walletAddress"),class:"form-item-lg"},{default:C((()=>[y(l,{value:z.walletAddress,"onUpdate:value":a[2]||(a[2]=e=>z.walletAddress=e),style:{width:"100%"},"allow-clear":""},null,8,["value"])])),_:1},8,["label"])]),k("div",E,[y(t,{label:w(M)("reconciliation.walletProfitLoss.form.walletType"),class:"form-item-md"},{default:C((()=>[y(n,{modelValue:z.walletType,"onUpdate:modelValue":a[3]||(a[3]=e=>z.walletType=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),y(t,{label:w(M)("reconciliation.walletProfitLoss.form.chainType"),class:"form-item-md"},{default:C((()=>[y(o,{modelValue:z.chainType,"onUpdate:modelValue":a[4]||(a[4]=e=>z.chainType=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),y(t,{label:w(M)("reconciliation.walletProfitLoss.form.currency"),class:"form-item-md"},{default:C((()=>[y(c,{modelValue:z.currency,"onUpdate:modelValue":a[5]||(a[5]=e=>z.currency=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),k("div",W,[y(d,null,{default:C((()=>[y(r,{onClick:ae},{default:C((()=>[f(v(w(M)("common.action.reset")),1)])),_:1}),y(r,{type:"primary",onClick:ee},{default:C((()=>[f(v(w(M)("common.action.search")),1)])),_:1})])),_:1})])])])),_:1},8,["model"])])),_:1}),y(h,{bordered:!1,bodyStyle:{padding:"20px 24px"},class:"table-card"},{title:C((()=>[k("span",H,v(w(M)("reconciliation.walletProfitLoss.title.detail")),1)])),default:C((()=>[k("div",S,[y(m,{columns:q,"data-source":N.value,loading:O.value,pagination:G,onChange:te,"row-key":"id"},{bodyCell:C((({column:e,record:a})=>["holdingCost"===e.key?(T(),g(L,{key:0},[k("span",null,v(J(a.holdingCost)),1),k("span",{class:b(["percentage",a.holdingCostChange>=0?"increase":"decrease"])},v(a.holdingCostChange>=0?"↑":"↓")+" "+v(Math.abs(a.holdingCostChange).toFixed(2))+"% ",3)],64)):_("",!0),"marketValue"===e.key?(T(),g(L,{key:1},[k("span",null,v(J(a.marketValue)),1),k("span",{class:b(["percentage",a.marketValueChange>=0?"increase":"decrease"])},v(a.marketValueChange>=0?"↑":"↓")+" "+v(Math.abs(a.marketValueChange).toFixed(2))+"% ",3)],64)):_("",!0),"averagePrice"===e.key||"price"===e.key?(T(),g(L,{key:2},[f(v(J(a[e.key])),1)],64)):_("",!0),"walletBalance"===e.key?(T(),g(L,{key:3},[f(v(J(a.walletBalance)),1)],64)):_("",!0),"detail"===e.key?(T(),V(r,{key:4,type:"link",onClick:e=>(e=>{Y.value=e,Q.value=!0})(a)},{default:C((()=>[f(v(w(M)("reconciliation.walletProfitLoss.table.detail")),1)])),_:2},1032,["onClick"])):_("",!0)])),_:1},8,["data-source","loading","pagination"])])])),_:1}),y(P,{open:Q.value,"onUpdate:open":a[7]||(a[7]=e=>Q.value=e),title:w(M)("reconciliation.walletProfitLoss.detail.title"),width:800,footer:null,destroyOnClose:!0},{default:C((()=>[k("div",R,[k("div",U,[y(w(j),{width:"100%",height:"400",type:"line",options:Z.value,series:$.value},null,8,["options","series"])]),k("div",F,[y(B,{value:X.value,"onUpdate:value":a[6]||(a[6]=e=>X.value=e),onChange:K},{default:C((()=>[y(u,{value:"7"},{default:C((()=>a[8]||(a[8]=[f("7天")]))),_:1}),y(u,{value:"30"},{default:C((()=>a[9]||(a[9]=[f("30天")]))),_:1}),y(u,{value:"90"},{default:C((()=>a[10]||(a[10]=[f("90天")]))),_:1})])),_:1},8,["value"])])])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-66faf378"]]);export{M as default};
