import{v as e,Y as a}from"./vendor-BhfxMwoc.js";import{_ as t}from"./DateRangeSelect-BgOmWin7.js";import{_ as s}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{d as o,r as i,f as l,o as n,a0 as r,k as d,Y as c,X as m,Z as u,_ as h,G as p,a1 as g,u as f}from"./vue-vendor-B-98Oggh.js";import{_ as y}from"./index-BCb4CLWl.js";import"./lodash-CiXSdKEp.js";import"./ant-design-DorZdoiW.js";const v={nodeHeight:{title:"節點高度分析",chart:{title:"{days}日節點差異數",yAxisName:"差異數"}}},_={nodeHeight:{title:"Node Height Analysis",chart:{title:"Node Height Difference ({days} Days)",yAxisName:"Difference"}}},x={class:"node-height-analysis"},H={class:"card-title"},b={class:"form-row"},D={class:"form-item-lg"},j={class:"form-item-md"},A={class:"form-item-sm button-group"},R={class:"card-title"},S={class:"chart-container"},T=y(o({__name:"NodeHeightAnalysis",setup(o){const y={zh:{nodeHeight:v.nodeHeight,common:{action:{search:"搜索",reset:"重置"}}},en:{nodeHeight:_.nodeHeight,common:{action:{search:"Search",reset:"Reset"}}}},{t:T}=e({messages:y,legacy:!1,useScope:"local"}),w=i({dateRange:[],chainType:void 0}),N=l(!1),V=l(null);let k=null;const z=()=>{if(!V.value)return;k=a(V.value);const e=(()=>{const e=new Date,a=[];for(let t=6;t>=0;t--){const s=new Date(e);s.setDate(s.getDate()-t),a.push({date:s.toISOString().split("T")[0],value:Math.floor(100*Math.random())+50})}return a})(),t={tooltip:{trigger:"axis"},xAxis:{type:"category",data:e.map((e=>e.date)),axisLabel:{rotate:45}},yAxis:{type:"value",name:T("nodeHeight.chart.yAxisName")},series:[{data:e.map((e=>e.value)),type:"line",smooth:!0,areaStyle:{opacity:.3}}],grid:{left:"3%",right:"4%",bottom:"15%",containLabel:!0}};k.setOption(t)},C=()=>{N.value=!0,setTimeout((()=>{z(),N.value=!1}),500)},L=()=>{w.dateRange=[],w.chainType=void 0};return n((()=>{z(),window.addEventListener("resize",(()=>null==k?void 0:k.resize()))})),(e,a)=>{const o=m("a-button"),i=m("a-space"),l=m("a-form"),n=m("a-card"),y=m("a-spin");return u(),r("div",x,[d(n,{bordered:!1,class:"filter-card"},{title:c((()=>[h("span",H,g(f(T)("nodeHeight.title")),1)])),default:c((()=>[d(l,{model:w,class:"query-form"},{default:c((()=>[h("div",b,[h("div",D,[d(t,{modelValue:w.dateRange,"onUpdate:modelValue":a[0]||(a[0]=e=>w.dateRange=e)},null,8,["modelValue"])]),h("div",j,[d(s,{modelValue:w.chainType,"onUpdate:modelValue":a[1]||(a[1]=e=>w.chainType=e)},null,8,["modelValue"])]),h("div",A,[d(i,null,{default:c((()=>[d(o,{type:"primary",onClick:C},{default:c((()=>[p(g(f(T)("common.action.search")),1)])),_:1}),d(o,{onClick:L},{default:c((()=>[p(g(f(T)("common.action.reset")),1)])),_:1})])),_:1})])])])),_:1},8,["model"])])),_:1}),d(n,{bordered:!1,class:"chart-card"},{title:c((()=>[h("span",R,g(f(T)("nodeHeight.chart.title",{days:7})),1)])),default:c((()=>[h("div",S,[d(y,{spinning:N.value},{default:c((()=>[h("div",{ref_key:"chartRef",ref:V,style:{width:"100%",height:"400px"}},null,512)])),_:1},8,["spinning"])])])),_:1})])}}}),[["__scopeId","data-v-3bfa06d2"]]);export{T as default};
