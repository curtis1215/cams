import{v as e}from"./vendor-BhfxMwoc.js";import{_ as a}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{_ as c}from"./CurrencySelect-BCxrVlg4.js";import{b as l,d as n,R as d,J as r,X as t,P as i}from"./ant-design-BRHeEO20.js";import{d as o,f as u,r as s,c as y,a0 as p,k as T,Y as h,X as v,u as k,Z as b,G as f,a1 as m,_ as S,W as C,a4 as D}from"./vue-vendor-B-98Oggh.js";import{_ as U}from"./index-Cibaxni6.js";import"./lodash-CiXSdKEp.js";const B={search:{title:"代碼搜尋"},list:{title:"代碼列表"},field:{bankcode:"代碼",chainType:"鏈類型",currency:"幣種",action:"操作"},placeholder:{enterBankcode:"請輸入代碼",selectChainType:"請選擇鏈類型",selectCurrency:"請選擇幣種"},action:{search:"搜尋",reset:"重置",add:"新增",edit:"編輯",delete:"刪除"},modal:{addTitle:"新增代碼",editTitle:"編輯代碼",deleteTitle:"刪除代碼",deleteConfirm:"確定要刪除此代碼嗎？"},validation:{required:{bankcode:"請輸入代碼",chainType:"請選擇鏈類型",currency:"請選擇幣種"}},common:{fetchFailed:"獲取數據失敗",addSuccess:"新增成功",updateSuccess:"更新成功",deleteSuccess:"刪除成功",deleteFailed:"刪除失敗"}},g={search:{title:"Code Search"},list:{title:"Code List"},field:{bankcode:"Code",chainType:"Chain Type",currency:"Currency",action:"Action"},placeholder:{enterBankcode:"Please enter code",selectChainType:"Please select chain type",selectCurrency:"Please select currency"},action:{search:"Search",reset:"Reset",add:"Add",edit:"Edit",delete:"Delete"},modal:{addTitle:"Add Code",editTitle:"Edit Code",deleteTitle:"Delete Code",deleteConfirm:"Are you sure you want to delete this code?"},validation:{required:{bankcode:"Please enter code",chainType:"Please select chain type",currency:"Please select currency"}},common:{fetchFailed:"Failed to fetch data",addSuccess:"Added successfully",updateSuccess:"Updated successfully",deleteSuccess:"Deleted successfully",deleteFailed:"Failed to delete"}},_=[{bankcode:"BNBUSDT",chainType:"BSC",currency:"USDT"},{bankcode:"TRXUSDT",chainType:"TRX",currency:"USDT"},{bankcode:"ETHUSDT",chainType:"ETH",currency:"USDT"},{bankcode:"BTCUSDT",chainType:"BTC",currency:"USDT"},{bankcode:"BNBUSDC",chainType:"BSC",currency:"USDC"},{bankcode:"TRXUSDC",chainType:"TRX",currency:"USDC"},{bankcode:"ETHUSDC",chainType:"ETH",currency:"USDC"},{bankcode:"BTCUSDC",chainType:"BTC",currency:"USDC"},{bankcode:"BNBBUSD",chainType:"BSC",currency:"BUSD"},{bankcode:"TRXBUSD",chainType:"TRX",currency:"BUSD"},{bankcode:"ETHBUSD",chainType:"ETH",currency:"BUSD"},{bankcode:"BTCBUSD",chainType:"BTC",currency:"BUSD"},{bankcode:"BNBDAI",chainType:"BSC",currency:"DAI"},{bankcode:"TRXDAI",chainType:"TRX",currency:"DAI"},{bankcode:"ETHDAI",chainType:"ETH",currency:"DAI"},{bankcode:"BTCDAI",chainType:"BTC",currency:"DAI"},{bankcode:"BNBTUSD",chainType:"BSC",currency:"TUSD"},{bankcode:"TRXTUSD",chainType:"TRX",currency:"TUSD"},{bankcode:"ETHTUSD",chainType:"ETH",currency:"TUSD"},{bankcode:"BTCTUSD",chainType:"BTC",currency:"TUSD"}],w={class:"bankcode-management"},q={class:"card-title"},A={class:"card-title"},I=U(o({__name:"Bankcode",setup(o){const U={zh:B,en:g},{t:I}=e({messages:U,legacy:!1}),R=u(_),x=[{title:I("field.bankcode"),dataIndex:"bankcode",key:"bankcode",width:200},{title:I("field.chainType"),dataIndex:"chainType",key:"chainType",width:150},{title:I("field.currency"),dataIndex:"currency",key:"currency",width:150},{title:I("field.action"),key:"action",width:150,fixed:"right"}],E=u([]),X=u(!1),z=s({current:1,pageSize:20,total:0,showSizeChanger:!0,showQuickJumper:!0}),H=u(),F=u(!1),j=u(!1),P=u(!1),V=u(null),N=s({bankcode:"",chainType:"",currency:""}),L={bankcode:[{required:!0,message:I("validation.required.bankcode"),trigger:"blur"}],chainType:[{required:!0,message:I("validation.required.chainType"),trigger:"change"}],currency:[{required:!0,message:I("validation.required.currency"),trigger:"change"}]},J=y((()=>P.value?I("modal.editTitle"):I("modal.addTitle"))),O=s({bankcode:"",chainType:void 0,currency:void 0}),G=()=>{z.current=1,$()},Q=()=>{O.bankcode="",O.chainType=void 0,O.currency=void 0,G()},W=e=>{z.current=e.current,z.pageSize=e.pageSize,$()},Y=()=>{P.value=!1,N.bankcode="",N.chainType="",N.currency="",F.value=!0},Z=()=>{if(V.value){const e=R.value.findIndex((e=>{var a;return e.bankcode===(null==(a=V.value)?void 0:a.bankcode)}));e>-1&&R.value.splice(e,1)}j.value=!1},K=()=>{var e;null==(e=H.value)||e.validate().then((()=>{if(V.value){const e=R.value.findIndex((e=>{var a;return e.bankcode===(null==(a=V.value)?void 0:a.bankcode)}));e>-1&&(R.value[e]={...N})}else R.value.push({...N});F.value=!1}))},M=()=>{var e;null==(e=H.value)||e.resetFields(),F.value=!1},$=()=>{X.value=!0;try{const e=(z.current-1)*z.pageSize,a=e+z.pageSize;E.value=R.value.slice(e,a),z.total=R.value.length}catch(e){l.error(I("common.fetchFailed"))}finally{X.value=!1}};$();const ee=y((()=>{let e=R.value;return O.bankcode&&(e=e.filter((e=>e.bankcode.toLowerCase().includes(O.bankcode.toLowerCase())))),O.chainType&&(e=e.filter((e=>e.chainType===O.chainType))),O.currency&&(e=e.filter((e=>e.currency===O.currency))),e}));return y((()=>{const e=(z.current-1)*z.pageSize;return ee.value.slice(e,e+z.pageSize)})),y((()=>ee.value.length)),(e,l)=>{const o=v("a-input"),u=v("a-form-item"),s=v("a-button"),y=v("a-space"),U=v("a-form"),B=v("a-card"),g=v("a-table"),_=v("a-modal");return b(),p("div",w,[T(B,{bordered:!1,class:"search-card"},{title:h((()=>[S("span",q,m(k(I)("search.title")),1)])),default:h((()=>[T(U,{layout:"inline",model:O},{default:h((()=>[T(u,{label:k(I)("field.bankcode")},{default:h((()=>[T(o,{value:O.bankcode,"onUpdate:value":l[0]||(l[0]=e=>O.bankcode=e),placeholder:k(I)("placeholder.enterBankcode"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),T(u,{label:k(I)("field.chainType")},{default:h((()=>[T(a,{value:O.chainType,"onUpdate:value":l[1]||(l[1]=e=>O.chainType=e),style:{width:"180px"}},null,8,["value"])])),_:1},8,["label"]),T(u,{label:k(I)("field.currency")},{default:h((()=>[T(c,{modelValue:O.currency,"onUpdate:modelValue":l[2]||(l[2]=e=>O.currency=e),style:{width:"180px"}},null,8,["modelValue"])])),_:1},8,["label"]),T(u,null,{default:h((()=>[T(y,null,{default:h((()=>[T(s,{type:"primary",onClick:G},{icon:h((()=>[T(k(n))])),default:h((()=>[f(" "+m(k(I)("action.search")),1)])),_:1}),T(s,{onClick:Q},{icon:h((()=>[T(k(d))])),default:h((()=>[f(" "+m(k(I)("action.reset")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),T(B,{bordered:!1,class:"list-card"},{title:h((()=>[S("span",A,m(k(I)("list.title")),1)])),extra:h((()=>[T(s,{type:"primary",onClick:Y},{icon:h((()=>[T(k(i))])),default:h((()=>[f(" "+m(k(I)("action.add")),1)])),_:1})])),default:h((()=>[T(g,{columns:x,"data-source":E.value,pagination:z,loading:X.value,onChange:W},{bodyCell:h((({column:e,record:a})=>["action"===e.key?(b(),C(y,{key:0},{default:h((()=>[T(s,{type:"link",onClick:e=>(e=>{P.value=!0,V.value=e,N.bankcode=e.bankcode,N.chainType=e.chainType,N.currency=e.currency,F.value=!0})(a)},{icon:h((()=>[T(k(r))])),default:h((()=>[f(" "+m(k(I)("action.edit")),1)])),_:2},1032,["onClick"]),T(s,{type:"link",danger:"",onClick:e=>(e=>{V.value=e,j.value=!0})(a)},{icon:h((()=>[T(k(t))])),default:h((()=>[f(" "+m(k(I)("action.delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)):D("",!0)])),_:1},8,["data-source","pagination","loading"])])),_:1}),T(_,{open:F.value,"onUpdate:open":l[6]||(l[6]=e=>F.value=e),title:J.value,onOk:K,onCancel:M},{default:h((()=>[T(U,{ref_key:"formRef",ref:H,model:N,rules:L,"label-col":{span:6},"wrapper-col":{span:16}},{default:h((()=>[T(u,{name:"bankcode",label:k(I)("field.bankcode"),rules:[{required:!0,message:k(I)("validation.required.bankcode")}]},{default:h((()=>[T(o,{value:N.bankcode,"onUpdate:value":l[3]||(l[3]=e=>N.bankcode=e),placeholder:k(I)("placeholder.enterBankcode"),disabled:P.value},null,8,["value","placeholder","disabled"])])),_:1},8,["label","rules"]),T(u,{name:"chainType",label:k(I)("field.chainType"),rules:[{required:!0,message:k(I)("validation.required.chainType")}]},{default:h((()=>[T(a,{value:N.chainType,"onUpdate:value":l[4]||(l[4]=e=>N.chainType=e),style:{width:"100%"}},null,8,["value"])])),_:1},8,["label","rules"]),T(u,{name:"currency",label:k(I)("field.currency"),rules:[{required:!0,message:k(I)("validation.required.currency")}]},{default:h((()=>[T(c,{modelValue:N.currency,"onUpdate:modelValue":l[5]||(l[5]=e=>N.currency=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1},8,["model"])])),_:1},8,["open","title"]),T(_,{open:j.value,"onUpdate:open":l[7]||(l[7]=e=>j.value=e),title:k(I)("modal.deleteTitle"),onOk:Z,onCancel:l[8]||(l[8]=e=>j.value=!1)},{default:h((()=>[S("p",null,m(k(I)("modal.deleteConfirm")),1)])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-d5aa57df"]]);export{I as default};
