import{v as e}from"./vendor-BhfxMwoc.js";import{_ as a}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{_ as t}from"./CurrencySelect-BCxrVlg4.js";import{_ as s}from"./DateRangeSelect-BgOmWin7.js";import{c as l,y as d,J as r,b as c}from"./ant-design-DorZdoiW.js";import{d as n,r as i,f as o,a0 as u,k as f,Y as m,u as p,X as y,Z as h,G as T,a1 as b,W as k,a4 as x,_ as I,$ as C}from"./vue-vendor-B-98Oggh.js";import{_ as g}from"./index-BCb4CLWl.js";import"./lodash-CiXSdKEp.js";const A={title:{transactionDetailQuery:"交易詳情查詢",transactionList:"交易列表"},field:{dateRange:"日期範圍",chainType:"鏈類型",currency:"幣種",fromAddress:"來源地址",toAddress:"目標地址",txHash:"交易哈希",blockHeight:"區塊高度",status:"狀態",detailId:"詳情 ID",feeCurrency:"手續費幣種",feeAmount:"手續費數量",onChainTime:"上鏈時間",confirmTime:"確認時間"},prompt:{pleaseInputFromAddress:"請輸入來源地址",pleaseInputToAddress:"請輸入目標地址",pleaseInputTxHash:"請輸入交易哈希",pleaseInputBlockHeight:"請輸入區塊高度",pleaseSelectStatus:"請選擇狀態"},status:{success:"成功",confirming:"確認中({current}/{required})",failed:"失敗"},action:{search:"搜索",reset:"重置",download:"下載"},message:{copySuccess:"複製成功",copyFailed:"複製失敗"},totalItems:"共 {total} 條"},v={title:{transactionDetailQuery:"Transaction Detail Query",transactionList:"Transaction List"},field:{dateRange:"Date Range",chainType:"Chain Type",currency:"Currency",fromAddress:"From Address",toAddress:"To Address",txHash:"Transaction Hash",blockHeight:"Block Height",status:"Status",detailId:"Detail ID",feeCurrency:"Fee Currency",feeAmount:"Fee Amount",onChainTime:"On-chain Time",confirmTime:"Confirm Time"},prompt:{pleaseInputFromAddress:"Please input from address",pleaseInputToAddress:"Please input to address",pleaseInputTxHash:"Please input transaction hash",pleaseInputBlockHeight:"Please input block height",pleaseSelectStatus:"Please select status"},status:{success:"Success",confirming:"Confirming({current}/{required})",failed:"Failed"},action:{search:"Search",reset:"Reset"},message:{copySuccess:"Copy Success",copyFailed:"Copy Failed"},totalItems:"Total {total} items"},H={transactionList:[{key:"1",detailId:"TX202403150001",chainType:"ETH",currency:"USDT",fromAddress:"0x1234567890abcdef1234567890abcdef12345678",fromWalletId:"W202403150001",toAddress:"0x2345678901abcdef2345678901abcdef23456789",toWalletId:"W202403150002",txHash:"0xabcd1234abcd1234abcd1234abcd1234abcd1234abcd1234abcd1234abcd1234",feeCurrency:"ETH",feeAmount:"0.005",status:"success",onChainTime:"2024-03-15 10:00:00",confirmTime:"2024-03-15 10:30:00"},{key:"2",detailId:"TX202403150002",chainType:"BTC",currency:"BTC",fromAddress:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",fromWalletId:null,toAddress:"bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8f3t4",toWalletId:"W202403150003",txHash:"6b912f1c30397c84472bf8588278f53986a4f0b1fc5d9b5d3c9f5c45f2f12345",feeCurrency:"BTC",feeAmount:"0.0001",status:"confirming",onChainTime:"2024-03-15 09:45:00",confirmTime:null},{key:"3",detailId:"TX202403150003",chainType:"TRON",currency:"USDT",fromAddress:"TNPeeaaFB7K9cmo4uQpcU32zGK8G1NYqeL",fromWalletId:"W202403150004",toAddress:"TYsbWxTuqQgpEJBHtFuVaXnGXzqQC8SWqz",toWalletId:null,txHash:"7b42f89e3b1f9c8d4e5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7",feeCurrency:"TRX",feeAmount:"1.5",status:"failed",onChainTime:"2024-03-15 09:30:00",confirmTime:null},{key:"4",detailId:"TX202403150004",chainType:"ETH",currency:"ETH",fromAddress:"0x3456789012abcdef3456789012abcdef34567890",fromWalletId:"W202403150005",toAddress:"0x4567890123abcdef4567890123abcdef45678901",toWalletId:"W202403150006",txHash:"0xdef5678def5678def5678def5678def5678def5678def5678def5678def5678",feeCurrency:"ETH",feeAmount:"0.003",status:"success",onChainTime:"2024-03-15 09:15:00",confirmTime:"2024-03-15 09:45:00"},{key:"5",detailId:"TX202403150005",chainType:"BTC",currency:"BTC",fromAddress:"bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq",fromWalletId:"W202403150007",toAddress:"bc1q9h6mqkfqht9ckhz9txy6fmwp0xn6rz2qz7g8vg",toWalletId:null,txHash:"8c023f1d41397c84472bf8588278f53986a4f0b1fc5d9b5d3c9f5c45f2f12345",feeCurrency:"BTC",feeAmount:"0.00015",status:"confirming",onChainTime:"2024-03-15 09:00:00",confirmTime:null},{key:"6",detailId:"TX202403150006",chainType:"TRON",currency:"TRX",fromAddress:"TQVxjVy2sYt4at45ezD3ssQMm4qr3pKxvY",fromWalletId:null,toAddress:"TWpWJGkZXHJKLmZCpHHpBRzMaKBk9SyL5H",toWalletId:"W202403150008",txHash:"9d53e90f4c2f8d1e5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8",feeCurrency:"TRX",feeAmount:"1.2",status:"success",onChainTime:"2024-03-15 08:45:00",confirmTime:"2024-03-15 09:15:00"},{key:"7",detailId:"TX202403150007",chainType:"ETH",currency:"USDC",fromAddress:"0x5678901234abcdef5678901234abcdef56789012",fromWalletId:"W202403150009",toAddress:"0x6789012345abcdef6789012345abcdef67890123",toWalletId:"W202403150010",txHash:"0xef678901ef678901ef678901ef678901ef678901ef678901ef678901ef678901",feeCurrency:"ETH",feeAmount:"0.004",status:"failed",onChainTime:"2024-03-15 08:30:00",confirmTime:null},{key:"8",detailId:"TX202403150008",chainType:"BTC",currency:"BTC",fromAddress:"bc1qxr4fjkvnxjqphuyaw5a08za9g6qqh65t8qwgum",fromWalletId:"W202403150011",toAddress:"bc1qwqdg6squsna38e46795at95yu9atm8azzmyvckulcc7kytlcckxswvvzej",toWalletId:"W202403150012",txHash:"ad134f2e52397c84472bf8588278f53986a4f0b1fc5d9b5d3c9f5c45f2f12345",feeCurrency:"BTC",feeAmount:"0.00012",status:"success",onChainTime:"2024-03-15 08:15:00",confirmTime:"2024-03-15 08:45:00"},{key:"9",detailId:"TX202403150009",chainType:"TRON",currency:"USDT",fromAddress:"TUrMmF9Gd4rzrXsUFrF2BrAkqjTquc1pXh",fromWalletId:null,toAddress:"TVxm4GQK9QhFZsE1k8ekj4CgWzkkqYZZV4",toWalletId:null,txHash:"be64f91g5d3h8e2j5k6l7m8n9p0q1r2s3t4u5v6w7x8y9z0a1b2c3d4e5f6g7h",feeCurrency:"TRX",feeAmount:"1.8",status:"confirming",onChainTime:"2024-03-15 08:00:00",confirmTime:null},{key:"10",detailId:"TX202403150010",chainType:"ETH",currency:"ETH",fromAddress:"0x7890123456abcdef7890123456abcdef78901234",fromWalletId:"W202403150013",toAddress:"0x8901234567abcdef8901234567abcdef89012345",toWalletId:"W202403150014",txHash:"0xf0123456f0123456f0123456f0123456f0123456f0123456f0123456f0123456",feeCurrency:"ETH",feeAmount:"0.002",status:"success",onChainTime:"2024-03-15 07:45:00",confirmTime:"2024-03-15 08:15:00"}]},w={class:"transaction-detail"},W={key:0,class:"address-info"},_={class:"address"},q={key:0,class:"wallet-id"},S={key:1,class:"address-info"},z={class:"address"},j={key:0,class:"wallet-id"},B={key:2,class:"hash-container"},R={class:"hash-text"},X={class:"icon-group"},F=g(n({__name:"Transaction",setup(n){const g={zh:A,en:v},{t:F}=e({messages:g,legacy:!1}),U=i({dateRange:[],chainType:void 0,currency:void 0,fromAddress:"",toAddress:"",txHash:"",blockHeight:void 0,status:void 0,confirmations:{current:0,required:0}}),D=()=>{},E=()=>{Object.keys(U).forEach((e=>{U[e]="confirmations"===e?{current:0,required:0}:"dateRange"===e?[]:"fromAddress"===e||"toAddress"===e||"txHash"===e?"":void 0}))},V=[{title:F("field.detailId"),dataIndex:"detailId",key:"detailId",width:180},{title:F("field.chainType"),dataIndex:"chainType",key:"chainType",width:100},{title:F("field.currency"),dataIndex:"currency",key:"currency",width:100},{title:F("field.fromAddress"),key:"fromInfo",width:300},{title:F("field.toAddress"),key:"toInfo",width:300},{title:F("field.txHash"),dataIndex:"txHash",key:"txHash",width:300},{title:F("field.feeCurrency"),dataIndex:"feeCurrency",key:"feeCurrency",width:100},{title:F("field.feeAmount"),dataIndex:"feeAmount",key:"feeAmount",width:120},{title:F("field.status"),key:"status",width:120},{title:F("field.onChainTime"),dataIndex:"onChainTime",key:"onChainTime",width:180},{title:F("field.confirmTime"),dataIndex:"confirmTime",key:"confirmTime",width:180}],Q=i({total:100,current:1,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>F("totalItems",{total:e})}),L=(e,a,t)=>{Q.current=e.current||1,Q.pageSize=e.pageSize||10},$=e=>e?`${e.slice(0,4)}****${e.slice(-4)}`:"",G=async e=>{try{await navigator.clipboard.writeText(e),c.success(F("message.copySuccess"))}catch(a){c.error(F("message.copyFailed"))}},O=o(H.transactionList.map((e=>({...e,status:e.status})))),K=()=>{const e=[V.map((e=>e.title)).join(","),...O.value.map((e=>V.map((a=>`"${e[a.dataIndex]||""}"`)).join(",")))].join("\n"),a=new Blob([e],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),s=URL.createObjectURL(a);t.setAttribute("href",s),t.setAttribute("download",`transaction_${(new Date).toISOString().split("T")[0]}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),c.success(F("message.downloadSuccess"))};return(e,n)=>{const i=y("a-form-item"),o=y("a-input"),g=y("a-input-number"),A=y("a-select-option"),v=y("a-select"),H=y("a-button"),P=y("a-space"),Y=y("a-form"),Z=y("a-card"),J=y("a-tag"),N=y("a-table");return h(),u("div",w,[f(Z,{title:p(F)("title.transactionDetailQuery"),bordered:!1},{default:m((()=>[f(Y,{layout:"inline",model:U},{default:m((()=>[f(i,{label:p(F)("field.dateRange")},{default:m((()=>[f(s,{modelValue:U.dateRange,"onUpdate:modelValue":n[0]||(n[0]=e=>U.dateRange=e),style:{width:"300px"}},null,8,["modelValue"])])),_:1},8,["label"]),f(i,{label:p(F)("field.chainType")},{default:m((()=>[f(a,{modelValue:U.chainType,"onUpdate:modelValue":n[1]||(n[1]=e=>U.chainType=e)},null,8,["modelValue"])])),_:1},8,["label"]),f(i,{label:p(F)("field.currency")},{default:m((()=>[f(t,{modelValue:U.currency,"onUpdate:modelValue":n[2]||(n[2]=e=>U.currency=e)},null,8,["modelValue"])])),_:1},8,["label"]),f(i,{label:p(F)("field.fromAddress")},{default:m((()=>[f(o,{value:U.fromAddress,"onUpdate:value":n[3]||(n[3]=e=>U.fromAddress=e),placeholder:p(F)("prompt.pleaseInputFromAddress"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),f(i,{label:p(F)("field.toAddress")},{default:m((()=>[f(o,{value:U.toAddress,"onUpdate:value":n[4]||(n[4]=e=>U.toAddress=e),placeholder:p(F)("prompt.pleaseInputToAddress"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),f(i,{label:p(F)("field.txHash")},{default:m((()=>[f(o,{value:U.txHash,"onUpdate:value":n[5]||(n[5]=e=>U.txHash=e),placeholder:p(F)("prompt.pleaseInputTxHash"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),f(i,{label:p(F)("field.blockHeight")},{default:m((()=>[f(g,{value:U.blockHeight,"onUpdate:value":n[6]||(n[6]=e=>U.blockHeight=e),placeholder:p(F)("prompt.pleaseInputBlockHeight"),min:0,style:{width:"200px"}},null,8,["value","placeholder"])])),_:1},8,["label"]),f(i,{label:p(F)("field.status")},{default:m((()=>[f(v,{value:U.status,"onUpdate:value":n[7]||(n[7]=e=>U.status=e),placeholder:p(F)("prompt.pleaseSelectStatus"),style:{width:"200px"},"allow-clear":""},{default:m((()=>[f(A,{value:"success"},{default:m((()=>[T(b(p(F)("status.success")),1)])),_:1}),f(A,{value:"confirming"},{default:m((()=>{var e,a;return[T(b(p(F)("status.confirming",{current:(null==(e=U.confirmations)?void 0:e.current)||0,required:(null==(a=U.confirmations)?void 0:a.required)||0})),1)]})),_:1}),f(A,{value:"failed"},{default:m((()=>[T(b(p(F)("status.failed")),1)])),_:1})])),_:1},8,["value","placeholder"])])),_:1},8,["label"]),f(i,null,{default:m((()=>[f(P,null,{default:m((()=>[f(H,{type:"primary",onClick:D},{default:m((()=>[T(b(p(F)("action.search")),1)])),_:1}),f(H,{onClick:E},{default:m((()=>[T(b(p(F)("action.reset")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title"]),f(Z,{title:p(F)("title.transactionList"),bordered:!1},{extra:m((()=>[f(H,{type:"primary",onClick:K},{icon:m((()=>[f(p(r))])),default:m((()=>[T(" "+b(p(F)("action.download")),1)])),_:1})])),default:m((()=>[f(N,{columns:V,"data-source":O.value,pagination:Q,bordered:!0,scroll:{x:1500},onChange:L},{bodyCell:m((({column:e,text:a,record:t})=>{return["fromInfo"===e.key?(h(),u("div",W,[I("div",_,[I("span",null,b($(t.fromAddress)),1),f(p(l),{class:"action-icon",onClick:e=>G(t.fromAddress)},null,8,["onClick"])]),t.fromWalletId?(h(),u("div",q,b(t.fromWalletId),1)):x("",!0)])):"toInfo"===e.key?(h(),u("div",S,[I("div",z,[I("span",null,b($(t.toAddress)),1),f(p(l),{class:"action-icon",onClick:e=>G(t.toAddress)},null,8,["onClick"])]),t.toWalletId?(h(),u("div",j,b(t.toWalletId),1)):x("",!0)])):"txHash"===e.key?(h(),u("div",B,[I("span",R,b((s=a,s?`${s.slice(0,6)}****${s.slice(-6)}`:"")),1),I("div",X,[f(p(l),{class:"action-icon",onClick:e=>(async e=>{try{await navigator.clipboard.writeText(e),c.success(F("message.copySuccess"))}catch(a){c.error(F("message.copyFailed"))}})(a)},null,8,["onClick"]),f(p(d),{class:"action-icon",onClick:e=>{return t=a,void window.open(`https://etherscan.io/tx/${t}`,"_blank");var t}},null,8,["onClick"])])])):"status"===e.key?(h(),k(J,{key:3,class:C(["status-tag",`status-${t.status}`])},{default:m((()=>{return[T(b((e=t.status,{success:F("status.success"),confirming:F("status.confirming",{current:6,required:12}),failed:F("status.failed")}[e]||e)),1)];var e})),_:2},1032,["class"])):x("",!0)];var s})),_:1},8,["data-source","pagination"])])),_:1},8,["title"])])}}}),[["__scopeId","data-v-8fa89959"]]);export{F as default};
