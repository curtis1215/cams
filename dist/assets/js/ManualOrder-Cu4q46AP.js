import{v as e}from"./vendor-BhfxMwoc.js";import{_ as a}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{g as t,h as l,_ as i}from"./index-BCb4CLWl.js";import{b as n}from"./ant-design-DorZdoiW.js";import{d as o,r as c,f as r,c as d,a0 as s,k as u,Y as p,u as y,X as h,Z as m,G as T,a1 as f,W as v,a4 as g}from"./vue-vendor-B-98Oggh.js";import"./lodash-CiXSdKEp.js";const k={class:"manual-order-container"},_={key:0,class:"loading-container"},b={key:1,class:"empty-result"},I={key:2,class:"empty-result"},x=i(o({__name:"ManualOrder",setup(i){const o={zh:l,en:t},{t:x}=e({messages:o,legacy:!1}),H=c({chainType:void 0,blockHeight:""}),w=r(!1),C=r(!1),S=r([]),D=c({current:1,pageSize:10,total:0,showSizeChanger:!0,showTotal:e=>`${x("total")} ${e} ${x("items")}`}),M=d((()=>[{title:x("field.orderId"),dataIndex:"orderId",key:"orderId"},{title:x("chainType"),dataIndex:"chainType",key:"chainType"},{title:x("field.coinType"),dataIndex:"coinType",key:"coinType"},{title:x("field.amount"),dataIndex:"amount",key:"amount"},{title:x("field.createTime"),dataIndex:"createTime",key:"createTime"},{title:x("action.action"),key:"action"}])),j=e=>{},F=async()=>{if(H.chainType)if(H.blockHeight){w.value=!0,C.value=!0;try{await new Promise((e=>setTimeout(e,1e3))),S.value=[{id:"1",orderId:"ORD"+Math.floor(1e6*Math.random()),chainType:H.chainType,coinType:"ETH"===H.chainType?"USDT":H.chainType,amount:(10*Math.random()).toFixed(4),createTime:(new Date).toLocaleString()},{id:"2",orderId:"ORD"+Math.floor(1e6*Math.random()),chainType:H.chainType,coinType:"ETH"===H.chainType?"USDT":H.chainType,amount:(10*Math.random()).toFixed(4),createTime:(new Date).toLocaleString()}],D.total=S.value.length,n.success(x("message.querySuccess"))}catch(e){n.error(x("message.queryFailed")),S.value=[]}finally{w.value=!1}}else n.warning(x("pleaseInputBlockHeight"));else n.warning(x("selectChainType"))},$=()=>{H.chainType=void 0,H.blockHeight="",C.value=!1,S.value=[]};return(e,t)=>{const l=h("a-form-item"),i=h("a-col"),o=h("a-input"),c=h("a-button"),r=h("a-row"),d=h("a-form"),q=h("a-card"),z=h("a-spin"),U=h("a-empty"),O=h("a-table");return m(),s("div",k,[u(q,{class:"card",title:y(x)("blockchainInfo"),bordered:!1},{default:p((()=>[u(d,{layout:"horizontal",model:H,name:"blockchain-form"},{default:p((()=>[u(r,{gutter:24},{default:p((()=>[u(i,{span:8},{default:p((()=>[u(l,{label:y(x)("chainType"),name:"chainType"},{default:p((()=>[u(a,{value:H.chainType,"onUpdate:value":t[0]||(t[0]=e=>H.chainType=e),onChange:j},null,8,["value"])])),_:1},8,["label"])])),_:1}),u(i,{span:8},{default:p((()=>[u(l,{label:y(x)("blockHeight"),name:"blockHeight"},{default:p((()=>[u(o,{value:H.blockHeight,"onUpdate:value":t[1]||(t[1]=e=>H.blockHeight=e),placeholder:y(x)("pleaseInputBlockHeight")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1}),u(i,{span:8},{default:p((()=>[u(l,null,{default:p((()=>[u(c,{type:"primary",onClick:F},{default:p((()=>[T(f(y(x)("action.query")),1)])),_:1}),u(c,{style:{"margin-left":"8px"},onClick:$},{default:p((()=>[T(f(y(x)("action.reset")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title"]),u(q,{class:"card",title:y(x)("queryResult"),bordered:!1},{default:p((()=>[w.value?(m(),s("div",_,[u(z)])):C.value?0===S.value.length?(m(),s("div",I,[u(U,{description:y(x)("noDataFound")},null,8,["description"])])):(m(),v(O,{key:3,columns:M.value,"data-source":S.value,pagination:D,loading:w.value,"row-key":"id"},{bodyCell:p((({column:e,record:a})=>["action"===e.key?(m(),v(c,{key:0,type:"link",onClick:e=>(e=>{n.info(`${x("action.detail")}: ${e.orderId}`)})(a)},{default:p((()=>[T(f(y(x)("action.detail")),1)])),_:2},1032,["onClick"])):g("",!0)])),_:1},8,["columns","data-source","pagination","loading"])):(m(),s("div",b,[u(U,{description:y(x)("pleaseSearchFirst")},null,8,["description"])]))])),_:1},8,["title"])])}}}),[["__scopeId","data-v-c8e980a7"]]);export{x as default};
