import{v as e}from"./vendor-BhfxMwoc.js";import{b as a,c as t,_ as l}from"./index-BCb4CLWl.js";import{E as s,Q as u,P as o,V as c,b as i}from"./ant-design-DorZdoiW.js";import{d as r,r as d,f as n,o as m,a0 as p,_ as f,k as v,a1 as h,u as _,Y as y,X as b,Z as x,G as k,W as S,a4 as g}from"./vue-vendor-B-98Oggh.js";import"./lodash-CiXSdKEp.js";const O={class:"exchange-pair-management"},N={class:"search-form"},q=l(r({__name:"ExchangePair",setup(l){const r={zh:t,en:a},{t:q}=e({messages:r,legacy:!1}),T=d({pairName:"",quoteSource:"",status:""}),U=n([]),C=n(!1),K=[{title:()=>q("list.columns.pairName"),dataIndex:"pairName",key:"pairName"},{title:()=>q("list.columns.price"),dataIndex:"price",key:"price"},{title:()=>q("list.columns.quoteSource"),dataIndex:"quoteSource",key:"quoteSource",customRender:({text:e})=>({binance:q("search.sourceOptions.binance"),gateio:q("search.sourceOptions.gateio"),mexc:q("search.sourceOptions.mexc"),fameex:q("search.sourceOptions.fameex")}[e]||e)},{title:()=>q("list.columns.status"),dataIndex:"status",key:"status"},{title:()=>q("list.columns.actions"),key:"actions"}],D=n(!1),I=n(!1),j=d({id:0,pairName:"",price:0,quoteSource:"binance",sourceKey:"",status:!0});m((()=>{w()}));const w=async()=>{C.value=!0;try{setTimeout((()=>{U.value=[{id:1,pairName:"BTC/USDT",price:65432.12,quoteSource:"binance",sourceKey:"BTCUSDT",status:!0},{id:2,pairName:"ETH/USDT",price:3456.78,quoteSource:"gateio",sourceKey:"ETH_USDT",status:!0},{id:3,pairName:"XRP/USDT",price:.5678,quoteSource:"mexc",sourceKey:"XRP_USDT",status:!1}],C.value=!1}),500)}catch(e){C.value=!1}},B=()=>{w()},P=()=>{T.pairName="",T.quoteSource="",T.status="",w()},z=()=>{I.value=!1,j.id=0,j.pairName="",j.price=0,j.quoteSource="binance",j.sourceKey="",j.status=!0,D.value=!0},E=()=>{setTimeout((()=>{if(I.value){const e=U.value.findIndex((e=>e.id===j.id));-1!==e&&(U.value[e]={...j}),i.success(q("modal.message.editSuccess"))}else{const e=Math.max(...U.value.map((e=>e.id)),0)+1;U.value.push({...j,id:e,price:0}),i.success(q("modal.message.addSuccess"))}D.value=!1}),500)},R=()=>{D.value=!1};return(e,a)=>{const t=b("a-input"),l=b("a-form-item"),r=b("a-select-option"),d=b("a-select"),n=b("a-button"),m=b("a-space"),w=b("a-form"),X=b("a-card"),H=b("a-tag"),M=b("a-table"),G=b("a-checkbox"),Q=b("a-modal");return x(),p("div",O,[f("h2",null,h(_(q)("exchangePairManagement")),1),v(X,{title:_(q)("search.title"),class:"search-card"},{default:y((()=>[f("div",N,[v(w,{layout:"inline"},{default:y((()=>[v(l,{label:_(q)("search.pairName")},{default:y((()=>[v(t,{value:T.pairName,"onUpdate:value":a[0]||(a[0]=e=>T.pairName=e)},null,8,["value"])])),_:1},8,["label"]),v(l,{label:_(q)("search.quoteSource")},{default:y((()=>[v(d,{value:T.quoteSource,"onUpdate:value":a[1]||(a[1]=e=>T.quoteSource=e),style:{width:"180px"}},{default:y((()=>[v(r,{value:""},{default:y((()=>[k(h(_(q)("search.sourceOptions.all")),1)])),_:1}),v(r,{value:"binance"},{default:y((()=>[k(h(_(q)("search.sourceOptions.binance")),1)])),_:1}),v(r,{value:"gateio"},{default:y((()=>[k(h(_(q)("search.sourceOptions.gateio")),1)])),_:1}),v(r,{value:"mexc"},{default:y((()=>[k(h(_(q)("search.sourceOptions.mexc")),1)])),_:1}),v(r,{value:"fameex"},{default:y((()=>[k(h(_(q)("search.sourceOptions.fameex")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),v(l,{label:_(q)("search.status")},{default:y((()=>[v(d,{value:T.status,"onUpdate:value":a[2]||(a[2]=e=>T.status=e),style:{width:"180px"}},{default:y((()=>[v(r,{value:""},{default:y((()=>[k(h(_(q)("search.statusOptions.all")),1)])),_:1}),v(r,{value:"true"},{default:y((()=>[k(h(_(q)("search.statusOptions.enabled")),1)])),_:1}),v(r,{value:"false"},{default:y((()=>[k(h(_(q)("search.statusOptions.disabled")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),v(l,null,{default:y((()=>[v(m,null,{default:y((()=>[v(n,{type:"primary",onClick:B},{default:y((()=>[k(h(_(q)("search.searchButton")),1)])),_:1}),v(n,{onClick:P},{default:y((()=>[k(h(_(q)("search.resetButton")),1)])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1},8,["title"]),v(X,{title:_(q)("list.title"),class:"list-card"},{extra:y((()=>[v(n,{type:"primary",onClick:z},{icon:y((()=>[v(_(o))])),default:y((()=>[k(" "+h(_(q)("list.addButton")),1)])),_:1})])),default:y((()=>[v(M,{columns:K,"data-source":U.value,"row-key":e=>e.id,pagination:{pageSize:10},loading:C.value},{bodyCell:y((({column:e,record:a})=>["status"===e.key?(x(),S(H,{key:0,color:a.status?"success":"error"},{default:y((()=>[k(h(a.status?_(q)("search.statusOptions.enabled"):_(q)("search.statusOptions.disabled")),1)])),_:2},1032,["color"])):g("",!0),"actions"===e.key?(x(),S(m,{key:1},{default:y((()=>[v(n,{type:"link",size:"small",onClick:e=>(e=>{I.value=!0,j.id=e.id,j.pairName=e.pairName,j.price=e.price,j.quoteSource=e.quoteSource,j.sourceKey=e.sourceKey,j.status=e.status,D.value=!0})(a)},{default:y((()=>[v(_(s)),k(" "+h(_(q)("list.columns.edit")),1)])),_:2},1032,["onClick"]),v(n,{type:"link",size:"small",onClick:e=>(e=>{c.confirm({title:q("modal.message.deleteConfirm"),okText:q("common.action.confirm"),cancelText:q("common.action.cancel"),onOk:()=>{setTimeout((()=>{U.value=U.value.filter((a=>a.id!==e.id)),i.success(q("modal.message.deleteSuccess"))}),500)}})})(a),danger:""},{default:y((()=>[v(_(u)),k(" "+h(_(q)("list.columns.delete")),1)])),_:2},1032,["onClick"])])),_:2},1024)):g("",!0)])),_:1},8,["data-source","row-key","loading"])])),_:1},8,["title"]),v(Q,{open:D.value,"onUpdate:open":a[7]||(a[7]=e=>D.value=e),title:I.value?_(q)("modal.editTitle"):_(q)("modal.addTitle"),onOk:E,onCancel:R},{default:y((()=>[v(w,{model:j,layout:"vertical"},{default:y((()=>[v(l,{label:_(q)("modal.form.pairName")},{default:y((()=>[v(t,{value:j.pairName,"onUpdate:value":a[3]||(a[3]=e=>j.pairName=e),placeholder:_(q)("modal.placeholder.pairName")},null,8,["value","placeholder"])])),_:1},8,["label"]),v(l,{label:_(q)("modal.form.quoteSource")},{default:y((()=>[v(d,{value:j.quoteSource,"onUpdate:value":a[4]||(a[4]=e=>j.quoteSource=e),style:{width:"100%"}},{default:y((()=>[v(r,{value:"binance"},{default:y((()=>[k(h(_(q)("search.sourceOptions.binance")),1)])),_:1}),v(r,{value:"gateio"},{default:y((()=>[k(h(_(q)("search.sourceOptions.gateio")),1)])),_:1}),v(r,{value:"mexc"},{default:y((()=>[k(h(_(q)("search.sourceOptions.mexc")),1)])),_:1}),v(r,{value:"fameex"},{default:y((()=>[k(h(_(q)("search.sourceOptions.fameex")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),v(l,{label:_(q)("modal.form.sourceKey")},{default:y((()=>[v(t,{value:j.sourceKey,"onUpdate:value":a[5]||(a[5]=e=>j.sourceKey=e),placeholder:_(q)("modal.placeholder.sourceKey")},null,8,["value","placeholder"])])),_:1},8,["label"]),v(l,{label:_(q)("modal.form.status")},{default:y((()=>[v(G,{checked:j.status,"onUpdate:checked":a[6]||(a[6]=e=>j.status=e)},null,8,["checked"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-a1e0b8b7"]]);export{q as default};
