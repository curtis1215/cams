import{v as e}from"./vendor-BhfxMwoc.js";import{c as a,b as l,d as t}from"./ant-design-0M0Sv-BJ.js";import{d as n,r,f as i,c as s,l as c,o as d,a0 as u,k as o,Y as f,X as v,u as m,Z as p,a4 as y,_ as T,a1 as h,F as b,a2 as C,G as w,$ as S,W as _}from"./vue-vendor-B-98Oggh.js";import{_ as W}from"./index-Bm9Z6zrZ.js";import"./lodash-CiXSdKEp.js";const I={title:{fromWalletInfo:"轉出錢包資訊",toWalletInfo:"轉入錢包資訊",fromWalletDetail:"轉出錢包詳情",toWalletDetail:"轉入錢包詳情",fromWalletList:"轉出錢包列表",toWalletList:"轉入錢包列表",fromCoinList:"轉出幣種列表",toCoinList:"轉入幣種列表",fromWalletSelection:"轉出錢包選擇",toWalletSelection:"轉入錢包選擇",transferInfo:"轉帳資訊",transferQueryTitle:"轉帳申請查詢",transferList:"轉帳列表",auditOperation:"審核操作",auditDetail:"審核詳情"},field:{transferOrderId:"錢包轉賬單號",fromAddress:"來源地址",fromChainType:"轉出鏈類型",fromCurrency:"轉出幣種",toWallet:"轉入錢包",toAddress:"目標地址",toChainType:"轉入鏈類型",toCurrency:"轉入幣種",transferAmount:"轉帳數量",maxAmount:"最大數量",auditOperation:"審核操作",auditReason:"審核原因",merchant:"商戶",chainType:"鏈類型",walletType:"錢包類型",currency:"幣種",address:"地址",createTime:"創建時間",auditTime:"審核時間",auditStatus:"審核狀態",typeLabel:"類型",action:"操作"},balance:{current:"當前餘額",availableOutflow:"可轉出數量",availableInflow:"可轉入數量"},transferStatus:{label:"轉帳狀態",submitted:"已提交",onchain:"上鏈中",confirming:"確認中",completed:"已完成",failed:"失敗"},prompt:{pleaseSelectFromAndToWallet:"請選擇轉出和轉入錢包",pleaseSelectWallet:"請先選擇錢包",pleaseSelectCoin:"請先選擇幣種",pleaseInputTransferAmount:"請輸入轉帳數量",confirmTransfer:"確認轉帳",transferRequestSubmitted:"轉帳申請已提交",transferFailed:"轉帳失敗",pleaseSelectAuditOperation:"請選擇審核操作",pleaseInputAuditReason:"請輸入審核原因",auditSuccess:"審核成功",auditFailed:"審核失敗",pleaseInputAddress:"請輸入地址",selectMerchant:"請選擇商戶",selectChainType:"請選擇鏈類型",selectCurrency:"請選擇幣種",clickSearchToLoadWallets:"請點擊搜尋按鈕載入錢包列表"},action:{search:"搜索",transfer:"轉帳",audit:"審核",detail:"詳情",reset:"重置"},auditStatus:{pending:"待審核",approved:"已通過",rejected:"已拒絕"}},k={title:{fromWalletInfo:"From Wallet Info",toWalletInfo:"To Wallet Info",fromWalletDetail:"From Wallet Detail",toWalletDetail:"To Wallet Detail",fromWalletList:"From Wallet List",toWalletList:"To Wallet List",fromCoinList:"From Coin List",toCoinList:"To Coin List",fromWalletSelection:"From Wallet Selection",toWalletSelection:"To Wallet Selection",transferInfo:"Transfer Info",transferQueryTitle:"Transfer Request Query",transferList:"Transfer List",auditOperation:"Audit Operation",auditDetail:"Audit Detail"},field:{transferOrderId:"Transfer Order ID",fromWalletId:"From Wallet ID",fromChainType:"From Chain Type",fromCurrency:"From Currency",toWallet:"To Wallet",toWalletId:"To Wallet ID",toChainType:"To Chain Type",toCurrency:"To Currency",transferAmount:"Transfer Amount",maxAmount:"Max Amount",auditOperation:"Audit Operation",auditReason:"Audit Reason",merchant:"Merchant",chainType:"Chain Type",walletType:"Wallet Type",currency:"Currency",address:"Address",createTime:"Create Time",auditTime:"Audit Time",auditStatus:"Audit Status",typeLabel:"Type",action:"Action"},balance:{current:"Current Balance",availableOutflow:"Available Outflow",availableInflow:"Available Inflow"},transferStatus:{label:"Transfer Status",submitted:"Submitted",onchain:"On Chain",confirming:"Confirming",completed:"Completed",failed:"Failed"},prompt:{pleaseSelectFromAndToWallet:"Please select from and to wallet",pleaseSelectWallet:"Please select a wallet first",pleaseSelectCoin:"Please select a coin first",pleaseInputTransferAmount:"Please input transfer amount",confirmTransfer:"Confirm Transfer",transferRequestSubmitted:"Transfer request submitted",transferFailed:"Transfer failed",pleaseSelectAuditOperation:"Please select audit operation",pleaseInputAuditReason:"Please input audit reason",auditSuccess:"Audit success",auditFailed:"Audit failed",pleaseInputAddress:"Please input address",selectMerchant:"Please select merchant",selectChainType:"Please select chain type",selectCurrency:"Please select currency",clickSearchToLoadWallets:"Please click search button to load wallets"},action:{search:"Search",transfer:"Transfer",audit:"Audit",detail:"Detail",reset:"Reset"},auditStatus:{pending:"Pending",approved:"Approved",rejected:"Rejected"}},g={fromWalletDetail:{currency:"USDT",balance:3e5,availableOutflow:8e3},toWalletDetail:{currency:"USDT",balance:5e3,availableInflow:15e3},transferList:[{key:1,transferOrderId:"TX00000001",fromMerchant:"商戶A",fromWalletId:"W000001",fromChainType:"ETH",fromCurrency:"USDT",amount:"100000.00000000",toMerchant:"商戶B",toWalletId:"W000002",toChainType:"BSC",toCurrency:"USDT",createTime:"2024-03-15 10:30:00",auditTime:"2024-03-15 11:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"completed"},{key:2,transferOrderId:"TX00000002",fromMerchant:"商戶B",fromWalletId:"W000003",fromChainType:"BSC",fromCurrency:"USDT",amount:"50000.00000000",toMerchant:"商戶C",toWalletId:"W000004",toChainType:"ETH",toCurrency:"USDT",createTime:"2024-03-15 09:30:00",auditTime:null,auditStatus:"pending",auditReason:null,transferStatus:null},{key:3,transferOrderId:"TX00000003",fromMerchant:"商戶C",fromWalletId:"W000005",fromChainType:"ETH",fromCurrency:"USDT",amount:"200000.00000000",toMerchant:"商戶A",toWalletId:"W000006",toChainType:"BSC",toCurrency:"USDT",createTime:"2024-03-15 08:30:00",auditTime:"2024-03-15 09:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"onchain"},{key:4,transferOrderId:"TX00000004",fromMerchant:"商戶A",fromWalletId:"W000007",fromChainType:"BSC",fromCurrency:"USDT",amount:"150000.00000000",toMerchant:"商戶B",toWalletId:"W000008",toChainType:"ETH",toCurrency:"USDT",createTime:"2024-03-15 07:30:00",auditTime:"2024-03-15 08:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"confirming",confirmations:3,requiredConfirmations:12},{key:5,transferOrderId:"TX00000005",fromMerchant:"商戶B",fromWalletId:"W000009",fromChainType:"ETH",fromCurrency:"USDT",amount:"300000.00000000",toMerchant:"商戶C",toWalletId:"W000010",toChainType:"BSC",toCurrency:"USDT",createTime:"2024-03-15 06:30:00",auditTime:"2024-03-15 07:00:00",auditStatus:"rejected",auditReason:"金額超過限制",transferStatus:null},{key:6,transferOrderId:"TX00000006",fromMerchant:"商戶C",fromWalletId:"W000011",fromChainType:"BSC",fromCurrency:"USDT",amount:"80000.00000000",toMerchant:"商戶A",toWalletId:"W000012",toChainType:"ETH",toCurrency:"USDT",createTime:"2024-03-15 05:30:00",auditTime:"2024-03-15 06:00:00",auditStatus:"approved",auditReason:"正常轉帳",transferStatus:"failed"}]},D={walletList:[{id:"W001",code:"COLD-001",address:"0x1234567890abcdef1234567890abcdef12345678",walletType:"Collection",chainType:"ETH",merchant:"merchant_a",coins:[{currency:"ETH",balance:"50.12345678"},{currency:"USDT",balance:"100000.00000000"},{currency:"USDC",balance:"50000.00000000"}]},{id:"W002",code:"HOT-002",address:"0x9876543210fedcba0987654321fedcba09876543",walletType:"User",chainType:"ETH",merchant:"merchant_a",coins:[{currency:"ETH",balance:"25.87654321"},{currency:"USDT",balance:"75000.00000000"}]},{id:"W003",code:"WITHDRAW-003",address:"0xabcdef1234567890abcdef1234567890abcdef12",walletType:"Withdraw",chainType:"BSC",merchant:"merchant_b",coins:[{currency:"BNB",balance:"200.50000000"},{currency:"USDT",balance:"80000.00000000"},{currency:"BUSD",balance:"60000.00000000"}]},{id:"W004",code:"HOT-004",address:"0xfedcba0987654321fedcba0987654321fedcba09",walletType:"User",chainType:"BSC",merchant:"merchant_b",coins:[{currency:"BNB",balance:"150.25000000"},{currency:"USDT",balance:"120000.00000000"}]},{id:"W005",code:"EXTERNAL-005",address:"0x5678901234abcdef5678901234abcdef56789012",walletType:"External",chainType:"TRC20",merchant:"merchant_c",coins:[{currency:"TRX",balance:"10000.000000"},{currency:"USDT",balance:"90000.00000000"}]},{id:"W006",code:"HOT-006",address:"0x234567890abcdef1234567890abcdef1234567890",walletType:"User",chainType:"TRC20",merchant:"merchant_c",coins:[{currency:"TRX",balance:"5000.000000"},{currency:"USDT",balance:"65000.00000000"}]},{id:"W007",code:"COLLECT-007",address:"0x987654321abcdef987654321abcdef9876543210",walletType:"Collection",chainType:"BSC",merchant:"merchant_a",coins:[{currency:"BNB",balance:"300.50000000"},{currency:"USDT",balance:"150000.00000000"}]},{id:"W008",code:"WITHDRAW-008",address:"0x123abc456def789abc123def456abc789def123a",walletType:"Withdraw",chainType:"ETH",merchant:"merchant_c",coins:[{currency:"ETH",balance:"80.25000000"},{currency:"USDT",balance:"200000.00000000"}]}]},A={merchants:[{value:"merchant_a",label:"商戶A"},{value:"merchant_b",label:"商戶B"},{value:"merchant_c",label:"商戶C"}],chainTypes:[{value:"ETH",label:"ETH"},{value:"BSC",label:"BSC"},{value:"TRC20",label:"TRON"},{value:"BTC",label:"BTC"}],walletTypes:[{value:"User",label:"用戶錢包"},{value:"Collection",label:"歸集錢包"},{value:"Withdraw",label:"出款錢包"},{value:"External",label:"外轉錢包"}],currencies:[{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"},{value:"USDC",label:"USDC"},{value:"BNB",label:"BNB"},{value:"BUSD",label:"BUSD"},{value:"TRX",label:"TRX"}]},U={class:"wallet-transfer"},L={class:"card-title"},x={class:"form-row"},O={class:"form-label"},R={class:"form-label"},B={class:"form-label"},E={class:"form-row"},F={key:0,class:"selection-container"},H={class:"section"},M={class:"section-title"},j={class:"wallet-list-container"},q={class:"wallet-info"},P={class:"wallet-code"},z={class:"wallet-address"},X={key:0,class:"section"},$={class:"section-title"},N={class:"coin-list-container"},Q={class:"coin-info"},G={class:"coin-name"},J={class:"coin-balance"},Y={key:1,class:"section"},Z={class:"section-title"},K={key:1,class:"empty-state"},V={class:"card-title"},ee={class:"form-row"},ae={class:"form-label"},le={class:"form-label"},te={class:"form-label"},ne={class:"form-row"},re={key:0,class:"selection-container"},ie={class:"section"},se={class:"section-title"},ce={class:"wallet-list-container"},de={class:"wallet-info"},ue={class:"wallet-code"},oe={class:"wallet-address"},fe={key:0,class:"section"},ve={class:"section-title"},me={class:"coin-list-container"},pe={class:"coin-info"},ye={class:"coin-name"},Te={class:"coin-balance"},he={key:1,class:"section"},be={class:"section-title"},Ce={key:1,class:"empty-state"},we={class:"card-title"},Se={key:0,class:"detail-content"},_e={class:"detail-item"},We={class:"detail-label"},Ie={class:"detail-value"},ke={class:"detail-item"},ge={class:"detail-label"},De={class:"detail-value"},Ae={class:"detail-item"},Ue={class:"detail-label"},Le={class:"detail-value"},xe={key:1,class:"empty-state"},Oe={class:"card-title"},Re={key:0,class:"detail-content"},Be={class:"detail-item"},Ee={class:"detail-label"},Fe={class:"detail-value"},He={class:"detail-item"},Me={class:"detail-label"},je={class:"detail-value"},qe={class:"detail-item"},Pe={class:"detail-label"},ze={class:"detail-value"},Xe={key:1,class:"empty-state"},$e={class:"card-title"},Ne={class:"transfer-amount-container"},Qe={class:"confirm-content"},Ge={class:"card-title"},Je={class:"confirm-card-content"},Ye={class:"confirm-item"},Ze={class:"confirm-label"},Ke={class:"confirm-value"},Ve={class:"confirm-item"},ea={class:"confirm-label"},aa={class:"confirm-value"},la={class:"confirm-item"},ta={class:"confirm-label"},na={class:"confirm-value"},ra={class:"confirm-item"},ia={class:"confirm-label"},sa={class:"confirm-value"},ca={class:"amount-title"},da={class:"amount-value"},ua={class:"card-title"},oa={class:"confirm-card-content"},fa={class:"confirm-item"},va={class:"confirm-label"},ma={class:"confirm-value"},pa={class:"confirm-item"},ya={class:"confirm-label"},Ta={class:"confirm-value"},ha={class:"confirm-item"},ba={class:"confirm-label"},Ca={class:"confirm-value"},wa={class:"confirm-item"},Sa={class:"confirm-label"},_a={class:"confirm-value"},Wa={class:"form-row"},Ia={class:"form-row"},ka={key:0,class:"audit-detail"},ga={class:"audit-detail-item"},Da={class:"audit-detail-label"},Aa={class:"audit-detail-value"},Ua={class:"audit-detail-item"},La={class:"audit-detail-label"},xa={class:"audit-detail-value"},Oa=W(n({__name:"Transfer",setup(n){const W={zh:I,en:k},{t:Oa}=e({messages:W,legacy:!1}),Ra=r({merchant:void 0,chainType:void 0,walletType:void 0}),Ba=r({merchant:void 0,chainType:void 0,walletType:void 0}),Ea=i([]),Fa=i([]),Ha=i(!1),Ma=i(!1),ja=i(null),qa=i(null),Pa=i(null),za=i(null),Xa=r({from:!1,to:!1});r({...g.fromWalletDetail}),r({...g.toWalletDetail});const $a=i(0),Na=i(!1),Qa=s((()=>Pa.value?Number(Pa.value.balance):0)),Ga=e=>{e&&($a.value=Qa.value)},Ja=e=>e?Number(e).toFixed(8):"0.00000000",Ya=e=>e?`${e.slice(0,4)}...${e.slice(-4)}`:"",Za=()=>{ja.value=null,Pa.value=null,Ea.value=[]},Ka=()=>{qa.value=null,za.value=null,Fa.value=[]},Va=()=>{ja.value=null,Pa.value=null,Ea.value=[],Ba.chainType=Ra.chainType,qa.value=null,za.value=null,Fa.value=[]},el=()=>{if(Ra.chainType&&Ba.chainType!==Ra.chainType)return l.warning("轉入錢包鏈類型必須與轉出錢包保持一致"),void(Ba.chainType=Ra.chainType);qa.value=null,za.value=null,Fa.value=[]},al=()=>{ja.value=null,Pa.value=null,Ea.value=[]},ll=()=>{qa.value=null,za.value=null,Fa.value=[]},tl=()=>{Ha.value=!0,setTimeout((()=>{const e=D.walletList.filter((e=>{const a=!Ra.chainType||e.chainType===Ra.chainType,l=!Ra.walletType||e.walletType===Ra.walletType;return a&&l}));Ea.value=e,Ha.value=!1,0===e.length?l.info("未找到符合條件的錢包"):l.success(`已載入 ${e.length} 個錢包`)}),500)},nl=()=>{Ma.value=!0,setTimeout((()=>{const e=D.walletList.filter((e=>{const a=!Ba.chainType||e.chainType===Ba.chainType,l=!Ba.walletType||e.walletType===Ba.walletType;return a&&l}));Fa.value=e,Ma.value=!1,0===e.length?l.info("未找到符合條件的錢包"):l.success(`已載入 ${e.length} 個錢包`)}),500)},rl=i(!1),il=i(!1),sl=()=>{ja.value&&qa.value?Pa.value&&za.value?$a.value?(Object.assign(Ra,{walletType:ja.value.walletType,chainType:ja.value.chainType,currency:Pa.value.currency,address:ja.value.address}),Object.assign(Ba,{walletType:qa.value.walletType,chainType:qa.value.chainType,currency:za.value.currency,address:qa.value.address}),rl.value=!0):l.error(Oa("prompt.pleaseInputTransferAmount")):l.error(Oa("prompt.pleaseSelectCoin")):l.error(Oa("prompt.pleaseSelectFromAndToWallet"))},cl=async()=>{il.value=!0;try{await new Promise((e=>setTimeout(e,1e3))),l.success(Oa("prompt.transferRequestSubmitted")),rl.value=!1}catch(e){l.error(Oa("prompt.transferFailed"))}finally{il.value=!1}},dl=()=>{rl.value=!1},ul=r({merchant:void 0,chainType:void 0,currency:void 0,walletType:void 0,address:""}),ol=i(g.transferList),fl=i(!1),vl=e=>e?`${e.slice(0,4)}***${e.slice(-4)}`:"-",ml=async e=>{try{await navigator.clipboard.writeText(e),l.success(Oa("message.copySuccess"))}catch(a){l.error(Oa("message.copyFailed"))}},pl=[{title:Oa("field.transferOrderId"),dataIndex:"transferOrderId",key:"transferOrderId",width:180},{title:Oa("field.fromAddress"),dataIndex:"fromWalletId",key:"fromWalletId",width:200,customRender:({text:e})=>c("div",{class:"address-container"},[c("span",{},vl(e)),c(a,{class:"copy-icon",onClick:()=>ml(e)})])},{title:Oa("field.fromChainType"),dataIndex:"fromChainType",key:"fromChainType",width:120},{title:Oa("field.fromCurrency"),dataIndex:"fromCurrency",key:"fromCurrency",width:120},{title:Oa("field.transferAmount"),dataIndex:"amount",key:"amount",width:140,align:"right"},{title:Oa("field.toWallet"),dataIndex:"toMerchant",key:"toMerchant",width:120},{title:Oa("field.toAddress"),dataIndex:"toWalletId",key:"toWalletId",width:200,customRender:({text:e})=>c("div",{class:"address-container"},[c("span",{},vl(e)),c(a,{class:"copy-icon",onClick:()=>ml(e)})])},{title:Oa("field.toChainType"),dataIndex:"toChainType",key:"toChainType",width:100},{title:Oa("field.toCurrency"),dataIndex:"toCurrency",key:"toCurrency",width:100},{title:Oa("field.createTime"),dataIndex:"createTime",key:"createTime",width:160},{title:Oa("field.auditTime"),dataIndex:"auditTime",key:"auditTime",width:160},{title:Oa("field.auditStatus"),dataIndex:"auditStatus",key:"auditStatus",width:100,customRender:({text:e})=>({pending:Oa("auditStatus.pending"),approved:Oa("auditStatus.approved"),rejected:Oa("auditStatus.rejected")}[e]||e)},{title:Oa("transferStatus.label"),dataIndex:"transferStatus",key:"transferStatus",width:120,customRender:({text:e,record:a})=>{if(["pending","rejected"].includes(a.auditStatus))return"";const l={submitted:Oa("transferStatus.submitted"),onchain:Oa("transferStatus.onchain"),confirming:e=>`${Oa("transferStatus.confirming")}(${e.confirmations}/${e.requiredConfirmations})`,completed:Oa("transferStatus.completed"),failed:Oa("transferStatus.failed")};return e&&"function"==typeof l[e]?l[e](a):e&&l[e]||""}},{title:Oa("field.action"),key:"action",width:80,fixed:"right"}],yl=r({current:1,pageSize:10,total:100,showSizeChanger:!0,showQuickJumper:!0}),Tl=()=>{fl.value=!0,setTimeout((()=>{const e=g.transferList.filter((e=>(!ul.merchant||e.fromMerchant===ul.merchant)&&((!ul.chainType||e.fromChainType===ul.chainType)&&((!ul.currency||e.fromCurrency===ul.currency)&&!(ul.address&&!e.fromWalletId.toLowerCase().includes(ul.address.toLowerCase()))))));ol.value=e,yl.total=e.length,fl.value=!1}),1e3)};d((()=>{Tl()}));const hl=()=>{ul.merchant=void 0,ul.chainType=void 0,ul.currency=void 0,ul.walletType=void 0,ul.address=""},bl=i(!1),Cl=i(!1),wl=i(!1),Sl=i(null),_l=r({status:void 0,reason:""}),Wl=async()=>{if(_l.status)if(_l.reason){wl.value=!0;try{if(await new Promise((e=>setTimeout(e,1e3))),Sl.value){const e=ol.value.findIndex((e=>{var a;return e.key===(null==(a=Sl.value)?void 0:a.key)}));-1!==e&&(ol.value[e]={...ol.value[e],auditStatus:_l.status,auditReason:_l.reason,auditTime:(new Date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})})}l.success(Oa("wallet.prompt.auditSuccess")),bl.value=!1}catch(e){l.error(Oa("wallet.prompt.auditFailed"))}finally{wl.value=!1}}else l.error(Oa("wallet.prompt.pleaseInputAuditReason"));else l.error(Oa("wallet.prompt.pleaseSelectAuditOperation"))},Il=()=>{bl.value=!1},kl=e=>{yl.current=e.current,yl.pageSize=e.pageSize,Tl()};return(e,a)=>{const n=v("a-select-option"),r=v("a-select"),i=v("a-form-item"),s=v("a-button"),c=v("a-form"),d=v("a-list-item"),W=v("a-list"),I=v("a-col"),k=v("a-row"),g=v("a-card"),D=v("a-input-number"),vl=v("a-checkbox"),ml=v("a-modal"),gl=v("a-input"),Dl=v("a-space"),Al=v("a-table"),Ul=v("a-textarea");return p(),u("div",U,[o(k,{gutter:24},{default:f((()=>[o(I,{span:12},{default:f((()=>[o(g,{bordered:!1,class:"transfer-card from-wallet"},{title:f((()=>[T("span",L,h(m(Oa)("title.fromWalletInfo")),1)])),default:f((()=>[o(c,{layout:"vertical",model:Ra},{default:f((()=>[T("div",x,[o(i,{class:"form-item"},{default:f((()=>[T("div",O,h(m(Oa)("field.merchant")),1),o(r,{value:Ra.merchant,"onUpdate:value":a[0]||(a[0]=e=>Ra.merchant=e),class:"full-width",onChange:Za},{default:f((()=>[(p(!0),u(b,null,C(m(A).merchants,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),o(i,{class:"form-item"},{default:f((()=>[T("div",R,h(m(Oa)("field.chainType")),1),o(r,{value:Ra.chainType,"onUpdate:value":a[1]||(a[1]=e=>Ra.chainType=e),disabled:Xa.from,class:"full-width",onChange:Va},{default:f((()=>[(p(!0),u(b,null,C(m(A).chainTypes,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","disabled"])])),_:1}),o(i,{class:"form-item"},{default:f((()=>[T("div",B,h(m(Oa)("field.walletType")),1),o(r,{value:Ra.walletType,"onUpdate:value":a[2]||(a[2]=e=>Ra.walletType=e),class:"full-width",onChange:al},{default:f((()=>[(p(!0),u(b,null,C(m(A).walletTypes,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})]),T("div",E,[o(i,{class:"query-button"},{default:f((()=>[a[19]||(a[19]=T("div",{class:"form-label"}," ",-1)),o(s,{type:"primary",onClick:tl},{icon:f((()=>[o(m(t))])),default:f((()=>[w(" "+h(m(Oa)("action.search")),1)])),_:1})])),_:1})])])),_:1},8,["model"]),Ea.value.length>0||Ha.value?(p(),u("div",F,[o(k,{gutter:16},{default:f((()=>[o(I,{span:12},{default:f((()=>[T("div",H,[T("div",M,h(m(Oa)("title.fromWalletList")),1),T("div",j,[o(W,{"data-source":Ea.value,loading:Ha.value,size:"small"},{renderItem:f((({item:e})=>{var a;return[o(d,{class:S(["wallet-item",{selected:(null==(a=ja.value)?void 0:a.id)===e.id}]),onClick:a=>{return l=e,ja.value=l,Pa.value=null,void(za.value=null);var l}},{default:f((()=>[T("div",q,[T("div",P,h(e.code),1),T("div",z,h(Ya(e.address)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source","loading"])])])])),_:1}),o(I,{span:12},{default:f((()=>[ja.value?(p(),u("div",X,[T("div",$,h(m(Oa)("title.fromCoinList")),1),T("div",N,[o(W,{"data-source":ja.value.coins,size:"small"},{renderItem:f((({item:e})=>{var a;return[o(d,{class:S(["coin-item",{selected:(null==(a=Pa.value)?void 0:a.currency)===e.currency}]),onClick:a=>(e=>{if(Pa.value=e,qa.value){const a=qa.value.coins.find((a=>a.currency===e.currency));a?za.value=a:(za.value=null,l.info(`轉入錢包沒有 ${e.currency} 幣種，請重新選擇轉入錢包`))}})(e)},{default:f((()=>[T("div",Q,[T("div",G,h(e.currency),1),T("div",J,h(Ja(e.balance)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source"])])])):(p(),u("div",Y,[T("div",Z,h(m(Oa)("title.fromCoinList")),1),a[20]||(a[20]=T("div",{class:"empty-coin-state"}," 請先選擇錢包 ",-1))]))])),_:1})])),_:1})])):y("",!0),0!==Ea.value.length||Ha.value?y("",!0):(p(),u("div",K,h(m(Oa)("prompt.clickSearchToLoadWallets")),1))])),_:1})])),_:1}),o(I,{span:12},{default:f((()=>[o(g,{bordered:!1,class:"transfer-card to-wallet"},{title:f((()=>[T("span",V,h(m(Oa)("title.toWalletInfo")),1)])),default:f((()=>[o(c,{layout:"vertical",model:Ba},{default:f((()=>[T("div",ee,[o(i,{class:"form-item"},{default:f((()=>[T("div",ae,h(m(Oa)("field.merchant")),1),o(r,{value:Ba.merchant,"onUpdate:value":a[3]||(a[3]=e=>Ba.merchant=e),class:"full-width",onChange:Ka},{default:f((()=>[(p(!0),u(b,null,C(m(A).merchants,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1}),o(i,{class:"form-item"},{default:f((()=>[T("div",le,h(m(Oa)("field.chainType")),1),o(r,{value:Ba.chainType,"onUpdate:value":a[4]||(a[4]=e=>Ba.chainType=e),disabled:Xa.to,class:"full-width",onChange:el},{default:f((()=>[(p(!0),u(b,null,C(m(A).chainTypes,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","disabled"])])),_:1}),o(i,{class:"form-item"},{default:f((()=>[T("div",te,h(m(Oa)("field.walletType")),1),o(r,{value:Ba.walletType,"onUpdate:value":a[5]||(a[5]=e=>Ba.walletType=e),class:"full-width",onChange:ll},{default:f((()=>[(p(!0),u(b,null,C(m(A).walletTypes,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})]),T("div",ne,[o(i,{class:"query-button"},{default:f((()=>[a[21]||(a[21]=T("div",{class:"form-label"}," ",-1)),o(s,{type:"primary",onClick:nl},{icon:f((()=>[o(m(t))])),default:f((()=>[w(" "+h(m(Oa)("action.search")),1)])),_:1})])),_:1})])])),_:1},8,["model"]),Fa.value.length>0||Ma.value?(p(),u("div",re,[o(k,{gutter:16},{default:f((()=>[o(I,{span:12},{default:f((()=>[T("div",ie,[T("div",se,h(m(Oa)("title.toWalletList")),1),T("div",ce,[o(W,{"data-source":Fa.value,loading:Ma.value,size:"small"},{renderItem:f((({item:e})=>{var a;return[o(d,{class:S(["wallet-item",{selected:(null==(a=qa.value)?void 0:a.id)===e.id}]),onClick:a=>{return l=e,qa.value=l,void(za.value=null);var l}},{default:f((()=>[T("div",de,[T("div",ue,h(e.code),1),T("div",oe,h(Ya(e.address)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source","loading"])])])])),_:1}),o(I,{span:12},{default:f((()=>[qa.value?(p(),u("div",fe,[T("div",ve,h(m(Oa)("title.toCoinList")),1),T("div",me,[o(W,{"data-source":qa.value?Pa.value?qa.value.coins.filter((e=>{var a;return e.currency===(null==(a=Pa.value)?void 0:a.currency)})):qa.value.coins:[],size:"small"},{renderItem:f((({item:e})=>{var a,t;return[o(d,{class:S(["coin-item",{selected:(null==(a=za.value)?void 0:a.currency)===e.currency,disabled:(t=e,!(!Pa.value||t.currency===Pa.value.currency))}]),onClick:a=>(e=>{Pa.value&&Pa.value.currency!==e.currency?l.warning("轉入幣種必須與轉出幣種保持一致"):Pa.value?za.value=e:l.warning("請先選擇轉出幣種")})(e)},{default:f((()=>[T("div",pe,[T("div",ye,h(e.currency),1),T("div",Te,h(Ja(e.balance)),1)])])),_:2},1032,["class","onClick"])]})),_:1},8,["data-source"])])])):(p(),u("div",he,[T("div",be,h(m(Oa)("title.toCoinList")),1),a[22]||(a[22]=T("div",{class:"empty-coin-state"}," 請先選擇錢包 ",-1))]))])),_:1})])),_:1})])):y("",!0),0!==Fa.value.length||Ma.value?y("",!0):(p(),u("div",Ce,h(m(Oa)("prompt.clickSearchToLoadWallets")),1))])),_:1})])),_:1})])),_:1}),o(k,{gutter:24},{default:f((()=>[o(I,{span:12},{default:f((()=>[o(g,{bordered:!1,class:"detail-card from-detail"},{title:f((()=>[T("span",we,h(m(Oa)("title.fromWalletDetail")),1)])),default:f((()=>[Pa.value?(p(),u("div",Se,[T("div",_e,[T("span",We,h(m(Oa)("field.currency")),1),T("span",Ie,h(Pa.value.currency),1)]),T("div",ke,[T("span",ge,h(m(Oa)("balance.current")),1),T("span",De,h(Ja(Pa.value.balance)),1)]),T("div",Ae,[T("span",Ue,h(m(Oa)("balance.availableOutflow")),1),T("span",Le,h(Ja(Pa.value.balance)),1)])])):(p(),u("div",xe,h(m(Oa)("prompt.pleaseSelectCoin")),1))])),_:1})])),_:1}),o(I,{span:12},{default:f((()=>[o(g,{bordered:!1,class:"detail-card to-detail"},{title:f((()=>[T("span",Oe,h(m(Oa)("title.toWalletDetail")),1)])),default:f((()=>[za.value?(p(),u("div",Re,[T("div",Be,[T("span",Ee,h(m(Oa)("field.currency")),1),T("span",Fe,h(za.value.currency),1)]),T("div",He,[T("span",Me,h(m(Oa)("balance.current")),1),T("span",je,h(Ja(za.value.balance)),1)]),T("div",qe,[T("span",Pe,h(m(Oa)("balance.availableInflow")),1),T("span",ze,h(Ja(za.value.balance)),1)])])):(p(),u("div",Xe,h(m(Oa)("prompt.pleaseSelectCoin")),1))])),_:1})])),_:1})])),_:1}),o(g,{bordered:!1,class:"transfer-info"},{title:f((()=>[T("span",$e,h(m(Oa)("title.transferInfo")),1)])),default:f((()=>[T("div",Ne,[o(c,{layout:"inline"},{default:f((()=>[o(i,{label:m(Oa)("field.transferAmount")},{default:f((()=>[o(D,{value:$a.value,"onUpdate:value":a[6]||(a[6]=e=>$a.value=e),min:0,max:Qa.value,precision:8,style:{width:"200px"}},null,8,["value","max"])])),_:1},8,["label"]),o(i,null,{default:f((()=>[o(vl,{checked:Na.value,"onUpdate:checked":a[7]||(a[7]=e=>Na.value=e),onChange:Ga},{default:f((()=>[w(h(m(Oa)("field.maxAmount")),1)])),_:1},8,["checked"])])),_:1}),o(i,null,{default:f((()=>[o(s,{type:"primary",onClick:sl},{default:f((()=>[w(h(m(Oa)("action.transfer")),1)])),_:1})])),_:1})])),_:1})])])),_:1}),o(ml,{open:rl.value,"onUpdate:open":a[8]||(a[8]=e=>rl.value=e),title:m(Oa)("prompt.confirmTransfer"),onOk:cl,onCancel:dl,confirmLoading:il.value,width:"600px"},{default:f((()=>[T("div",Qe,[o(g,{bordered:!1,class:"confirm-card"},{title:f((()=>[T("span",Ge,h(m(Oa)("title.fromWalletInfo")),1)])),default:f((()=>[T("div",Je,[T("div",Ye,[T("span",Ze,h(m(Oa)("field.typeLabel")),1),T("span",Ke,h(Ra.walletType),1)]),T("div",Ve,[T("span",ea,h(m(Oa)("field.chainType")),1),T("span",aa,h(Ra.chainType),1)]),T("div",la,[T("span",ta,h(m(Oa)("field.currency")),1),T("span",na,h(Ra.currency),1)]),T("div",ra,[T("span",ia,h(m(Oa)("field.address")),1),T("span",sa,h(Ra.address),1)])])])),_:1}),o(g,{bordered:!1,class:"confirm-card"},{title:f((()=>[T("div",ca,[T("span",null,h(m(Oa)("field.transferAmount"))+"：",1),T("span",da,h(Ja($a.value)),1)])])),_:1}),o(g,{bordered:!1,class:"confirm-card"},{title:f((()=>[T("span",ua,h(m(Oa)("title.toWalletInfo")),1)])),default:f((()=>[T("div",oa,[T("div",fa,[T("span",va,h(m(Oa)("field.typeLabel")),1),T("span",ma,h(Ba.walletType),1)]),T("div",pa,[T("span",ya,h(m(Oa)("field.chainType")),1),T("span",Ta,h(Ba.chainType),1)]),T("div",ha,[T("span",ba,h(m(Oa)("field.currency")),1),T("span",Ca,h(Ba.currency),1)]),T("div",wa,[T("span",Sa,h(m(Oa)("field.address")),1),T("span",_a,h(Ba.address),1)])])])),_:1})])])),_:1},8,["open","title","confirmLoading"]),o(g,{title:m(Oa)("title.transferQueryTitle"),class:"transfer-card query-card"},{default:f((()=>[o(c,{layout:"inline",class:"query-form"},{default:f((()=>[T("div",Wa,[o(i,{label:m(Oa)("field.merchant"),class:"form-item"},{default:f((()=>[o(r,{value:ul.merchant,"onUpdate:value":a[9]||(a[9]=e=>ul.merchant=e),class:"full-width"},{default:f((()=>[(p(!0),u(b,null,C(m(A).merchants,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),o(i,{label:m(Oa)("field.chainType"),class:"form-item"},{default:f((()=>[o(r,{value:ul.chainType,"onUpdate:value":a[10]||(a[10]=e=>ul.chainType=e),class:"full-width"},{default:f((()=>[(p(!0),u(b,null,C(m(A).chainTypes,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),o(i,{label:m(Oa)("field.currency"),class:"form-item"},{default:f((()=>[o(r,{value:ul.currency,"onUpdate:value":a[11]||(a[11]=e=>ul.currency=e),class:"full-width"},{default:f((()=>[(p(!0),u(b,null,C(m(A).currencies,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"]),o(i,{label:m(Oa)("field.typeLabel"),class:"form-item"},{default:f((()=>[o(r,{value:ul.walletType,"onUpdate:value":a[12]||(a[12]=e=>ul.walletType=e),class:"full-width"},{default:f((()=>[(p(!0),u(b,null,C(m(A).walletTypes,(e=>(p(),_(n,{key:e.value,value:e.value},{default:f((()=>[w(h(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1},8,["label"])]),T("div",Ia,[o(i,{label:m(Oa)("field.address"),class:"form-item address-input"},{default:f((()=>[o(gl,{value:ul.address,"onUpdate:value":a[13]||(a[13]=e=>ul.address=e),class:"full-width",placeholder:m(Oa)("prompt.pleaseInputAddress")},null,8,["value","placeholder"])])),_:1},8,["label"]),o(i,{label:" ",class:"form-item query-button"},{default:f((()=>[o(Dl,null,{default:f((()=>[o(s,{type:"primary",onClick:Tl},{default:f((()=>[w(h(m(Oa)("action.search")),1)])),_:1}),o(s,{onClick:hl},{default:f((()=>[w(h(m(Oa)("action.reset")),1)])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1},8,["title"]),o(g,{title:m(Oa)("title.transferList"),class:"transfer-card list-card"},{default:f((()=>[o(Al,{dataSource:ol.value,columns:pl,loading:fl.value,pagination:yl,onChange:kl,scroll:{y:480}},{bodyCell:f((({column:e,record:a})=>["action"===e.key?(p(),_(Dl,{key:0},{default:f((()=>["pending"===a.auditStatus?(p(),_(s,{key:0,type:"primary",size:"small",onClick:e=>(e=>{Sl.value=e,_l.status=void 0,_l.reason="",bl.value=!0})(a)},{default:f((()=>[w(h(m(Oa)("action.audit")),1)])),_:2},1032,["onClick"])):y("",!0),["approved","rejected"].includes(a.auditStatus)?(p(),_(s,{key:1,type:"link",size:"small",onClick:e=>(e=>{Sl.value=e,Cl.value=!0})(a)},{default:f((()=>[w(h(m(Oa)("action.detail")),1)])),_:2},1032,["onClick"])):y("",!0)])),_:2},1024)):y("",!0)])),_:1},8,["dataSource","loading","pagination"])])),_:1},8,["title"]),o(ml,{open:bl.value,"onUpdate:open":a[16]||(a[16]=e=>bl.value=e),title:m(Oa)("title.auditOperation"),onOk:Wl,onCancel:Il,confirmLoading:wl.value},{default:f((()=>[o(c,{model:_l,layout:"vertical"},{default:f((()=>[o(i,{label:m(Oa)("field.auditOperation"),required:""},{default:f((()=>[o(r,{value:_l.status,"onUpdate:value":a[14]||(a[14]=e=>_l.status=e),style:{width:"100%"}},{default:f((()=>[o(n,{value:"approved"},{default:f((()=>[w(h(m(Oa)("auditStatus.approved")),1)])),_:1}),o(n,{value:"rejected"},{default:f((()=>[w(h(m(Oa)("auditStatus.rejected")),1)])),_:1})])),_:1},8,["value"])])),_:1},8,["label"]),o(i,{label:m(Oa)("field.auditReason"),required:""},{default:f((()=>[o(Ul,{value:_l.reason,"onUpdate:value":a[15]||(a[15]=e=>_l.reason=e),rows:4,placeholder:m(Oa)("prompt.pleaseInputAuditReason")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title","confirmLoading"]),o(ml,{open:Cl.value,"onUpdate:open":a[17]||(a[17]=e=>Cl.value=e),title:m(Oa)("title.auditDetail"),onCancel:a[18]||(a[18]=()=>Cl.value=!1),footer:null},{default:f((()=>[Sl.value?(p(),u("div",ka,[T("div",ga,[T("span",Da,h(m(Oa)("field.auditOperation"))+"：",1),T("span",Aa,h("approved"===Sl.value.auditStatus?m(Oa)("auditStatus.approved"):m(Oa)("auditStatus.rejected")),1)]),T("div",Ua,[T("span",La,h(m(Oa)("field.auditReason"))+"：",1),T("span",xa,h(Sl.value.auditReason),1)])])):y("",!0)])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-3410bd54"]]);export{Oa as default};
