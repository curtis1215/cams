import{v as e}from"./vendor-Dyo7sIqZ.js";import{_ as a}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{b as t}from"./ant-design-CqfBI87A.js";import{d as i,r as l,f as o,c as n,a0 as s,k as r,Y as c,u as d,X as u,Z as p,G as h,a1 as y,W as m,a4 as f}from"./vue-vendor-B-98Oggh.js";import{_ as T}from"./index-B8eEKoFF.js";import"./lodash-CiXSdKEp.js";const g={title:"手動訂單查詢",blockchainInfo:"區塊鏈資訊",blockHeight:"區塊高度",chainType:"鏈類型",queryResult:"查詢結果",pleaseInputBlockHeight:"請輸入區塊高度",pleaseSearchFirst:"請先進行查詢",noDataFound:"未找到數據",total:"共",items:"條記錄",selectChainType:"請選擇鏈類型",field:{blockHeight:"區塊高度",txHash:"交易哈希",fromAddress:"來源地址",toAddress:"目標地址",amount:"數量",fee:"手續費",timestamp:"時間戳",confirmations:"確認數",orderId:"明細單號",merchant:"商戶",status:"狀態",coinType:"幣種",createTime:"創建時間"},action:{query:"查詢",reset:"重置",export:"導出數據",detail:"詳情",action:"操作"},message:{querySuccess:"查詢成功",queryFailed:"查詢失敗",invalidBlockHeight:"無效的區塊高度",exportSuccess:"導出成功",exportFailed:"導出失敗"}},k={title:"Manual Order Query",blockchainInfo:"Blockchain Information",blockHeight:"Block Height",chainType:"Chain Type",queryResult:"Query Result",pleaseInputBlockHeight:"Please input block height",pleaseSearchFirst:"Please search first",noDataFound:"No data found",total:"Total",items:"items",selectChainType:"Please select chain type",field:{blockHeight:"Block Height",txHash:"Transaction Hash",fromAddress:"From Address",toAddress:"To Address",amount:"Amount",fee:"Fee",timestamp:"Timestamp",confirmations:"Confirmations",orderId:"Order ID",merchant:"Merchant",status:"Status",coinType:"Coin Type",createTime:"Create Time"},action:{query:"Query",reset:"Reset",export:"Export Data",detail:"Detail",action:"Action"},message:{querySuccess:"Query successful",queryFailed:"Query failed",invalidBlockHeight:"Invalid block height",exportSuccess:"Export successful",exportFailed:"Export failed"}},v={class:"manual-order-container"},b={key:0,class:"loading-container"},_={key:1,class:"empty-result"},H={key:2,class:"empty-result"},I=T(i({__name:"ManualOrder",setup(i){const T={zh:g,en:k},{t:I}=e({messages:T,legacy:!1}),x=l({chainType:void 0,blockHeight:""}),S=o(!1),C=o(!1),F=o([]),q=l({current:1,pageSize:10,total:0,showSizeChanger:!0,showTotal:e=>`${I("total")} ${e} ${I("items")}`}),D=n((()=>[{title:I("field.orderId"),dataIndex:"orderId",key:"orderId"},{title:I("chainType"),dataIndex:"chainType",key:"chainType"},{title:I("field.coinType"),dataIndex:"coinType",key:"coinType"},{title:I("field.amount"),dataIndex:"amount",key:"amount"},{title:I("field.createTime"),dataIndex:"createTime",key:"createTime"},{title:I("action.action"),key:"action"}])),w=e=>{},B=async()=>{if(x.chainType)if(x.blockHeight){S.value=!0,C.value=!0;try{await new Promise((e=>setTimeout(e,1e3))),F.value=[{id:"1",orderId:"ORD"+Math.floor(1e6*Math.random()),chainType:x.chainType,coinType:"ETH"===x.chainType?"USDT":x.chainType,amount:(10*Math.random()).toFixed(4),createTime:(new Date).toLocaleString()},{id:"2",orderId:"ORD"+Math.floor(1e6*Math.random()),chainType:x.chainType,coinType:"ETH"===x.chainType?"USDT":x.chainType,amount:(10*Math.random()).toFixed(4),createTime:(new Date).toLocaleString()}],q.total=F.value.length,t.success(I("message.querySuccess"))}catch(e){t.error(I("message.queryFailed")),F.value=[]}finally{S.value=!1}}else t.warning(I("pleaseInputBlockHeight"));else t.warning(I("selectChainType"))},M=()=>{x.chainType=void 0,x.blockHeight="",C.value=!1,F.value=[]};return(e,i)=>{const l=u("a-form-item"),o=u("a-col"),n=u("a-input"),T=u("a-button"),g=u("a-row"),k=u("a-form"),A=u("a-card"),R=u("a-spin"),j=u("a-empty"),E=u("a-table");return p(),s("div",v,[r(A,{class:"card",title:d(I)("blockchainInfo"),bordered:!1},{default:c((()=>[r(k,{layout:"horizontal",model:x,name:"blockchain-form"},{default:c((()=>[r(g,{gutter:24},{default:c((()=>[r(o,{span:8},{default:c((()=>[r(l,{label:d(I)("chainType"),name:"chainType"},{default:c((()=>[r(a,{value:x.chainType,"onUpdate:value":i[0]||(i[0]=e=>x.chainType=e),onChange:w},null,8,["value"])])),_:1},8,["label"])])),_:1}),r(o,{span:8},{default:c((()=>[r(l,{label:d(I)("blockHeight"),name:"blockHeight"},{default:c((()=>[r(n,{value:x.blockHeight,"onUpdate:value":i[1]||(i[1]=e=>x.blockHeight=e),placeholder:d(I)("pleaseInputBlockHeight")},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1}),r(o,{span:8},{default:c((()=>[r(l,null,{default:c((()=>[r(T,{type:"primary",onClick:B},{default:c((()=>[h(y(d(I)("action.query")),1)])),_:1}),r(T,{style:{"margin-left":"8px"},onClick:M},{default:c((()=>[h(y(d(I)("action.reset")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1},8,["title"]),r(A,{class:"card",title:d(I)("queryResult"),bordered:!1},{default:c((()=>[S.value?(p(),s("div",b,[r(R)])):C.value?0===F.value.length?(p(),s("div",H,[r(j,{description:d(I)("noDataFound")},null,8,["description"])])):(p(),m(E,{key:3,columns:D.value,"data-source":F.value,pagination:q,loading:S.value,"row-key":"id"},{bodyCell:c((({column:e,record:a})=>["action"===e.key?(p(),m(T,{key:0,type:"link",onClick:e=>(e=>{t.info(`${I("action.detail")}: ${e.orderId}`)})(a)},{default:c((()=>[h(y(d(I)("action.detail")),1)])),_:2},1032,["onClick"])):f("",!0)])),_:1},8,["columns","data-source","pagination","loading"])):(p(),s("div",_,[r(j,{description:d(I)("pleaseSearchFirst")},null,8,["description"])]))])),_:1},8,["title"])])}}}),[["__scopeId","data-v-c8e980a7"]]);export{I as default};
