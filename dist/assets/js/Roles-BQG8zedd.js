import{v as e}from"./vendor-BhfxMwoc.js";import{_ as a}from"./index-Cb7_ky96.js";import{P as t,b as r}from"./ant-design-0M0Sv-BJ.js";import{f as i,r as s,a0 as l,Z as o,k as n,Y as d,_ as c,X as m,W as u,a4 as p,G as y,a1 as k,u as h,F as f,a2 as g}from"./vue-vendor-B-98Oggh.js";import"./lodash-CiXSdKEp.js";const v={title:{roleList:"角色列表",roleManagement:"角色管理",addRole:"新增角色",editRole:"編輯角色"},field:{roleName:"角色名稱",roleDescription:"角色描述",permissions:"權限設置",createTime:"創建時間",updateTime:"更新時間",twoFactorAuth:"雙重認證",twoFactorAuthRequired:"是否啟用雙重認證"},action:{addRole:"新增角色",editRole:"編輯角色",deleteRole:"刪除角色",save:"保存",cancel:"取消",action:"操作"},permission:{read:"讀取",create:"新增",update:"編輯",delete:"刪除",largeAmountTransfer:"大額轉帳"},module:{monitor:{title:"監控管理",dashboard:"數據監控",alert:"告警監控"},wallet:{title:"錢包管理",query:"錢包查詢",detail:"錢包詳情",privateKey:"私鑰管理",transfer:"錢包轉賬",tokenExchange:"代幣兌換管理"},order:{title:"訂單管理",deposit:"充值訂單查詢",withdraw:"提現訂單查詢",transfer:"轉賬訂單查詢",exchange:"兌換訂單查詢",transaction:"交易明細查詢"},reconciliation:{title:"對帳管理",walletBalance:"對帳明細查詢"},params:{title:"參數管理",blockchain:"區塊鏈管理",contractCoin:"合約幣種管理"},system:{title:"系統管理",users:"用戶管理",roles:"角色管理",merchants:"商戶管理",systemParams:"系統參數管理"}},message:{deleteConfirm:"確定要刪除此角色嗎？",deleteSuccess:"角色刪除成功",saveFailed:"保存失敗",saveSuccess:"保存成功",roleNameRequired:"請輸入角色名稱",roleDescriptionRequired:"請輸入角色描述"},prompt:{inputRoleName:"請輸入角色名稱",inputRoleDescription:"請輸入角色描述"}},R={title:{roleList:"Role List",roleManagement:"Role Management",addRole:"Add Role",editRole:"Edit Role"},field:{roleName:"Role Name",roleDescription:"Role Description",permissions:"Permissions",createTime:"Create Time",updateTime:"Update Time",twoFactorAuth:"Two-Factor Authentication",twoFactorAuthRequired:"Enable Two-Factor Authentication"},action:{addRole:"Add Role",editRole:"Edit Role",deleteRole:"Delete Role",save:"Save",cancel:"Cancel",action:"Actions"},permission:{read:"Read",create:"Create",update:"Update",delete:"Delete",largeAmountTransfer:"Large Amount Transfer"},module:{monitor:{title:"Monitoring",dashboard:"Data Monitoring",alert:"Alert Monitoring"},wallet:{title:"Wallet Management",query:"Wallet Query",detail:"Wallet Detail",privateKey:"Private Key Management",transfer:"Wallet Transfer",tokenExchange:"Token Exchange"},order:{title:"Order Management",deposit:"Deposit Orders",withdraw:"Withdraw Orders",transfer:"Transfer Orders",exchange:"Exchange Orders",transaction:"Transaction Details"},reconciliation:{title:"Reconciliation",walletBalance:"Balance Query"},params:{title:"Parameters",blockchain:"Blockchain",contractCoin:"Contract Coins"},system:{title:"System",users:"Users",roles:"Roles",merchants:"Merchants",systemParams:"System Parameters Management"}},message:{deleteConfirm:"Are you sure you want to delete this role?",deleteSuccess:"Role deleted successfully",saveFailed:"Save failed",saveSuccess:"Save successful",roleNameRequired:"Please input role name",roleDescriptionRequired:"Please input role description"},prompt:{inputRoleName:"Please input role name",inputRoleDescription:"Please input role description"}},w=[{id:1,roleName:"超級管理員",roleDescription:"系統最高權限管理員，可以管理所有功能",createTime:"2024-03-20 10:00:00",updateTime:"2024-03-20 10:00:00"},{id:2,roleName:"財務管理員",roleDescription:"負責處理錢包轉賬、訂單管理和對帳等財務相關操作",createTime:"2024-03-20 11:30:00",updateTime:"2024-03-20 14:15:00"},{id:3,roleName:"運維人員",roleDescription:"負責系統監控和告警處理",createTime:"2024-03-20 13:45:00",updateTime:"2024-03-20 16:20:00"},{id:4,roleName:"商戶管理員",roleDescription:"負責商戶管理和商戶相關配置",createTime:"2024-03-21 09:00:00",updateTime:"2024-03-21 09:00:00"},{id:5,roleName:"查詢人員",roleDescription:"擁有所有模塊的只讀權限",createTime:"2024-03-21 10:30:00",updateTime:"2024-03-21 10:30:00"}],T={class:"roles-management"},D={style:{display:"flex","justify-content":"space-between","align-items":"center"}},b={class:"card-title"},N={class:"table-container"},A={class:"permission-module"},C={class:"module-title"},_={class:"permission-pages"},q={class:"page-title"},F={class:"permission-items"},x=a({__name:"Roles",setup(a){const x={zh:v,en:R},{t:S}=e({messages:x,legacy:!1}),P=[{title:S("field.roleName"),dataIndex:"roleName",key:"roleName",width:200},{title:S("field.roleDescription"),dataIndex:"roleDescription",key:"roleDescription",width:300},{title:S("field.createTime"),dataIndex:"createTime",key:"createTime",width:200},{title:S("field.updateTime"),dataIndex:"updateTime",key:"updateTime",width:200},{title:S("action.action"),key:"action",width:200,fixed:"right"}],E=i(w),M=[{key:"monitor",pages:[{key:"dashboard",permissions:["read"]},{key:"alert",permissions:["read","create","update","delete"]}]},{key:"wallet",pages:[{key:"query",permissions:["read","create","update"]},{key:"detail",permissions:["read","create","update"]},{key:"privateKey",permissions:["read"]},{key:"transfer",permissions:["read","create","update","largeAmountTransfer"]},{key:"tokenExchange",permissions:["read","create","update"]}]},{key:"order",pages:[{key:"deposit",permissions:["read","create","update"]},{key:"withdraw",permissions:["read","create","update"]},{key:"transfer",permissions:["read","create","update"]},{key:"exchange",permissions:["read","create","update"]},{key:"transaction",permissions:["read","create","update"]}]},{key:"reconciliation",pages:[{key:"walletBalance",permissions:["read","update"]}]},{key:"params",pages:[{key:"blockchain",permissions:["read","create","update","delete"]},{key:"contractCoin",permissions:["read","create","update","delete"]}]},{key:"system",pages:[{key:"users",permissions:["read","create","update","delete"]},{key:"roles",permissions:["read","create","update","delete"]},{key:"merchants",permissions:["read","create","update","delete"]},{key:"systemParams",permissions:["read","update"]}]}],U=i(!1),L=i(!1),j=i(null),O=i(!1),W=()=>{const e={};return M.forEach((a=>{e[a.key]={},a.pages.forEach((t=>{e[a.key][t.key]={},t.permissions.forEach((r=>{e[a.key][t.key][r]=!1}))}))})),e},z=s({roleName:"",roleDescription:"",twoFactorAuthRequired:!1,permissions:W()}),B={roleName:[{required:!0,message:S("message.roleNameRequired"),trigger:"blur"}],roleDescription:[{required:!0,message:S("message.roleDescriptionRequired"),trigger:"blur"}]},I=()=>{O.value=!1,z.roleName="",z.roleDescription="",z.twoFactorAuthRequired=!1,z.permissions=W(),U.value=!0},K=async()=>{try{await j.value.validate(),L.value=!0,setTimeout((()=>{r.success(S("message.saveSuccess")),U.value=!1,L.value=!1,j.value.resetFields()}),1e3)}catch(e){}},$=()=>{U.value=!1,j.value.resetFields()},Q=(e,a,t)=>{};return(e,a)=>{const i=m("a-button"),s=m("a-space"),v=m("a-table"),R=m("a-card"),w=m("a-input"),x=m("a-form-item"),W=m("a-textarea"),V=m("a-switch"),G=m("a-checkbox"),J=m("a-divider"),X=m("a-form"),Y=m("a-modal");return o(),l("div",T,[n(R,{bordered:!1,class:"table-card"},{title:d((()=>[c("div",D,[c("span",b,k(h(S)("title.roleList")),1),n(i,{type:"primary",onClick:I},{icon:d((()=>[n(h(t))])),default:d((()=>[y(" "+k(h(S)("action.addRole")),1)])),_:1})])])),default:d((()=>[c("div",N,[n(v,{columns:P,"data-source":E.value,pagination:{total:100,pageSize:10,showSizeChanger:!1,showQuickJumper:!0},bordered:!0,onChange:Q},{bodyCell:d((({column:e,record:a})=>["action"===e.key?(o(),u(s,{key:0},{default:d((()=>[n(i,{type:"link",size:"small",onClick:e=>(e=>{O.value=!0,z.roleName=e.roleName,z.roleDescription=e.roleDescription,U.value=!0})(a)},{default:d((()=>[y(k(h(S)("action.editRole")),1)])),_:2},1032,["onClick"]),n(i,{type:"link",status:"danger",size:"small",onClick:e=>{r.success(S("message.deleteSuccess"))}},{default:d((()=>[y(k(h(S)("action.deleteRole")),1)])),_:2},1032,["onClick"])])),_:2},1024)):p("",!0)])),_:1},8,["data-source"])])])),_:1}),n(Y,{open:U.value,"onUpdate:open":a[3]||(a[3]=e=>U.value=e),title:O.value?h(S)("title.editRole"):h(S)("title.addRole"),onOk:K,onCancel:$,confirmLoading:L.value,width:"800px"},{default:d((()=>[n(X,{model:z,rules:B,ref_key:"roleFormRef",ref:j,layout:"vertical"},{default:d((()=>[n(x,{label:h(S)("field.roleName"),name:"roleName"},{default:d((()=>[n(w,{value:z.roleName,"onUpdate:value":a[0]||(a[0]=e=>z.roleName=e),placeholder:h(S)("prompt.inputRoleName"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),n(x,{label:h(S)("field.roleDescription"),name:"roleDescription"},{default:d((()=>[n(W,{value:z.roleDescription,"onUpdate:value":a[1]||(a[1]=e=>z.roleDescription=e),placeholder:h(S)("prompt.inputRoleDescription"),rows:4,"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),n(x,{label:h(S)("field.twoFactorAuth"),name:"twoFactorAuthRequired"},{default:d((()=>[n(V,{checked:z.twoFactorAuthRequired,"onUpdate:checked":a[2]||(a[2]=e=>z.twoFactorAuthRequired=e),checkedValue:!0,unCheckedValue:!1},{checkedChildren:d((()=>[y(k(h(S)("field.twoFactorAuthRequired")),1)])),unCheckedChildren:d((()=>[y(k(h(S)("field.twoFactorAuthRequired")),1)])),_:1},8,["checked"])])),_:1},8,["label"]),n(x,{label:h(S)("field.permissions")},{default:d((()=>[n(R,{bordered:!1,class:"permissions-card"},{default:d((()=>[(o(),l(f,null,g(M,(e=>(o(),l(f,{key:e.key},[c("div",A,[c("div",C,k(h(S)(`module.${e.key}.title`)),1),c("div",_,[(o(!0),l(f,null,g(e.pages,(a=>(o(),l("div",{key:a.key,class:"permission-page"},[c("div",q,k(h(S)(`module.${e.key}.${a.key}`)),1),c("div",F,[(o(!0),l(f,null,g(a.permissions,(t=>(o(),u(G,{key:t,checked:z.permissions[e.key][a.key][t],"onUpdate:checked":r=>z.permissions[e.key][a.key][t]=r},{default:d((()=>[y(k(h(S)(`permission.${t}`)),1)])),_:2},1032,["checked","onUpdate:checked"])))),128))])])))),128))])]),e.key!==M[M.length-1].key?(o(),u(J,{key:0})):p("",!0)],64)))),64))])),_:1})])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title","confirmLoading"])])}}},[["__scopeId","data-v-75119d7c"]]);export{x as default};
