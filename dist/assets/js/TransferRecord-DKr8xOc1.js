import{v as e,y as a}from"./vendor-BhfxMwoc.js";import{c as s,X as t,W as r,Z as d,Y as n,a0 as l,F as o,a2 as i,k as c,G as u,a1 as f,u as m,d as p,f as T,o as h,_ as I,a4 as y,$ as v}from"./vue-vendor-B-98Oggh.js";/* empty css               */import{b as x,c as C,z as b,V as g}from"./ant-design-BRHeEO20.js";import{_ as w}from"./index-Cibaxni6.js";import"./lodash-CiXSdKEp.js";const A={placeholder:"請選擇狀態",status:{pending:"待處理",processing:"處理中",manualConfirm:"待人工確認",success:"成功",failed:"失敗"}},O={placeholder:"Please select status",status:{pending:"Pending",processing:"Processing",manualConfirm:"Manual Confirm",success:"Success",failed:"Failed"}},S={__name:"TransferStatusSelect",props:{modelValue:{type:String,default:void 0}},emits:["update:modelValue","change"],setup(a,{emit:p}){const T=a,h=p,I={zh:A,en:O},{t:y}=e({messages:I,legacy:!1}),v=["pending","processing","manualConfirm","success","failed"],x=s({get:()=>T.modelValue,set:e=>h("update:modelValue",e)}),C=e=>{h("change",e)};return(e,a)=>{const s=t("a-select-option"),p=t("a-select");return d(),r(p,{value:x.value,"onUpdate:value":a[0]||(a[0]=e=>x.value=e),placeholder:m(y)("placeholder"),allowClear:!0,onChange:C},{default:n((()=>[(d(),l(o,null,i(v,(e=>c(s,{key:e,value:e},{default:n((()=>[u(f(m(y)(`status.${e}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["value","placeholder"])}}},k={placeholder:"請選擇轉賬類型",type:{manualOut:"人工出金",manualIn:"人工入金",systemError:"系統錯誤",deposit:"充值",withdraw:"提現",collection:"歸集",exchange:"兌換",replenish:"補充",manual:"人工",pendingConfirm:"待確認"}},R={placeholder:"Please select transfer type",type:{manualOut:"Manual Out",manualIn:"Manual In",systemError:"System Error",deposit:"Deposit",withdraw:"Withdraw",collection:"Collection",exchange:"Exchange",replenish:"Replenish",manual:"Manual",pendingConfirm:"Pending Confirm"}},H={__name:"TransferTypeSelect",props:{modelValue:{type:String,default:void 0}},emits:["update:modelValue","change"],setup(a,{emit:p}){const T=a,h=p,I={zh:k,en:R},{t:y}=e({messages:I,legacy:!1}),v=["manualOut","manualIn","systemError","deposit","withdraw","collection","exchange","replenish","manual","pendingConfirm"],x=s({get:()=>T.modelValue,set:e=>h("update:modelValue",e)}),C=e=>{h("change",e)};return(e,a)=>{const s=t("a-select-option"),p=t("a-select");return d(),r(p,{value:x.value,"onUpdate:value":a[0]||(a[0]=e=>x.value=e),placeholder:m(y)("placeholder"),allowClear:!0,onChange:C},{default:n((()=>[(d(),l(o,null,i(v,(e=>c(s,{key:e,value:e},{default:n((()=>[u(f(m(y)(`type.${e}`)),1)])),_:2},1032,["value"]))),64))])),_:1},8,["value","placeholder"])}}},_={title:{transferOrderQuery:"轉帳單查詢",transferList:"轉帳列表",notifyDetail:"通知詳情",manualConfirmList:"待人工確認列表"},field:{index:"序號",orderId:"訂單編號",walletId:"錢包編號",address:"地址",relatedOrderId:"關聯訂單編號",status:"狀態",transferStatus:"轉帳狀態",transferType:"轉帳類型",createTime:"創建時間",onChainTime:"上鏈時間",successTime:"成功時間",reason:"原因",transferId:"轉帳單號",fromWallet:"來源錢包",toWallet:"目標錢包",transferAmount:"轉帳數量",amount:"數量",timeInfo:"時間信息",action:"操作",txHash:"TxHash",fromAddress:"來源地址",toAddress:"目標地址",merchant:"商戶",chainCoin:"鏈路/幣種",transactionId:"交易明細編號",relatedOrderIds:"關聯訂單編號(轉出/轉入)"},prompt:{pleaseInputOrderId:"請輸入訂單編號",pleaseInputWalletId:"請輸入錢包編號",pleaseInputAddress:"請輸入地址",pleaseInputTxHash:"請輸入交易哈希",pleaseInputRelatedOrderId:"請輸入關聯訂單編號",pleaseSelectTransferType:"請選擇轉帳類型",pleaseInputReason:"請輸入原因",noReasonProvided:"未提供原因",changeTransferType:"修改轉帳類型",transferTypeReason:"轉帳類型原因"},action:{reset:"重置",query:"查詢",changeType:"修改類型",download:"下載",setFailed:"設定失敗",setSuccessAndRelate:"關聯且設定成功"},status:{pending:"待處理",processing:"轉帳處理中",manualConfirm:"待人工確認",success:"成功",failed:"失敗"},transferType:{deposit:"存款",withdraw:"提款",collection:"歸集",exchange:"兌幣",replenish:"補手續費",manual:"手動",manualOut:"手動轉出",manualIn:"手動轉入",systemError:"系統錯誤",pendingConfirm:"待確認",fee:"手續費",swap:"SWAP"},message:{copySuccess:"複製成功",copyFailed:"複製失敗",updateSuccess:"更新成功",downloadSuccess:"下載成功",pleaseSelectRecords:"請選擇記錄",operationSuccess:"操作成功",cannotSetFailedWhenSelected:"已勾選記錄時無法設定失敗",swapNeedTwoRecords:"請勾選SWAP對應的兩筆轉帳單",swapNeedInAndOut:"已選擇的轉帳單需為入帳和出帳",swapTxHashMismatch:"已選擇的轉帳單txhash不一致",nonSwapOnlyOneRecord:"非SWAP類型只能勾選一條記錄"}},U={title:{transferOrderQuery:"Transfer Order Query",transferList:"Transfer List",notifyDetail:"Notification Details",manualConfirmList:"Manual Confirm List"},field:{index:"No.",orderId:"Order ID",walletId:"Wallet ID",address:"Address",relatedOrderId:"Related Order ID",status:"Status",transferStatus:"Transfer Status",transferType:"Transfer Type",createTime:"Create Time",onChainTime:"On Chain Time",successTime:"Success Time",reason:"Reason",transferId:"Transfer ID",fromWallet:"From Wallet",toWallet:"To Wallet",transferAmount:"Transfer Amount",amount:"Amount",timeInfo:"Time Info",action:"Action",txHash:"TxHash",fromAddress:"From Address",toAddress:"To Address",merchant:"Merchant",chainCoin:"Chain/Coin",transactionId:"Transaction ID",relatedOrderIds:"Related Order IDs (Out/In)",operation:"Operation"},prompt:{pleaseInputOrderId:"Please input order ID",pleaseInputWalletId:"Please input wallet ID",pleaseInputAddress:"Please input address",pleaseInputTxHash:"Please input transaction hash",pleaseInputRelatedOrderId:"Please input related order ID",pleaseSelectTransferType:"Please select transfer type",pleaseInputReason:"Please input reason",noReasonProvided:"No reason provided",changeTransferType:"Change Transfer Type",transferTypeReason:"Transfer Type Reason"},action:{reset:"Reset",query:"Query",changeType:"Change Type",download:"Download",setFailed:"Set Failed",setSuccessAndRelate:"Relate & Set Success"},status:{pending:"Pending",processing:"Transfer Processing",manualConfirm:"Manual Confirm",success:"Success",failed:"Failed"},transferType:{deposit:"Deposit",withdraw:"Withdraw",collection:"Collection",exchange:"Exchange",replenish:"Replenish Fee",manual:"Manual",manualOut:"Manual Out",manualIn:"Manual In",systemError:"System Error",pendingConfirm:"Pending Confirm",fee:"Fee",swap:"SWAP"},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",updateSuccess:"Update successful",downloadSuccess:"Download successful",pleaseSelectRecords:"Please select records",operationSuccess:"Operation successful",cannotSetFailedWhenSelected:"Cannot set failed when records selected",swapNeedTwoRecords:"Please select two transfer orders for SWAP",swapNeedInAndOut:"Selected transfers must be one in and one out",swapTxHashMismatch:"Selected transfers have different txhash",nonSwapOnlyOneRecord:"Non-SWAP type can only select one record"}},N=100,D=[{id:"TR001",transferId:"TF20240315001",merchant:"商戶A",fromAddress:"0x1234567890abcdef1234567890abcdef12345678",toAddress:"0xabcdef1234567890abcdef1234567890abcdef12",amount:"1500.50",chainCoin:"ETH/USDT",txHash:"0x9876543210fedcba9876543210fedcba98765432",status:"success",createTime:"2024-03-15 10:00:00",onChainTime:"2024-03-15 10:01:00",successTime:"2024-03-15 10:02:00",transactionId:"TXN20240315001",relatedOrderIds:"OUT-001/IN-001",transferType:{type:"deposit",orderId:"DEP20240315001"}},{id:"TR002",transferId:"TF20240315002",merchant:"商戶B",fromAddress:"0x2345678901abcdef2345678901abcdef23456789",toAddress:"0xbcdef1234567890abcdef1234567890abcdef123",amount:"2000.00",chainCoin:"TRC20/USDT",txHash:"0x8765432109fedcba8765432109fedcba87654321",status:"processing",createTime:"2024-03-15 11:00:00",onChainTime:"2024-03-15 11:01:00",successTime:null,transactionId:"TXN20240315002",relatedOrderIds:"OUT-002/IN-002",transferType:{type:"withdraw",orderId:"WD20240315001"}},{id:"TR003",transferId:"TF20240315003",merchant:"商戶C",fromAddress:"0x3456789012abcdef3456789012abcdef34567890",toAddress:"0xcdef1234567890abcdef1234567890abcdef1234",amount:"500.75",chainCoin:"BSC/BUSD",txHash:"0x7654321098fedcba7654321098fedcba76543210",status:"manualConfirm",createTime:"2024-03-15 12:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315003",relatedOrderIds:"OUT-003",transferType:{type:"collection",orderId:"COL20240315001"}},{id:"TR004",transferId:"TF20240315004",merchant:"商戶A",fromAddress:"0x4567890123abcdef4567890123abcdef45678901",toAddress:"0xdef1234567890abcdef1234567890abcdef12345",amount:"10.50",chainCoin:"ETH/ETH",txHash:"0x6543210987fedcba6543210987fedcba65432109",status:"manualConfirm",createTime:"2024-03-15 13:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315004",relatedOrderIds:"OUT-004/IN-004",transferType:{type:"replenish",orderId:"REP20240315001"}},{id:"TR005",transferId:"TF20240315005",merchant:"商戶D",fromAddress:"0x5678901234abcdef5678901234abcdef56789012",toAddress:"0xef1234567890abcdef1234567890abcdef123456",amount:"5.00",chainCoin:"TRC20/TRX",txHash:"0x5432109876fedcba5432109876fedcba54321098",status:"failed",createTime:"2024-03-15 14:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315005",relatedOrderIds:"OUT-005",transferType:{type:"fee",orderId:"FEE20240315001"}},{id:"TR006",transferId:"TF20240315006",merchant:"商戶B",fromAddress:"0x6789012345abcdef6789012345abcdef67890123",toAddress:"0xf1234567890abcdef1234567890abcdef1234567",amount:"3500.00",chainCoin:"ETH/USDC",txHash:"0x4321098765fedcba4321098765fedcba43210987",status:"success",createTime:"2024-03-15 15:00:00",onChainTime:"2024-03-15 15:01:00",successTime:"2024-03-15 15:02:00",transactionId:"TXN20240315006",relatedOrderIds:"OUT-006/IN-006",transferType:{type:"deposit",orderId:"DEP20240315002"}},{id:"TR007",transferId:"TF20240315007",merchant:"商戶C",fromAddress:"0x7890123456abcdef7890123456abcdef78901234",toAddress:"0x1234567890abcdef1234567890abcdef12345678",amount:"800.25",chainCoin:"BSC/BNB",txHash:"0x3210987654fedcba3210987654fedcba32109876",status:"manualConfirm",createTime:"2024-03-15 16:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315007",relatedOrderIds:"OUT-007/IN-007",transferType:{type:"withdraw",orderId:"WD20240315002"}},{id:"TR008",transferId:"TF20240315008",merchant:"商戶A",fromAddress:"0x8901234567abcdef8901234567abcdef89012345",toAddress:"0x234567890abcdef1234567890abcdef123456789",amount:"1200.00",chainCoin:"TRC20/USDT",txHash:"0x2109876543fedcba2109876543fedcba21098765",status:"processing",createTime:"2024-03-15 17:00:00",onChainTime:"2024-03-15 17:01:00",successTime:null,transactionId:"TXN20240315008",relatedOrderIds:"OUT-008",transferType:{type:"collection",orderId:"COL20240315002"}},{id:"TR009",transferId:"TF20240315009",merchant:"商戶D",fromAddress:"0x9012345678abcdef9012345678abcdef90123456",toAddress:"0x34567890abcdef1234567890abcdef1234567890",amount:"25.80",chainCoin:"ETH/USDT",txHash:"0x1098765432fedcba1098765432fedcba10987654",status:"manualConfirm",createTime:"2024-03-15 18:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315009",relatedOrderIds:"OUT-009/IN-009",transferType:{type:"replenish",orderId:"REP20240315002"}},{id:"TR010",transferId:"TF20240315010",merchant:"商戶B",fromAddress:"0xa012345678abcdefa012345678abcdefa0123456",toAddress:"0x4567890abcdef1234567890abcdef12345678901",amount:"6500.50",chainCoin:"BSC/USDT",txHash:"0x0987654321fedcba0987654321fedcba09876543",status:"success",createTime:"2024-03-15 19:00:00",onChainTime:"2024-03-15 19:01:00",successTime:"2024-03-15 19:03:00",transactionId:"TXN20240315010",relatedOrderIds:"OUT-010/IN-010",transferType:{type:"deposit",orderId:"DEP20240315003"}},{id:"TR011",transferId:"TF20240315011",merchant:"商戶C",fromAddress:"0xb012345678abcdefb012345678abcdefb0123456",toAddress:"0x567890abcdef1234567890abcdef123456789012",amount:"450.00",chainCoin:"TRC20/USDC",txHash:"0xf987654321fedcbaf987654321fedcbaf9876543",status:"manualConfirm",createTime:"2024-03-15 20:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315011",relatedOrderIds:"OUT-011",transferType:{type:"fee",orderId:"FEE20240315002"}},{id:"TR012",transferId:"TF20240315012",merchant:"商戶A",fromAddress:"0xc012345678abcdefc012345678abcdefc0123456",toAddress:"0x67890abcdef1234567890abcdef1234567890123",amount:"9800.75",chainCoin:"ETH/USDT",txHash:"0xe987654321fedcbae987654321fedcbae9876543",status:"processing",createTime:"2024-03-15 21:00:00",onChainTime:"2024-03-15 21:01:00",successTime:null,transactionId:"TXN20240315012",relatedOrderIds:"OUT-012/IN-012",transferType:{type:"withdraw",orderId:"WD20240315003"}},{id:"TR013",transferId:"TF20240315013",merchant:"商戶A",fromAddress:"0xd012345678abcdefd012345678abcdefd0123456",toAddress:"0x78901abcdef1234567890abcdef12345678901ab",amount:"5000.00",chainCoin:"ETH/USDT",txHash:"0xd987654321fedcbad987654321fedcbad9876543",status:"manualConfirm",createTime:"2024-03-15 22:00:00",onChainTime:null,successTime:null,transactionId:"TXN20240315013",relatedOrderIds:"OUT-013/IN-013",transferType:{type:"swap",orderId:"SWAP20240315001"}}],$={class:"transfer-record"},F={class:"form-row"},P={class:"form-row"},E={class:"form-item-sm button-group"},W={key:3,class:"hash-container"},V={class:"icon-group"},X={key:4,class:"address-container"},M={key:1,class:"address-container"},L={class:"modal-footer"},j=w(p({__name:"TransferRecord",setup(i){const p={zh:_,en:U},{t:w}=e({messages:p,legacy:!1}),A=T({orderId:"",walletId:"",address:"",fromAddress:"",toAddress:"",txHash:"",relatedOrderId:"",status:void 0,transferType:void 0});a();const O=()=>{A.value={orderId:"",walletId:"",address:"",fromAddress:"",toAddress:"",txHash:"",relatedOrderId:"",status:void 0,transferType:void 0},k()},k=()=>{j.value=D,z.value.total=N},R=s((()=>[{title:w("field.index"),dataIndex:"index",key:"index",width:70,customRender:({text:e,index:a})=>(z.value.current-1)*z.value.pageSize+a+1},{title:w("field.transferId"),dataIndex:"transferId",key:"transferId",width:150},{title:w("field.merchant"),dataIndex:"merchant",key:"merchant",width:120},{title:w("field.transferStatus"),dataIndex:"status",key:"status",width:130},{title:w("field.transferType"),dataIndex:"transferType",key:"transferType",width:130},{title:w("field.chainCoin"),dataIndex:"chainCoin",key:"chainCoin",width:150},{title:w("field.amount"),dataIndex:"amount",key:"amount",width:150,align:"right"},{title:"TxHash",dataIndex:"txHash",key:"txHash",width:200},{title:w("field.fromAddress"),dataIndex:"fromAddress",key:"fromAddress",width:200},{title:w("field.toAddress"),dataIndex:"toAddress",key:"toAddress",width:200},{title:w("field.transactionId"),dataIndex:"transactionId",key:"transactionId",width:180},{title:w("field.relatedOrderIds"),dataIndex:"relatedOrderIds",key:"relatedOrderIds",width:200},{title:w("field.createTime"),dataIndex:"createTime",key:"createTime",width:180}])),j=T([]),z=T({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0}),B=(e,a,s)=>{z.value.current=e.current||1,z.value.pageSize=e.pageSize||10,k()},q=T(!1),Q=T({type:void 0,reason:"",recordId:null}),G=()=>{Q.value.type?Q.value.reason.trim()?(x.success(w("updateSuccess")),q.value=!1):x.error(w("pleaseInputReason")):x.error(w("pleaseSelectTransferType"))},J=()=>{q.value=!1},K=T(!1),Y=T(""),Z=()=>{const e=se.value,a=[e.map((e=>e.title)).join(","),...j.value.map((a=>e.map((e=>{let s="";if("string"==typeof e.dataIndex)s=a[e.dataIndex]||"";else if(Array.isArray(e.dataIndex)){let t=a;for(const a of e.dataIndex)t=null==t?void 0:t[a];s=t||""}return`"${s}"`})).join(",")))].join("\n"),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),t=document.createElement("a"),r=URL.createObjectURL(s);t.setAttribute("href",r),t.setAttribute("download",`transfer_record_${(new Date).toISOString().split("T")[0]}.csv`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),x.success(w("message.downloadSuccess"))},ee=e=>e?`${e.slice(0,4)}***${e.slice(-4)}`:"-",ae=async e=>{try{await navigator.clipboard.writeText(e),x.success(w("message.copySuccess"))}catch(a){x.error(w("message.copyFailed"))}},se=R,te=T(!1),re=T([]),de=T([]),ne=T(""),le=T(""),oe=s((()=>[{title:w("field.index"),key:"index",width:70},{title:w("field.transferId"),dataIndex:"transferId",key:"transferId",width:150},{title:w("field.chainCoin"),dataIndex:"chainCoin",key:"chainCoin",width:150},{title:w("field.amount"),dataIndex:"amount",key:"amount",width:120,align:"right"},{title:w("field.fromAddress"),dataIndex:"fromAddress",key:"fromAddress",width:200},{title:w("field.toAddress"),dataIndex:"toAddress",key:"toAddress",width:200}])),ie=s((()=>({selectedRowKeys:de.value,onChange:e=>{"swap"!==le.value&&e.length>1?x.warning(w("message.nonSwapOnlyOneRecord")):de.value=e}}))),ce=s((()=>de.value.length>0)),ue=()=>{de.value.length>0?x.warning(w("message.cannotSetFailedWhenSelected")):(x.success(w("message.operationSuccess")),te.value=!1,k())},fe=()=>{if(0!==de.value.length){if("swap"===le.value){if(2!==de.value.length)return void x.warning(w("message.swapNeedTwoRecords"));const e=re.value.filter((e=>de.value.includes(e.id)));if(2!==e.length)return void x.warning(w("message.swapNeedTwoRecords"));const[a,s]=e,t=parseFloat(a.amount),r=parseFloat(s.amount);if(!(t>0||r>0)||!(t<0||r<0))return void x.warning(w("message.swapNeedInAndOut"));if(a.txHash!==s.txHash)return void x.warning(w("message.swapTxHashMismatch"))}x.success(w("message.operationSuccess")),te.value=!1,k()}else x.warning(w("message.pleaseSelectRecords"))};return h((()=>{k()})),(e,a)=>{const s=t("a-input"),i=t("a-form-item"),p=t("a-button"),T=t("a-space"),h=t("a-form"),_=t("a-card"),U=t("a-tag"),N=t("a-table"),D=t("a-select-option"),se=t("a-select"),me=t("a-textarea"),pe=t("a-modal");return d(),l("div",$,[c(_,{title:m(w)("title.transferOrderQuery"),class:"filter-card"},{default:n((()=>[c(h,{layout:"vertical",model:A.value,class:"query-form"},{default:n((()=>[I("div",F,[c(i,{label:m(w)("field.orderId"),class:"form-item-lg"},{default:n((()=>[c(s,{value:A.value.orderId,"onUpdate:value":a[0]||(a[0]=e=>A.value.orderId=e),placeholder:m(w)("prompt.pleaseInputOrderId"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),c(i,{label:m(w)("field.walletId"),class:"form-item-lg"},{default:n((()=>[c(s,{value:A.value.walletId,"onUpdate:value":a[1]||(a[1]=e=>A.value.walletId=e),placeholder:m(w)("prompt.pleaseInputWalletId"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),c(i,{label:m(w)("field.address"),class:"form-item-lg"},{default:n((()=>[c(s,{value:A.value.address,"onUpdate:value":a[2]||(a[2]=e=>A.value.address=e),placeholder:m(w)("prompt.pleaseInputAddress"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"])]),I("div",P,[c(i,{label:"TxHash",class:"form-item-lg"},{default:n((()=>[c(s,{value:A.value.txHash,"onUpdate:value":a[3]||(a[3]=e=>A.value.txHash=e),placeholder:m(w)("prompt.pleaseInputTxHash"),"allow-clear":""},null,8,["value","placeholder"])])),_:1}),c(i,{label:m(w)("field.relatedOrderId"),class:"form-item-lg"},{default:n((()=>[c(s,{value:A.value.relatedOrderId,"onUpdate:value":a[4]||(a[4]=e=>A.value.relatedOrderId=e),placeholder:m(w)("prompt.pleaseInputRelatedOrderId"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),c(i,{label:m(w)("field.status"),class:"form-item-md"},{default:n((()=>[c(S,{modelValue:A.value.status,"onUpdate:modelValue":a[5]||(a[5]=e=>A.value.status=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),c(i,{label:m(w)("field.transferType"),class:"form-item-md"},{default:n((()=>[c(H,{modelValue:A.value.transferType,"onUpdate:modelValue":a[6]||(a[6]=e=>A.value.transferType=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),I("div",E,[c(T,null,{default:n((()=>[c(p,{onClick:O},{default:n((()=>[u(f(m(w)("action.reset")),1)])),_:1}),c(p,{type:"primary",onClick:k},{default:n((()=>[u(f(m(w)("action.query")),1)])),_:1})])),_:1})])])])),_:1},8,["model"])])),_:1},8,["title"]),c(_,{title:m(w)("title.transferList"),class:"list-card"},{extra:n((()=>[c(p,{type:"primary",onClick:Z},{icon:n((()=>[c(m(g))])),default:n((()=>[u(" "+f(m(w)("action.download")),1)])),_:1})])),default:n((()=>[c(N,{columns:R.value,"data-source":j.value,"row-key":e=>e.id,pagination:z.value,bordered:!0,scroll:{x:2e3},onChange:B},{bodyCell:n((({column:e,record:a,index:s})=>{var t,i;return["index"===e.key?(d(),l(o,{key:0},[u(f((z.value.current-1)*z.value.pageSize+s+1),1)],64)):"status"===e.key?(d(),r(U,{key:1,class:v(["status-tag",`status-${a.status}`,{"status-clickable":"manualConfirm"===a.status}]),onClick:e=>"manualConfirm"===a.status?(e=>{var a,s;if(ne.value=e.transferId,le.value=(null==(a=e.transferType)?void 0:a.type)||"","swap"===(null==(s=e.transferType)?void 0:s.type)){const a=e.txHash;re.value=[{id:`${e.id}_out`,transferId:`${e.transferId}-OUT`,merchant:e.merchant,fromAddress:e.fromAddress,toAddress:"0x1234567890abcdef1234567890abcdef12345678",amount:`-${e.amount}`,chainCoin:e.chainCoin||e.coinCode,txHash:a,status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:`${e.transactionId}-OUT`,relatedOrderIds:"OUT-SWAP-001"},{id:`${e.id}_in`,transferId:`${e.transferId}-IN`,merchant:e.merchant,fromAddress:"0x1234567890abcdef1234567890abcdef12345678",toAddress:e.toAddress,amount:e.amount,chainCoin:e.chainCoin||e.coinCode,txHash:a,status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:`${e.transactionId}-IN`,relatedOrderIds:"IN-SWAP-001"}]}else re.value=[{id:`${e.id}_1`,transferId:`${e.transferId}-1`,merchant:e.merchant,fromAddress:e.fromAddress,toAddress:e.toAddress,amount:e.amount,chainCoin:e.chainCoin||e.coinCode,txHash:e.txHash,status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:e.transactionId,relatedOrderIds:e.relatedOrderIds},{id:`${e.id}_2`,transferId:`${e.transferId}-2`,merchant:e.merchant,fromAddress:"0xabcdef1234567890abcdef1234567890abcdef12",toAddress:"0x1234567890abcdef1234567890abcdef12345678",amount:"750.00",chainCoin:e.chainCoin||e.coinCode,txHash:"0xaabbccdd1122334455667788aabbccdd11223344",status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:`${e.transactionId}-2`,relatedOrderIds:"OUT-101/IN-101"},{id:`${e.id}_3`,transferId:`${e.transferId}-3`,merchant:e.merchant,fromAddress:"0x9988776655443322119988776655443322119988",toAddress:"0x2211334455667788992211334455667788992211",amount:"1250.50",chainCoin:e.chainCoin||e.coinCode,txHash:"0x1122334455667788aabbccdd1122334455667788",status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:`${e.transactionId}-3`,relatedOrderIds:"OUT-102"},{id:`${e.id}_4`,transferId:`${e.transferId}-4`,merchant:e.merchant,fromAddress:"0xffeeddccbbaa99887766554433221100ffeeddcc",toAddress:"0x0011223344556677889900112233445566778899",amount:"320.75",chainCoin:e.chainCoin||e.coinCode,txHash:"0xffeeddccbbaa99887766554433221100ffeeddcc",status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:`${e.transactionId}-4`,relatedOrderIds:"OUT-103/IN-103"},{id:`${e.id}_5`,transferId:`${e.transferId}-5`,merchant:e.merchant,fromAddress:"0x5544332211009988776655443322110099887766",toAddress:"0x6677889900112233445566778899001122334455",amount:"890.25",chainCoin:e.chainCoin||e.coinCode,txHash:"0x5544332211009988776655443322110099887766",status:e.status,createTime:e.createTime,onChainTime:e.onChainTime,successTime:e.successTime,transferType:e.transferType,transactionId:`${e.transactionId}-5`,relatedOrderIds:"OUT-104/IN-104"}];de.value=[],te.value=!0})(a):void 0},{default:n((()=>{return[u(f((e=a.status,{pending:w("status.pending"),processing:w("status.processing"),manualConfirm:w("status.manualConfirm"),success:w("status.success"),failed:w("status.failed")}[e]||e)),1)];var e})),_:2},1032,["class","onClick"])):"transferType"===e.key?(d(),l(o,{key:2},[u(f(m(w)(`transferType.${(null==(t=a.transferType)?void 0:t.type)||"unknown"}`)),1)],64)):"txHash"===e.key?(d(),l("div",W,[I("span",null,f((i=a.txHash,i?`${i.slice(0,8)}...${i.slice(-8)}`:"-")),1),I("div",V,[c(m(C),{class:"action-icon",onClick:e=>(async e=>{try{await navigator.clipboard.writeText(e),x.success(w("message.copySuccess"))}catch(a){x.error(w("message.copyFailed"))}})(a.txHash)},null,8,["onClick"]),c(m(b),{class:"action-icon",onClick:e=>{return s=a.txHash,void window.open(`https://example.com/tx/${s}`,"_blank");var s}},null,8,["onClick"])])])):"fromAddress"===e.key||"toAddress"===e.key?(d(),l("div",X,[I("span",null,f(ee(a[e.key])),1),c(m(C),{class:"copy-icon",onClick:s=>ae(a[e.key])},null,8,["onClick"])])):y("",!0)]})),_:1},8,["columns","data-source","row-key","pagination"])])),_:1},8,["title"]),c(pe,{open:q.value,"onUpdate:open":a[9]||(a[9]=e=>q.value=e),title:m(w)("prompt.changeTransferType"),onOk:G,onCancel:J},{default:n((()=>[c(h,{model:Q.value,layout:"vertical"},{default:n((()=>[c(i,{label:m(w)("field.transferType"),required:""},{default:n((()=>[c(se,{value:Q.value.type,"onUpdate:value":a[7]||(a[7]=e=>Q.value.type=e),placeholder:m(w)("prompt.pleaseSelectTransferType")},{default:n((()=>[c(D,{value:"manualOut"},{default:n((()=>[u(f(m(w)("transferType.manualOut")),1)])),_:1}),c(D,{value:"manualIn"},{default:n((()=>[u(f(m(w)("transferType.manualIn")),1)])),_:1}),c(D,{value:"systemError"},{default:n((()=>[u(f(m(w)("transferType.systemError")),1)])),_:1})])),_:1},8,["value","placeholder"])])),_:1},8,["label"]),c(i,{label:m(w)("field.reason"),required:""},{default:n((()=>[c(me,{value:Q.value.reason,"onUpdate:value":a[8]||(a[8]=e=>Q.value.reason=e),placeholder:m(w)("prompt.pleaseInputReason"),rows:4},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title"]),c(pe,{open:K.value,"onUpdate:open":a[10]||(a[10]=e=>K.value=e),title:m(w)("prompt.transferTypeReason"),footer:null},{default:n((()=>[I("p",null,f(Y.value),1)])),_:1},8,["open","title"]),c(pe,{open:te.value,"onUpdate:open":a[11]||(a[11]=e=>te.value=e),title:`${m(w)("field.transferId")}${ne.value} ${m(w)("title.manualConfirmList")}`,width:"1200px",footer:null},{default:n((()=>[c(N,{columns:oe.value,"data-source":re.value,"row-selection":ie.value,"row-key":e=>e.id,pagination:!1,bordered:!0,scroll:{x:1e3}},{bodyCell:n((({column:e,record:a})=>["index"===e.key?(d(),l(o,{key:0},[u(f(re.value.indexOf(a)+1),1)],64)):"fromAddress"===e.key||"toAddress"===e.key?(d(),l("div",M,[I("span",null,f(ee(a[e.key])),1),c(m(C),{class:"copy-icon",onClick:s=>ae(a[e.key])},null,8,["onClick"])])):y("",!0)])),_:1},8,["columns","data-source","row-selection","row-key"]),I("div",L,[c(p,{danger:"",type:"primary",disabled:ce.value,onClick:ue},{default:n((()=>[u(f(m(w)("action.setFailed")),1)])),_:1},8,["disabled"]),c(p,{type:"primary",disabled:!ce.value,onClick:fe},{default:n((()=>[u(f(m(w)("action.setSuccessAndRelate")),1)])),_:1},8,["disabled"])])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-bd72b64b"]]);export{j as default};
