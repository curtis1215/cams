import{d as e,f as a,r as l,a0 as t,k as s,Y as d,X as r,u as n,Z as c,F as i,a2 as u,G as o,a1 as p,_ as y,W as m,a4 as T,B as h,$ as f}from"./vue-vendor-B-98Oggh.js";import{v as b,y as w}from"./vendor-BhfxMwoc.js";import{e as v,z as I,a as U,_ as g}from"./index-Cibaxni6.js";import{_ as k}from"./WalletTypeSelect.vue_vue_type_script_setup_true_lang-C1gKsLYj.js";import{_ as D}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{d as C,c as x,P as _,b as S}from"./ant-design-BRHeEO20.js";import"./lodash-CiXSdKEp.js";const V={walletList:[{key:"1",walletId:"U12345678",merchant:"Fameex",userId:"U123456",walletType:"walletType.user",chainType:"ETH",currency:"USDT",address:"0x1234567890abcdef1234567890abcdef12345678",balance:"1234567890123.45678900",usdtValue:"1234567890123.45678900",lastTransactionTime:"2024-03-15 10:30:25",isDisabled:!1,balances:{USDT:"1234567890123.45678900",ETH:"567890.12345678",USDC:"890123.45678900"}},{key:"2",walletId:"M87654321",merchant:"Fameex",userId:"U234567",walletType:"walletType.collection",chainType:"BTC",currency:"BTC",address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",balance:"123456789.12345678",usdtValue:"5432098765.43210987",lastTransactionTime:"2024-03-15 09:45:12",isDisabled:!0,balances:{BTC:"123456789.12345678"}},{key:"3",walletId:"W98765432",merchant:"CNX",userId:"U345678",walletType:"walletType.withdrawal",chainType:"TRON",currency:"USDT",address:"TRX1234567890abcdef1234567890abcdef12345678",balance:"987654321.87654321",usdtValue:"987654321.87654321",lastTransactionTime:"2024-03-15 11:20:33",isDisabled:!1,balances:{USDT:"987654321.87654321",TRX:"12345678.90123456"}},{key:"4",walletId:"T45678901",merchant:"Fameex",userId:"U456789",walletType:"walletType.transfer",chainType:"ETH",currency:"ETH",address:"0xabcdef1234567890abcdef1234567890abcdef12",balance:"12345.67890123",usdtValue:"43210987.65432109",lastTransactionTime:"2024-03-15 08:15:45",isDisabled:!1,balances:{ETH:"12345.67890123",USDT:"9876.54321098",USDC:"5432.10987654"}},{key:"5",walletId:"U56789012",merchant:"CNX",userId:"U567890",walletType:"walletType.user",chainType:"BTC",currency:"BTC",address:"bc1qabcdefghijklmnopqrstuvwxyz0123456789",balance:"7654.32109876",usdtValue:"337000123.45678900",lastTransactionTime:"2024-03-15 13:40:18",isDisabled:!1,balances:{BTC:"7654.32109876"}},{key:"6",walletId:"M67890123",merchant:"Fameex",userId:"U678901",walletType:"walletType.collection",chainType:"TRON",currency:"TRX",address:"TRXabcdef1234567890abcdef1234567890abcdef",balance:"8765432.10987654",usdtValue:"876543.21098765",lastTransactionTime:"2024-03-15 14:55:27",isDisabled:!1,balances:{TRX:"8765432.10987654",USDT:"12345.67890123"}},{key:"7",walletId:"W78901234",merchant:"CNX",userId:"U789012",walletType:"walletType.withdrawal",chainType:"ETH",currency:"USDT",address:"0x9876543210fedcba9876543210fedcba98765432",balance:"9876543.21098765",usdtValue:"9876543.21098765",lastTransactionTime:"2024-03-15 15:10:42",isDisabled:!0,balances:{USDT:"9876543.21098765",ETH:"2345.67890123"}},{key:"8",walletId:"T89012345",merchant:"Fameex",userId:"U890123",walletType:"walletType.transfer",chainType:"BTC",currency:"BTC",address:"bc1q9876543210fedcba9876543210fedcba987654",balance:"1234.56789012",usdtValue:"54321098.76543210",lastTransactionTime:"2024-03-15 16:25:33",isDisabled:!1,balances:{BTC:"1234.56789012"}},{key:"9",walletId:"U90123456",merchant:"CNX",userId:"U901234",walletType:"walletType.user",chainType:"TRON",currency:"USDT",address:"TRX9876543210fedcba9876543210fedcba987654",balance:"5432.10987654",usdtValue:"5432.10987654",lastTransactionTime:"2024-03-15 17:30:15",isDisabled:!1,balances:{USDT:"5432.10987654",TRX:"543210.98765432"}},{key:"10",walletId:"M01234567",merchant:"Fameex",userId:"U012345",walletType:"walletType.collection",chainType:"ETH",currency:"ETH",address:"0x0123456789abcdef0123456789abcdef01234567",balance:"6789.01234567",usdtValue:"23765432.10987654",lastTransactionTime:"2024-03-15 18:45:55",isDisabled:!0,balances:{ETH:"6789.01234567",USDT:"12345.67890123",USDC:"9876.54321098"}},{key:"11",walletId:"U11111111",merchant:"Fameex",userId:"U111111",walletType:"walletType.user",chainType:"ETH",currency:"BNB",address:"0x1111111111111111111111111111111111111111",balance:"45678.90123456",usdtValue:"13703670.37037037",lastTransactionTime:"2024-03-15 19:30:22",isDisabled:!1,balances:{BNB:"45678.90123456",USDT:"7890.12345678",BUSD:"3456.78901234"}},{key:"12",walletId:"M22222222",merchant:"CNX",userId:"U222222",walletType:"walletType.collection",chainType:"BSC",currency:"BUSD",address:"0x2222222222222222222222222222222222222222",balance:"123456.78901234",usdtValue:"123456.78901234",lastTransactionTime:"2024-03-15 20:15:44",isDisabled:!1,balances:{BUSD:"123456.78901234",BNB:"567.89012345",USDT:"98765.43210987"}}],currencies:[{value:"all",label:"全部"},{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"},{value:"USDC",label:"USDC"},{value:"BNB",label:"BNB"},{value:"BUSD",label:"BUSD"},{value:"TRX",label:"TRX"},{value:"BTC",label:"BTC"}]},B={action:{search:"搜索",reset:"重置",query:"查詢",download:"下載數據",retry:"重試",cancel:"取消",confirm:"確認",transfer:"轉賬"},message:{copySuccess:"複製成功",copyFailed:"複製失敗",downloadSuccess:"下載成功",downloadFailed:"下載失敗"},field:{dateRange:"日期範圍",merchant:"商戶",allMerchants:"全部商戶",status:"狀態",orderId:"訂單號",userId:"用戶 ID",address:"地址",createTime:"創建時間",successTime:"成功時間",notifyTime:"通知時間",notifyUrl:"通知地址",notifyContent:"通知內容",errorContent:"錯誤內容",platformOrderId:"平台訂單號",merchantOrderId:"商戶訂單號",transferId:"轉帳單號"},prompt:{pleaseSelect:"請選擇",pleaseInput:"請輸入",pleaseInputOrderId:"請輸入訂單號",pleaseInputUserId:"請輸入用戶 ID",pleaseInputAddress:"請輸入地址",pleaseInputTxHash:"請輸入交易哈希",selectMerchant:"請選擇商戶"},status:{confirming:"確認中",processing:"處理中",success:"成功",successful:"成功",failed:"失敗",timeout:"超時",retrying:"重試中"}},R={action:{search:"Search",reset:"Reset",query:"Query",download:"Download Data",retry:"Retry",cancel:"Cancel",confirm:"Confirm",transfer:"Transfer"},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",downloadSuccess:"Download successful",downloadFailed:"Download failed"},field:{dateRange:"Date Range",merchant:"Merchant",allMerchants:"All Merchants",status:"Status",orderId:"Order ID",userId:"User ID",address:"Address",createTime:"Create Time",successTime:"Success Time",notifyTime:"Notify Time",notifyUrl:"Notify URL",notifyContent:"Notify Content",errorContent:"Error Content",platformOrderId:"Platform Order ID",merchantOrderId:"Merchant Order ID",transferId:"Transfer ID"},prompt:{pleaseSelect:"Please select",pleaseInput:"Please input",pleaseInputOrderId:"Please input order ID",pleaseInputUserId:"Please input user ID",pleaseInputAddress:"Please input address",pleaseInputTxHash:"Please input transaction hash",selectMerchant:"Please select merchant"},status:{confirming:"Confirming",processing:"Processing",success:"Success",successful:"Successful",failed:"Failed",timeout:"Timeout",retrying:"Retrying"}},F={class:"wallet-query"},H={class:"card-title"},q={style:{display:"flex","justify-content":"space-between","align-items":"center"}},M={class:"card-title"},N={class:"table-container"},X=["innerHTML"],E=["innerHTML"],O={key:3},L=g(e({__name:"Query",setup(e){const g={zh:{...B,...I},en:{...R,...v}},{t:L}=b({messages:g,legacy:!1}),j=w(),A=a({merchant:void 0,chainType:void 0,walletType:void 0,address:"",currency:"all",sortByAmount:!0});L("status.enabled"),L("status.disabled");const P=[{title:L("field.walletId"),dataIndex:"walletId",key:"walletId",width:150},{title:L("field.merchant"),dataIndex:"merchant",key:"merchant",width:150},{title:L("field.userId"),dataIndex:"userId",key:"userId",width:150},{title:L("field.walletType"),dataIndex:"walletType",key:"walletType",width:150,customRender:({text:e})=>L(e)},{title:L("field.chainType"),dataIndex:"chainType",key:"chainType",width:150},{title:L("field.address"),dataIndex:"address",key:"address",width:300},{title:L("field.balance"),dataIndex:"balance",key:"balance",width:200,align:"right",customRender:({text:e})=>Q(e)},{title:L("field.usdtValue"),dataIndex:"usdtValue",key:"usdtValue",width:280,align:"right",customRender:({text:e})=>Q(e)},{title:L("status.label"),dataIndex:"status",key:"status",width:100},{title:L("action.action"),key:"action",width:150,fixed:"right"}],z=a(V.walletList),W=()=>{let e=V.walletList.filter((e=>{if(A.value.merchant&&e.merchant!==A.value.merchant)return!1;if(A.value.chainType&&e.chainType!==A.value.chainType)return!1;if(A.value.walletType&&e.walletType!==A.value.walletType)return!1;if(A.value.address&&!e.address.toLowerCase().includes(A.value.address.toLowerCase()))return!1;if(A.value.currency&&"all"!==A.value.currency){if(!(e.balances&&e.balances[A.value.currency]))return!1;e.balance=e.balances[A.value.currency]}else e.balance="";return!0}));A.value.sortByAmount&&e.sort(((e,a)=>"all"===A.value.currency?parseFloat(a.usdtValue)-parseFloat(e.usdtValue):parseFloat(a.balance||"0")-parseFloat(e.balance||"0"))),z.value=e},$=(e,a,l)=>{},Q=e=>{if(!e)return"0.00000000";const[a,l]=e.split("."),t=a.replace(/\B(?=(\d{3})+(?!\d))/g,",");let s="digit-4";return a.length>=12?s="digit-12":a.length>=8&&(s="digit-8"),`<span class="${s}">${t}</span><span class="decimal">.${l||"00000000"}</span>`},G=()=>{J.value=!0},J=a(!1),Y=a(!1),Z=a(),K=l({merchant:void 0,chainType:void 0,walletType:"transfer",address:""}),ee=()=>{Object.assign(K,{merchant:void 0,chainType:void 0,walletType:"transfer",address:""})},ae={merchant:[{required:!0,message:L("validation.merchantRequired")}],chainType:[{required:!0,message:L("validation.chainTypeRequired")}],address:[{required:!0,message:L("validation.addressRequired"),trigger:"blur"}]},le=async()=>{try{Z.value&&(await Z.value.validate(),Y.value=!0,setTimeout((()=>{var e;S.success(L("message.addSuccess")),J.value=!1,Y.value=!1,ee(),null==(e=Z.value)||e.resetFields()}),1e3))}catch(e){}},te=()=>{var e;J.value=!1,ee(),null==(e=Z.value)||e.resetFields()};return(e,a)=>{const l=r("a-form-item"),b=r("a-input"),w=r("a-select-option"),v=r("a-select"),I=r("a-checkbox"),g=r("a-button"),B=r("a-form"),R=r("a-card"),ee=r("a-space"),se=r("a-table"),de=r("a-modal");return c(),t("div",F,[s(R,{bordered:!1,class:"filter-card"},{title:d((()=>[y("span",H,p(n(L)("title.queryCondition")),1)])),default:d((()=>[s(B,{layout:"inline",model:A.value,class:"query-form"},{default:d((()=>[s(l,{label:n(L)("field.merchant"),class:"form-item"},{default:d((()=>[s(U,{modelValue:A.value.merchant,"onUpdate:modelValue":a[0]||(a[0]=e=>A.value.merchant=e),placeholder:n(L)("prompt.selectMerchant"),style:{width:"180px"}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.chainType"),class:"form-item"},{default:d((()=>[s(D,{modelValue:A.value.chainType,"onUpdate:modelValue":a[1]||(a[1]=e=>A.value.chainType=e),placeholder:n(L)("prompt.selectChainType"),style:{width:"180px"}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.walletType"),class:"form-item"},{default:d((()=>[s(k,{modelValue:A.value.walletType,"onUpdate:modelValue":a[2]||(a[2]=e=>A.value.walletType=e),placeholder:n(L)("prompt.selectWalletType"),style:{width:"180px"}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.address"),class:"form-item"},{default:d((()=>[s(b,{value:A.value.address,"onUpdate:value":a[3]||(a[3]=e=>A.value.address=e),placeholder:n(L)("prompt.pleaseInputAddress"),style:{width:"300px"},"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.currency"),class:"form-item"},{default:d((()=>[s(v,{value:A.value.currency,"onUpdate:value":a[4]||(a[4]=e=>A.value.currency=e),placeholder:n(L)("prompt.selectCurrency"),style:{width:"180px"},"allow-clear":""},{default:d((()=>[(c(!0),t(i,null,u(n(V).currencies,(e=>(c(),m(w,{key:e.value,value:e.value},{default:d((()=>[o(p(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value","placeholder"])])),_:1},8,["label"]),s(l,{class:"form-item checkbox-item"},{default:d((()=>[s(I,{checked:A.value.sortByAmount,"onUpdate:checked":a[5]||(a[5]=e=>A.value.sortByAmount=e)},{default:d((()=>[o(p(n(L)("field.sortByAmount")),1)])),_:1},8,["checked"])])),_:1}),s(l,{class:"form-item"},{default:d((()=>[s(g,{type:"primary",onClick:W},{icon:d((()=>[s(n(C))])),default:d((()=>[o(" "+p(n(L)("action.search")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),s(R,{bordered:!1,bodyStyle:{padding:"20px 24px"},class:"table-card"},{title:d((()=>[y("div",q,[y("span",M,p(n(L)("title.walletList")),1),s(g,{type:"primary",onClick:G},{icon:d((()=>[s(n(_))])),default:d((()=>[o(" "+p(n(L)("action.addWallet")),1)])),_:1})])])),default:d((()=>[y("div",N,[s(se,{columns:P,"data-source":z.value,pagination:{total:100,pageSize:20,showSizeChanger:!1,showQuickJumper:!0},bordered:!0,scroll:{x:1400},onChange:$},{bodyCell:d((({column:e,record:a})=>{return["balance"===e.key?(c(),t("span",{key:0,class:"balance-value",innerHTML:Q(a.balance)},null,8,X)):"usdtValue"===e.key?(c(),t("span",{key:1,class:"usdt-value",innerHTML:Q(a.usdtValue)},null,8,E)):"action"===e.key?(c(),m(ee,{key:2},{default:d((()=>[s(g,{type:"link",size:"small",onClick:e=>{j.push("/wallet/detail")}},{default:d((()=>[o(p(n(L)("action.details")),1)])),_:2},1032,["onClick"])])),_:2},1024)):"address"===e.key?(c(),t("span",O,[o(p((l=a.address,l?l.length>12?`${l.slice(0,6)}...${l.slice(-6)}`:l:""))+" ",1),s(n(x),{class:"copy-icon",onClick:h((e=>(async e=>{try{await navigator.clipboard.writeText(e),S.success(L("message.copySuccess"))}catch(a){S.error(L("message.copyFailed"))}})(a.address)),["stop"])},null,8,["onClick"])])):"status"===e.key?(c(),t("span",{key:4,class:f(["status-tag",a.isDisabled?"status-disabled":"status-enabled"])},p(a.isDisabled?n(L)("status.disabled"):n(L)("status.enabled")),3)):T("",!0)];var l})),_:1},8,["data-source"])])])),_:1}),s(de,{open:J.value,"onUpdate:open":a[10]||(a[10]=e=>J.value=e),title:n(L)("prompt.addWallet"),onOk:le,onCancel:te,confirmLoading:Y.value},{default:d((()=>[s(B,{model:K,rules:ae,ref_key:"addWalletFormRef",ref:Z,layout:"vertical"},{default:d((()=>[s(l,{label:n(L)("field.merchant"),name:"merchant"},{default:d((()=>[s(U,{modelValue:K.merchant,"onUpdate:modelValue":a[6]||(a[6]=e=>K.merchant=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),s(l,{label:n(L)("field.chainType"),name:"chainType"},{default:d((()=>[s(D,{modelValue:K.chainType,"onUpdate:modelValue":a[7]||(a[7]=e=>K.chainType=e)},null,8,["modelValue"])])),_:1},8,["label"]),s(l,{label:n(L)("field.walletType"),name:"walletType"},{default:d((()=>[s(k,{modelValue:K.walletType,"onUpdate:modelValue":a[8]||(a[8]=e=>K.walletType=e),style:{width:"100%"},disabled:""},null,8,["modelValue"])])),_:1},8,["label"]),s(l,{label:n(L)("field.address"),name:"address"},{default:d((()=>[s(b,{value:K.address,"onUpdate:value":a[9]||(a[9]=e=>K.address=e),placeholder:n(L)("prompt.pleaseInputAddress"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title","confirmLoading"])])}}}),[["__scopeId","data-v-21d5921a"]]);export{L as default};
