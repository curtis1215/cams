import{v as e,Z as a}from"./vendor-Dyo7sIqZ.js";import{_ as t}from"./DateRangeSelect-BG1OjOq7.js";import{_ as l}from"./WalletTypeSelect.vue_vue_type_script_setup_true_lang-CwMC8yGf.js";import{_ as r}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{_ as i}from"./CurrencySelect-C3lo__mv.js";import{d as n,r as o,f as c,c as d,o as s,a0 as h,k as u,Y as m,X as g,u as y,Z as p,_ as C,G as w,a1 as T,a4 as f,W as k,F as v,$ as _}from"./vue-vendor-B-98Oggh.js";import{_ as V}from"./index-DY7jNa2a.js";import"./lodash-CiXSdKEp.js";import"./ant-design-CqfBI87A.js";const b=[{id:1,date:"2024-01-15",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"42156.78",holdingCost:"84313.56",holdingCostChange:2.35,price:"43125.90",marketValue:"86251.80",marketValueChange:3.15,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:86251.8}]}},{id:2,date:"2024-01-15",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2543.21",holdingCost:"12716.05",holdingCostChange:-1.25,price:"2498.45",marketValue:"12492.25",marketValueChange:-1.85,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:12492.25}]}},{id:3,date:"2024-01-15",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:5e4}]}},{id:4,date:"2024-01-15",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"41890.45",holdingCost:"209452.25",holdingCostChange:3.45,price:"43125.90",marketValue:"215629.50",marketValueChange:4.25,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:215629.5}]}},{id:5,date:"2024-01-15",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2489.65",holdingCost:"24896.50",holdingCostChange:-2.15,price:"2498.45",marketValue:"24984.50",marketValueChange:-1.95,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-15",y:24984.5}]}},{id:6,date:"2024-01-14",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"41235.67",holdingCost:"82471.34",holdingCostChange:1.85,price:"42156.78",marketValue:"84313.56",marketValueChange:2.35,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:84313.56}]}},{id:7,date:"2024-01-14",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2575.45",holdingCost:"12877.25",holdingCostChange:.95,price:"2543.21",marketValue:"12716.05",marketValueChange:-1.25,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:12716.05}]}},{id:8,date:"2024-01-14",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:5e4}]}},{id:9,date:"2024-01-14",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"40567.89",holdingCost:"202839.45",holdingCostChange:2.75,price:"41890.45",marketValue:"209452.25",marketValueChange:3.45,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:209452.25}]}},{id:10,date:"2024-01-14",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2545.32",holdingCost:"25453.20",holdingCostChange:-1.45,price:"2489.65",marketValue:"24896.50",marketValueChange:-2.15,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-14",y:24896.5}]}},{id:11,date:"2024-01-13",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"40512.34",holdingCost:"81024.68",holdingCostChange:-.85,price:"41235.67",marketValue:"82471.34",marketValueChange:1.85,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:82471.34}]}},{id:12,date:"2024-01-13",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2551.23",holdingCost:"12756.15",holdingCostChange:1.25,price:"2575.45",marketValue:"12877.25",marketValueChange:.95,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:12877.25}]}},{id:13,date:"2024-01-13",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:5e4}]}},{id:14,date:"2024-01-13",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"39456.78",holdingCost:"197283.90",holdingCostChange:1.95,price:"40567.89",marketValue:"202839.45",marketValueChange:2.75,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:202839.45}]}},{id:15,date:"2024-01-13",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2582.45",holdingCost:"25824.50",holdingCostChange:.75,price:"2545.32",marketValue:"25453.20",marketValueChange:-1.45,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-13",y:25453.2}]}},{id:16,date:"2024-01-12",merchant:"merchant_A",walletId:"WALLET_001",chainType:"BTC",currency:"BTC",averagePrice:"40890.12",holdingCost:"81780.24",holdingCostChange:-1.25,price:"40512.34",marketValue:"81024.68",marketValueChange:-.85,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:81024.68}]}},{id:17,date:"2024-01-12",merchant:"merchant_A",walletId:"WALLET_002",chainType:"ETH",currency:"ETH",averagePrice:"2520.45",holdingCost:"12602.25",holdingCostChange:.85,price:"2551.23",marketValue:"12756.15",marketValueChange:1.25,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:12756.15}]}},{id:18,date:"2024-01-12",merchant:"merchant_B",walletId:"WALLET_003",chainType:"TRON",currency:"USDT",averagePrice:"1.0000",holdingCost:"50000.00",holdingCostChange:0,price:"1.0000",marketValue:"50000.00",marketValueChange:0,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:5e4}]}},{id:19,date:"2024-01-12",merchant:"merchant_B",walletId:"WALLET_004",chainType:"BTC",currency:"BTC",averagePrice:"38678.90",holdingCost:"193394.50",holdingCostChange:1.45,price:"39456.78",marketValue:"197283.90",marketValueChange:1.95,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:197283.9}]}},{id:20,date:"2024-01-12",merchant:"merchant_C",walletId:"WALLET_005",chainType:"ETH",currency:"ETH",averagePrice:"2563.21",holdingCost:"25632.10",holdingCostChange:.45,price:"2582.45",marketValue:"25824.50",marketValueChange:.75,walletBalance:12345.67,detail:{chartData:[{x:"2024-01-12",y:25824.5}]}}],L={common:{action:{search:"搜索",reset:"重置"},table:{total:"共 {total} 條"}},reconciliation:{walletProfitLoss:{title:{search:"錢包持倉盈虧查詢",detail:"錢包持倉盈虧明細"},form:{dateRange:"日期範圍",walletId:"錢包ID",walletAddress:"錢包地址",walletType:"錢包類型",chainType:"鏈類型",currency:"幣種"},table:{date:"日期",merchant:"商戶",walletId:"錢包ID",walletBalance:"錢包餘額",chainType:"鏈類型",currency:"幣種",averagePrice:"平均價格",holdingCost:"持倉成本",price:"當前價格",marketValue:"市值",detail:"詳情"},walletType:{hot:"熱錢包",cold:"冷錢包"},detail:{title:"詳情"},chart:{holdingCost:"持倉成本",marketValue:"市值"}}}},B={views:{reconciliation:{walletProfitLoss:{title:{search:"Search Criteria",detail:"Details"},form:{dateRange:"Date Range",walletId:"Wallet ID",walletAddress:"Wallet Address",walletType:"Wallet Type",chainType:"Chain Type",currency:"Currency"},table:{date:"Date",merchant:"Merchant",walletId:"Wallet ID",walletBalance:"Wallet Balance",chainType:"Chain Type",currency:"Currency",averagePrice:"Average Price",holdingCost:"Holding Cost",price:"Current Price",marketValue:"Market Value",detail:"Details"},walletType:{hot:"Hot Wallet",cold:"Cold Wallet"},walletBalance:"Wallet Balance",chart:{holdingCost:"Holding Cost",marketValue:"Market Value"}}}}},P={search:"搜索",reset:"重置",submit:"提交",cancel:"取消",confirm:"確認",delete:"刪除",edit:"編輯",add:"新增",save:"保存",back:"返回",loading:"加載中...",noData:"暫無數據",success:"操作成功",error:"操作失敗",pleaseSelect:"請選擇",pleaseInput:"請輸入",action:{search:"搜索",reset:"重置",query:"查詢",add:"添加",edit:"編輯",delete:"刪除",save:"保存",cancel:"取消",confirm:"確認",back:"返回",submit:"提交",download:"下載",upload:"上傳",import:"導入",export:"導出",view:"查看",detail:"詳情",copy:"複製",action:"操作"},field:{orderId:"訂單號",merchant:"商戶",status:"狀態",createTime:"創建時間",amount:"金額"},prompt:{pleaseSelect:"請選擇",pleaseInput:"請輸入",selectChainType:"請選擇鏈類型"}},I={search:"Search",reset:"Reset",submit:"Submit",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",add:"Add",save:"Save",back:"Back",loading:"Loading...",noData:"No Data",success:"Operation Successful",error:"Operation Failed",pleaseSelect:"Please Select",pleaseInput:"Please Input",action:{search:"Search",reset:"Reset",query:"Query",add:"Add",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",confirm:"Confirm",back:"Back",submit:"Submit",download:"Download",upload:"Upload",import:"Import",export:"Export",view:"View",detail:"Detail",copy:"Copy",action:"Action"},field:{orderId:"Order ID",merchant:"Merchant",status:"Status",createTime:"Create Time",amount:"Amount"},prompt:{pleaseSelect:"Please select",pleaseInput:"Please input",selectChainType:"Please select chain type",querySuccess:"Query successful",queryFailed:"Query failed"}},x={class:"wallet-profit-loss"},D={class:"card-title"},A={class:"form-row"},E={class:"form-row"},S={class:"form-item-sm button-group"},W={class:"card-title"},H={class:"table-container"},R={class:"modal-content"},F={class:"chart-container"},U={class:"radio-group"},M=V(n({__name:"WalletProfitLoss",setup(n){const V={zh:{...L,...P},en:{...B,...I}},{t:M}=e({messages:V,legacy:!1}),z=a,O=o({dateRange:[],walletId:"",walletAddress:"",walletType:void 0,chainType:void 0,currency:void 0});c([{value:"hot",label:M("reconciliation.walletProfitLoss.walletType.hot")},{value:"cold",label:M("reconciliation.walletProfitLoss.walletType.cold")}]),c([{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"TRON",label:"TRON"}]),c([{value:"BTC",label:"BTC"},{value:"ETH",label:"ETH"},{value:"USDT",label:"USDT"}]);const j=c([]),N=c(!1),q=o({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>M("common.table.total",{total:e})}),Q=[{title:M("reconciliation.walletProfitLoss.table.date"),dataIndex:"date",key:"date",width:120},{title:M("reconciliation.walletProfitLoss.table.merchant"),dataIndex:"merchant",key:"merchant",width:120},{title:M("reconciliation.walletProfitLoss.table.walletId"),dataIndex:"walletId",key:"walletId",width:150},{title:M("reconciliation.walletProfitLoss.table.walletBalance"),dataIndex:"walletBalance",key:"walletBalance",width:120},{title:M("reconciliation.walletProfitLoss.table.chainType"),dataIndex:"chainType",key:"chainType",width:120},{title:M("reconciliation.walletProfitLoss.table.currency"),dataIndex:"currency",key:"currency",width:120},{title:M("reconciliation.walletProfitLoss.table.averagePrice"),dataIndex:"averagePrice",key:"averagePrice",width:150,align:"right"},{title:M("reconciliation.walletProfitLoss.table.holdingCost"),key:"holdingCost",width:200,align:"right"},{title:M("reconciliation.walletProfitLoss.table.price"),dataIndex:"price",key:"price",width:150,align:"right"},{title:M("reconciliation.walletProfitLoss.table.marketValue"),key:"marketValue",width:200,align:"right"},{title:M("reconciliation.walletProfitLoss.table.detail"),key:"detail",width:120,customCell:()=>({style:{textAlign:"center"}})}],G=e=>new Intl.NumberFormat("en-US",{minimumFractionDigits:8,maximumFractionDigits:8}).format(parseFloat(e)),Z=c(!1),J=c("7"),X=c(null),Y=d((()=>({chart:{type:"line",height:350,toolbar:{show:!0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}},background:"#1f1f1f",foreColor:"#999"},colors:["#00E396","#FF4560"],stroke:{curve:"smooth",width:3},dataLabels:{enabled:!1},grid:{borderColor:"#303030",strokeDashArray:3,padding:{top:10,right:10,bottom:10,left:10}},xaxis:{type:"datetime",labels:{style:{colors:"#999"},datetimeFormatter:{year:"yyyy",month:"MM/dd",day:"MM/dd",hour:"HH:mm"}},axisBorder:{color:"#303030"},axisTicks:{color:"#303030"}},yaxis:{labels:{style:{colors:"#999"},formatter:e=>e.toFixed(8)}},tooltip:{theme:"dark",x:{format:"yyyy/MM/dd HH:mm"},y:{formatter:e=>e.toFixed(8)}},legend:{show:!0,position:"top",horizontalAlign:"right",labels:{colors:"#999"}}}))),$=d((()=>{const e=parseInt(J.value),a=((e,a)=>{if(!e)return{holdingCost:[],marketValue:[]};const t={holdingCost:[],marketValue:[]},l=new Date,r=parseFloat(e.holdingCost),i=parseFloat(e.marketValue);for(let n=0;n<a;n++){const e=new Date(l);e.setDate(e.getDate()-n);const a=.98+.04*Math.random(),o=.98+.04*Math.random();t.holdingCost.unshift({x:e.getTime(),y:r*a}),t.marketValue.unshift({x:e.getTime(),y:i*o})}return t})(X.value,e);return[{name:M("reconciliation.walletProfitLoss.chart.holdingCost"),data:a.holdingCost},{name:M("reconciliation.walletProfitLoss.chart.marketValue"),data:a.marketValue}]})),K=e=>{J.value=e.target.value},ee=()=>{N.value=!0,setTimeout((()=>{j.value=b,q.total=b.length,N.value=!1}),500)},ae=()=>{O.dateRange=[],O.walletId="",O.walletAddress="",O.walletType=void 0,O.chainType=void 0,O.currency=void 0,ee()},te=e=>{q.current=e.current,q.pageSize=e.pageSize,ee()};return s((()=>{ee()})),(e,a)=>{const n=g("a-form-item"),o=g("a-input"),c=g("a-button"),d=g("a-space"),s=g("a-form"),V=g("a-card"),b=g("a-table"),L=g("a-radio-button"),B=g("a-radio-group"),P=g("a-modal");return p(),h("div",x,[u(V,{bordered:!1,class:"filter-card"},{title:m((()=>[C("span",D,T(y(M)("reconciliation.walletProfitLoss.title.search")),1)])),default:m((()=>[u(s,{model:O,class:"query-form"},{default:m((()=>[C("div",A,[u(n,{label:y(M)("reconciliation.walletProfitLoss.form.dateRange"),class:"form-item-lg"},{default:m((()=>[u(t,{modelValue:O.dateRange,"onUpdate:modelValue":a[0]||(a[0]=e=>O.dateRange=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),u(n,{label:y(M)("reconciliation.walletProfitLoss.form.walletId"),class:"form-item-md"},{default:m((()=>[u(o,{value:O.walletId,"onUpdate:value":a[1]||(a[1]=e=>O.walletId=e),style:{width:"100%"},"allow-clear":""},null,8,["value"])])),_:1},8,["label"]),u(n,{label:y(M)("reconciliation.walletProfitLoss.form.walletAddress"),class:"form-item-lg"},{default:m((()=>[u(o,{value:O.walletAddress,"onUpdate:value":a[2]||(a[2]=e=>O.walletAddress=e),style:{width:"100%"},"allow-clear":""},null,8,["value"])])),_:1},8,["label"])]),C("div",E,[u(n,{label:y(M)("reconciliation.walletProfitLoss.form.walletType"),class:"form-item-md"},{default:m((()=>[u(l,{modelValue:O.walletType,"onUpdate:modelValue":a[3]||(a[3]=e=>O.walletType=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),u(n,{label:y(M)("reconciliation.walletProfitLoss.form.chainType"),class:"form-item-md"},{default:m((()=>[u(r,{modelValue:O.chainType,"onUpdate:modelValue":a[4]||(a[4]=e=>O.chainType=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),u(n,{label:y(M)("reconciliation.walletProfitLoss.form.currency"),class:"form-item-md"},{default:m((()=>[u(i,{modelValue:O.currency,"onUpdate:modelValue":a[5]||(a[5]=e=>O.currency=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),C("div",S,[u(d,null,{default:m((()=>[u(c,{onClick:ae},{default:m((()=>[w(T(y(M)("common.action.reset")),1)])),_:1}),u(c,{type:"primary",onClick:ee},{default:m((()=>[w(T(y(M)("common.action.search")),1)])),_:1})])),_:1})])])])),_:1},8,["model"])])),_:1}),u(V,{bordered:!1,bodyStyle:{padding:"20px 24px"},class:"table-card"},{title:m((()=>[C("span",W,T(y(M)("reconciliation.walletProfitLoss.title.detail")),1)])),default:m((()=>[C("div",H,[u(b,{columns:Q,"data-source":j.value,loading:N.value,pagination:q,onChange:te,"row-key":"id"},{bodyCell:m((({column:e,record:a})=>["holdingCost"===e.key?(p(),h(v,{key:0},[C("span",null,T(G(a.holdingCost)),1),C("span",{class:_(["percentage",a.holdingCostChange>=0?"increase":"decrease"])},T(a.holdingCostChange>=0?"↑":"↓")+" "+T(Math.abs(a.holdingCostChange).toFixed(2))+"% ",3)],64)):f("",!0),"marketValue"===e.key?(p(),h(v,{key:1},[C("span",null,T(G(a.marketValue)),1),C("span",{class:_(["percentage",a.marketValueChange>=0?"increase":"decrease"])},T(a.marketValueChange>=0?"↑":"↓")+" "+T(Math.abs(a.marketValueChange).toFixed(2))+"% ",3)],64)):f("",!0),"averagePrice"===e.key||"price"===e.key?(p(),h(v,{key:2},[w(T(G(a[e.key])),1)],64)):f("",!0),"walletBalance"===e.key?(p(),h(v,{key:3},[w(T(G(a.walletBalance)),1)],64)):f("",!0),"detail"===e.key?(p(),k(c,{key:4,type:"link",onClick:e=>(e=>{X.value=e,Z.value=!0})(a)},{default:m((()=>[w(T(y(M)("reconciliation.walletProfitLoss.table.detail")),1)])),_:2},1032,["onClick"])):f("",!0)])),_:1},8,["data-source","loading","pagination"])])])),_:1}),u(P,{open:Z.value,"onUpdate:open":a[7]||(a[7]=e=>Z.value=e),title:y(M)("reconciliation.walletProfitLoss.detail.title"),width:800,footer:null,destroyOnClose:!0},{default:m((()=>[C("div",R,[C("div",F,[u(y(z),{width:"100%",height:"400",type:"line",options:Y.value,series:$.value},null,8,["options","series"])]),C("div",U,[u(B,{value:J.value,"onUpdate:value":a[6]||(a[6]=e=>J.value=e),onChange:K},{default:m((()=>[u(L,{value:"7"},{default:m((()=>a[8]||(a[8]=[w("7天")]))),_:1}),u(L,{value:"30"},{default:m((()=>a[9]||(a[9]=[w("30天")]))),_:1}),u(L,{value:"90"},{default:m((()=>a[10]||(a[10]=[w("90天")]))),_:1})])),_:1},8,["value"])])])])),_:1},8,["open","title"])])}}}),[["__scopeId","data-v-66faf378"]]);export{M as default};
