import{d as e,f as a,r as l,a0 as t,k as s,Y as d,X as r,u as n,Z as c,G as i,a1 as u,_ as o,W as p,a4 as y,B as m,$ as T}from"./vue-vendor-B-98Oggh.js";import{v as h,x as f}from"./vendor-Dyo7sIqZ.js";import{a as w,_ as b}from"./index-B8eEKoFF.js";import{_ as I}from"./WalletTypeSelect.vue_vue_type_script_setup_true_lang-CwMC8yGf.js";import{_ as v}from"./ChainTypeSelect.vue_vue_type_style_index_0_lang-BnpxTwcj.js";import{d as g,c as C,P as k,b as x}from"./ant-design-CqfBI87A.js";import"./lodash-CiXSdKEp.js";const _={walletList:[{key:"1",walletId:"U12345678",merchant:"Fameex",userId:"U123456",walletType:"walletType.user",chainType:"ETH",currency:"USDT",address:"0x1234567890abcdef1234567890abcdef12345678",assetValue:"1234567890123.45678900",lastTransactionTime:"2024-03-15 10:30:25",isDisabled:!1},{key:"2",walletId:"M87654321",merchant:"Fameex",userId:"U234567",walletType:"walletType.collection",chainType:"BTC",currency:"BTC",address:"bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh",assetValue:"123456789.12345678",lastTransactionTime:"2024-03-15 09:45:12",isDisabled:!0},{key:"3",walletId:"W98765432",merchant:"CNX",userId:"U345678",walletType:"walletType.withdrawal",chainType:"TRON",currency:"USDT",address:"TRX1234567890abcdef1234567890abcdef12345678",assetValue:"987654321.87654321",lastTransactionTime:"2024-03-15 11:20:33",isDisabled:!1},{key:"4",walletId:"T45678901",merchant:"Fameex",userId:"U456789",walletType:"walletType.transfer",chainType:"ETH",currency:"ETH",address:"0xabcdef1234567890abcdef1234567890abcdef12",assetValue:"12345.67890123",lastTransactionTime:"2024-03-15 08:15:45",isDisabled:!1},{key:"5",walletId:"U56789012",merchant:"CNX",userId:"U567890",walletType:"walletType.user",chainType:"BTC",currency:"BTC",address:"bc1qabcdefghijklmnopqrstuvwxyz0123456789",assetValue:"7654.32109876",lastTransactionTime:"2024-03-15 13:40:18",isDisabled:!1},{key:"6",walletId:"M67890123",merchant:"Fameex",userId:"U678901",walletType:"walletType.collection",chainType:"TRON",currency:"TRX",address:"TRXabcdef1234567890abcdef1234567890abcdef",assetValue:"8765432.10987654",lastTransactionTime:"2024-03-15 14:55:27",isDisabled:!1},{key:"7",walletId:"W78901234",merchant:"CNX",userId:"U789012",walletType:"walletType.withdrawal",chainType:"ETH",currency:"USDT",address:"0x9876543210fedcba9876543210fedcba98765432",assetValue:"9876543.21098765",lastTransactionTime:"2024-03-15 15:10:42",isDisabled:!0},{key:"8",walletId:"T89012345",merchant:"Fameex",userId:"U890123",walletType:"walletType.transfer",chainType:"BTC",currency:"BTC",address:"bc1q9876543210fedcba9876543210fedcba987654",assetValue:"1234.56789012",lastTransactionTime:"2024-03-15 16:25:33",isDisabled:!1},{key:"9",walletId:"U90123456",merchant:"CNX",userId:"U901234",walletType:"walletType.user",chainType:"TRON",currency:"USDT",address:"TRX9876543210fedcba9876543210fedcba987654",assetValue:"5432.10987654",lastTransactionTime:"2024-03-15 17:30:15",isDisabled:!1},{key:"10",walletId:"M01234567",merchant:"Fameex",userId:"U012345",walletType:"walletType.collection",chainType:"ETH",currency:"ETH",address:"0x0123456789abcdef0123456789abcdef01234567",assetValue:"6789.01234567",lastTransactionTime:"2024-03-15 18:45:55",isDisabled:!0}]},D={title:{queryCondition:"查詢條件",walletList:"錢包列表"},field:{merchant:"商戶",chainType:"鏈類型",currency:"幣種",address:"地址",walletId:"錢包 ID",userId:"用戶ID",walletType:"錢包類型",assetValue:"資產價值(USDT)",status:"狀態"},walletType:{user:"用戶錢包",collection:"收款錢包",withdrawal:"提現錢包",transfer:"轉賬錢包"},prompt:{addWallet:"新增錢包",pleaseInputAddress:"請輸入地址",selectMerchant:"請選擇商戶",selectChainType:"請選擇鏈類型",selectCurrency:"請選擇幣種",selectWalletType:"請選擇錢包類型",inputAddress:"請輸入錢包地址"},message:{copySuccess:"複製成功",copyFailed:"複製失敗",addSuccess:"新增成功"},action:{search:"查詢",details:"詳情",transfer:"轉賬",addWallet:"新增錢包",action:"操作"},status:{label:"狀態",enabled:"啟用",disabled:"禁用"}},V={title:{queryCondition:"Query Condition",walletList:"Wallet List"},field:{merchant:"Merchant",chainType:"Chain Type",currency:"Currency",address:"Address",walletId:"Wallet ID",userId:"User ID",walletType:"Wallet Type",assetValue:"Asset Value",status:"Status"},walletType:{user:"User Wallet",collection:"Collection Wallet",withdrawal:"Withdrawal Wallet",transfer:"Transfer Wallet"},prompt:{addWallet:"Add Wallet",pleaseInputAddress:"Please Input Address",selectMerchant:"Please Select Merchant",selectChainType:"Please select chain type",selectCurrency:"Please select currency",selectWalletType:"Please select wallet type",inputAddress:"Please input wallet address"},message:{copySuccess:"Copy Success",copyFailed:"Copy Failed",addSuccess:"Add successful"},action:{search:"Search",details:"Details",transfer:"Transfer",addWallet:"Add Wallet",action:"Action"},status:{label:"Status",enabled:"Enabled",disabled:"Disabled"}},U={action:{search:"搜索",reset:"重置",query:"查詢",download:"下載數據",retry:"重試",cancel:"取消",confirm:"確認",transfer:"轉賬"},message:{copySuccess:"複製成功",copyFailed:"複製失敗",downloadSuccess:"下載成功",downloadFailed:"下載失敗"},field:{dateRange:"日期範圍",merchant:"商戶",allMerchants:"全部商戶",status:"狀態",orderId:"訂單號",userId:"用戶 ID",address:"地址",createTime:"創建時間",successTime:"成功時間",notifyTime:"通知時間",notifyUrl:"通知地址",notifyContent:"通知內容",errorContent:"錯誤內容",platformOrderId:"平台訂單號",merchantOrderId:"商戶訂單號",transferId:"轉帳單號"},prompt:{pleaseSelect:"請選擇",pleaseInput:"請輸入",pleaseInputOrderId:"請輸入訂單號",pleaseInputUserId:"請輸入用戶 ID",pleaseInputAddress:"請輸入地址",pleaseInputTxHash:"請輸入交易哈希",selectMerchant:"請選擇商戶"},status:{confirming:"確認中",processing:"處理中",success:"成功",successful:"成功",failed:"失敗",timeout:"超時",retrying:"重試中"}},S={action:{search:"Search",reset:"Reset",query:"Query",download:"Download Data",retry:"Retry",cancel:"Cancel",confirm:"Confirm",transfer:"Transfer"},message:{copySuccess:"Copy successful",copyFailed:"Copy failed",downloadSuccess:"Download successful",downloadFailed:"Download failed"},field:{dateRange:"Date Range",merchant:"Merchant",allMerchants:"All Merchants",status:"Status",orderId:"Order ID",userId:"User ID",address:"Address",createTime:"Create Time",successTime:"Success Time",notifyTime:"Notify Time",notifyUrl:"Notify URL",notifyContent:"Notify Content",errorContent:"Error Content",platformOrderId:"Platform Order ID",merchantOrderId:"Merchant Order ID",transferId:"Transfer ID"},prompt:{pleaseSelect:"Please select",pleaseInput:"Please input",pleaseInputOrderId:"Please input order ID",pleaseInputUserId:"Please input user ID",pleaseInputAddress:"Please input address",pleaseInputTxHash:"Please input transaction hash",selectMerchant:"Please select merchant"},status:{confirming:"Confirming",processing:"Processing",success:"Success",successful:"Successful",failed:"Failed",timeout:"Timeout",retrying:"Retrying"}},W={class:"wallet-query"},R={class:"card-title"},q={style:{display:"flex","justify-content":"space-between","align-items":"center"}},F={class:"card-title"},A={class:"table-container"},M=["innerHTML"],P={key:2},L=b(e({__name:"Query",setup(e){const b={zh:{...U,...D},en:{...S,...V}},{t:L}=h({messages:b,legacy:!1}),O=f(),j=a({merchant:void 0,chainType:void 0,walletType:void 0,address:""});L("status.enabled"),L("status.disabled");const H=[{title:L("field.walletId"),dataIndex:"walletId",key:"walletId",width:150},{title:L("field.merchant"),dataIndex:"merchant",key:"merchant",width:150},{title:L("field.userId"),dataIndex:"userId",key:"userId",width:150},{title:L("field.walletType"),dataIndex:"walletType",key:"walletType",width:150,customRender:({text:e})=>L(e)},{title:L("field.chainType"),dataIndex:"chainType",key:"chainType",width:150},{title:L("field.address"),dataIndex:"address",key:"address",width:300},{title:L("field.assetValue"),dataIndex:"assetValue",key:"assetValue",width:280,align:"right",customRender:({text:e})=>E(e)},{title:L("status.label"),dataIndex:"status",key:"status",width:100},{title:L("action.action"),key:"action",width:150,fixed:"right"}],N=a(_.walletList),X=()=>{const e=_.walletList.filter((e=>(!j.value.merchant||e.merchant===j.value.merchant)&&((!j.value.chainType||e.chainType===j.value.chainType)&&((!j.value.walletType||e.walletType===j.value.walletType)&&!(j.value.address&&!e.address.toLowerCase().includes(j.value.address.toLowerCase()))))));N.value=e},B=(e,a,l)=>{},E=e=>{if(!e)return"0.00000000";const[a,l]=e.split("."),t=a.replace(/\B(?=(\d{3})+(?!\d))/g,",");let s="digit-4";return a.length>=12?s="digit-12":a.length>=8&&(s="digit-8"),`<span class="${s}">${t}</span><span class="decimal">.${l||"00000000"}</span>`},z=()=>{$.value=!0},$=a(!1),Q=a(!1),G=a(),J=l({merchant:void 0,chainType:void 0,walletType:"transfer",address:""}),Y=()=>{Object.assign(J,{merchant:void 0,chainType:void 0,walletType:"transfer",address:""})},Z={merchant:[{required:!0,message:L("validation.merchantRequired")}],chainType:[{required:!0,message:L("validation.chainTypeRequired")}],address:[{required:!0,message:L("validation.addressRequired"),trigger:"blur"}]},K=async()=>{try{G.value&&(await G.value.validate(),Q.value=!0,setTimeout((()=>{var e;x.success(L("message.addSuccess")),$.value=!1,Q.value=!1,Y(),null==(e=G.value)||e.resetFields()}),1e3))}catch(e){}},ee=()=>{var e;$.value=!1,Y(),null==(e=G.value)||e.resetFields()};return(e,a)=>{const l=r("a-form-item"),h=r("a-input"),f=r("a-button"),b=r("a-form"),_=r("a-card"),D=r("a-space"),V=r("a-table"),U=r("a-modal");return c(),t("div",W,[s(_,{bordered:!1,class:"filter-card"},{title:d((()=>[o("span",R,u(n(L)("title.queryCondition")),1)])),default:d((()=>[s(b,{layout:"inline",model:j.value,class:"query-form"},{default:d((()=>[s(l,{label:n(L)("field.merchant"),class:"form-item"},{default:d((()=>[s(w,{modelValue:j.value.merchant,"onUpdate:modelValue":a[0]||(a[0]=e=>j.value.merchant=e),placeholder:n(L)("prompt.selectMerchant"),style:{width:"180px"}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.chainType"),class:"form-item"},{default:d((()=>[s(v,{modelValue:j.value.chainType,"onUpdate:modelValue":a[1]||(a[1]=e=>j.value.chainType=e),placeholder:n(L)("prompt.selectChainType"),style:{width:"180px"}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.walletType"),class:"form-item"},{default:d((()=>[s(I,{modelValue:j.value.walletType,"onUpdate:modelValue":a[2]||(a[2]=e=>j.value.walletType=e),placeholder:n(L)("prompt.selectWalletType"),style:{width:"180px"}},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),s(l,{label:n(L)("field.address"),class:"form-item"},{default:d((()=>[s(h,{value:j.value.address,"onUpdate:value":a[3]||(a[3]=e=>j.value.address=e),placeholder:n(L)("prompt.pleaseInputAddress"),style:{width:"300px"},"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"]),s(l,{class:"form-item"},{default:d((()=>[s(f,{type:"primary",onClick:X},{icon:d((()=>[s(n(g))])),default:d((()=>[i(" "+u(n(L)("action.search")),1)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),s(_,{bordered:!1,bodyStyle:{padding:"20px 24px"},class:"table-card"},{title:d((()=>[o("div",q,[o("span",F,u(n(L)("title.walletList")),1),s(f,{type:"primary",onClick:z},{icon:d((()=>[s(n(k))])),default:d((()=>[i(" "+u(n(L)("action.addWallet")),1)])),_:1})])])),default:d((()=>[o("div",A,[s(V,{columns:H,"data-source":N.value,pagination:{total:100,pageSize:20,showSizeChanger:!1,showQuickJumper:!0},bordered:!0,scroll:{x:1400},onChange:B},{bodyCell:d((({column:e,record:a})=>{return["assetValue"===e.key?(c(),t("span",{key:0,class:"asset-value",innerHTML:E(a.assetValue)},null,8,M)):"action"===e.key?(c(),p(D,{key:1},{default:d((()=>[s(f,{type:"link",size:"small",onClick:e=>{O.push("/wallet/detail")}},{default:d((()=>[i(u(n(L)("action.details")),1)])),_:2},1032,["onClick"])])),_:2},1024)):"address"===e.key?(c(),t("span",P,[i(u((l=a.address,l?l.length>12?`${l.slice(0,6)}...${l.slice(-6)}`:l:""))+" ",1),s(n(C),{class:"copy-icon",onClick:m((e=>(async e=>{try{await navigator.clipboard.writeText(e),x.success(L("message.copySuccess"))}catch(a){x.error(L("message.copyFailed"))}})(a.address)),["stop"])},null,8,["onClick"])])):"status"===e.key?(c(),t("span",{key:3,class:T(["status-tag",a.isDisabled?"status-disabled":"status-enabled"])},u(a.isDisabled?n(L)("status.disabled"):n(L)("status.enabled")),3)):y("",!0)];var l})),_:1},8,["data-source"])])])),_:1}),s(U,{open:$.value,"onUpdate:open":a[8]||(a[8]=e=>$.value=e),title:n(L)("prompt.addWallet"),onOk:K,onCancel:ee,confirmLoading:Q.value},{default:d((()=>[s(b,{model:J,rules:Z,ref_key:"addWalletFormRef",ref:G,layout:"vertical"},{default:d((()=>[s(l,{label:n(L)("field.merchant"),name:"merchant"},{default:d((()=>[s(w,{modelValue:J.merchant,"onUpdate:modelValue":a[4]||(a[4]=e=>J.merchant=e),style:{width:"100%"}},null,8,["modelValue"])])),_:1},8,["label"]),s(l,{label:n(L)("field.chainType"),name:"chainType"},{default:d((()=>[s(v,{modelValue:J.chainType,"onUpdate:modelValue":a[5]||(a[5]=e=>J.chainType=e)},null,8,["modelValue"])])),_:1},8,["label"]),s(l,{label:n(L)("field.walletType"),name:"walletType"},{default:d((()=>[s(I,{modelValue:J.walletType,"onUpdate:modelValue":a[6]||(a[6]=e=>J.walletType=e),style:{width:"100%"},disabled:""},null,8,["modelValue"])])),_:1},8,["label"]),s(l,{label:n(L)("field.address"),name:"address"},{default:d((()=>[s(h,{value:J.address,"onUpdate:value":a[7]||(a[7]=e=>J.address=e),placeholder:n(L)("prompt.pleaseInputAddress"),"allow-clear":""},null,8,["value","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"])])),_:1},8,["open","title","confirmLoading"])])}}}),[["__scopeId","data-v-dbbcff43"]]);export{L as default};
